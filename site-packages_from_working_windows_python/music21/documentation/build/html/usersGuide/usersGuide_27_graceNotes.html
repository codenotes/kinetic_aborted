<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>User’s Guide, Chapter 27: Grace Notes &mdash; music21 Documentation</title>
    
    <link rel="stylesheet" href="../_static/m21.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    <link rel="top" title="music21 Documentation" href="../index.html" />
    <link rel="up" title="User’s Guide" href="index.html" />
    <link rel="next" title="User’s Guide, Chapter 28: Lyric Searching" href="usersGuide_28_lyricSearcher.html" />
    <link rel="prev" title="User’s Guide, Chapter 26: Clients and Weak References." href="usersGuide_26_clientWeakref.html" /><link href='http://fonts.googleapis.com/css?family=Source+Code+Pro|Open+Sans:300italic,400italic,700italic,400,300,700' rel='stylesheet' type='text/css'>
<script src='http://artusi.xyz/music21j/ext/require/require.js'></script>
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="usersGuide_28_lyricSearcher.html" title="User’s Guide, Chapter 28: Lyric Searching"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="usersGuide_26_clientWeakref.html" title="User’s Guide, Chapter 26: Clients and Weak References."
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">music21</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">User&#8217;s Guide</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="usersGuide_26_clientWeakref.html"
                        title="previous chapter">User&#8217;s Guide, Chapter 26: Clients and Weak References.</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="usersGuide_28_lyricSearcher.html"
                        title="next chapter">User&#8217;s Guide, Chapter 28: Lyric Searching</a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">User&#8217;s Guide, Chapter 27: Grace Notes</a><ul>
<li><a class="reference internal" href="#basic-graces">Basic Graces</a></li>
<li><a class="reference internal" href="#multiple-grace-notes">Multiple Grace Notes</a></li>
<li><a class="reference internal" href="#stealing-time">Stealing time</a></li>
</ul>
</li>
</ul>

<h3><a href="../index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../about/index.html">About Music21</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">User&#8217;s Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="usersGuide_99_Table_of_Contents.html">User&#8217;s Guide: Table of Contents</a></li>
<li class="toctree-l2"><a class="reference internal" href="usersGuide_01_installing.html">User&#8217;s Guide, Chapter 1: Installing and Getting Started with <code class="docutils literal"><span class="pre">music21</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="usersGuide_02_notes.html">User&#8217;s Guide, Chapter 2: Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="usersGuide_03_pitches.html">User&#8217;s Guide, Chapter 3: Pitches, Durations, and Notes again</a></li>
<li class="toctree-l2"><a class="reference internal" href="usersGuide_04_stream1.html">User&#8217;s Guide, Chapter 4: Lists, Streams (I) and Output</a></li>
<li class="toctree-l2"><a class="reference internal" href="usersGuide_05_listsOfLists.html">User&#8217;s Guide, Chapter 5: Lists of Lists, Functions, and Recursion</a></li>
<li class="toctree-l2"><a class="reference internal" href="usersGuide_06_stream2.html">User&#8217;s Guide, Chapter 6: Streams (II): Hierarchies, Recursion, and Flattening</a></li>
<li class="toctree-l2"><a class="reference internal" href="usersGuide_07_chords.html">User&#8217;s Guide, Chapter 7: Chords</a></li>
<li class="toctree-l2"><a class="reference internal" href="usersGuide_08_installingMusicXML.html">User&#8217;s Guide, Chapter 8: Installing MusicXML Readers and File Formats (1)</a></li>
<li class="toctree-l2"><a class="reference internal" href="usersGuide_09_chordify.html">User&#8217;s Guide, Chapter 9: Chordify</a></li>
<li class="toctree-l2"><a class="reference internal" href="usersGuide_10_examples1.html">User&#8217;s Guide, Chapter 10: Examples 1</a></li>
<li class="toctree-l2"><a class="reference internal" href="usersGuide_11_corpusSearching.html">User&#8217;s Guide, Chapter 11: Corpus Searching</a></li>
<li class="toctree-l2"><a class="reference internal" href="usersGuide_12_music21object.html">User&#8217;s Guide, Chapter 12: Getting Back to Basics: The Music21Object</a></li>
<li class="toctree-l2"><a class="reference internal" href="usersGuide_13_music21object2.html">User&#8217;s Guide, Chapter 13: More Music21Object Attributes and Properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="usersGuide_14_timeSignatures.html">User&#8217;s Guide: Chapter 14: Time Signatures and Beats</a></li>
<li class="toctree-l2"><a class="reference internal" href="usersGuide_15_key.html">User&#8217;s Guide, Chapter 15: Keys and KeySignatures</a></li>
<li class="toctree-l2"><a class="reference internal" href="usersGuide_17_derivations.html">User&#8217;s Guide: Chapter 17: Derivations</a></li>
<li class="toctree-l2"><a class="reference internal" href="usersGuide_21_sorting.html">User&#8217;s Guide, Chapter 21: Ordering and Sorting of Stream Elements</a></li>
<li class="toctree-l2"><a class="reference internal" href="usersGuide_22_graphing.html">User’s Guide, Chapter 22: Graphing</a></li>
<li class="toctree-l2"><a class="reference internal" href="usersGuide_23_advancedCorpus.html">User&#8217;s Guide, Chapter 23: Advanced Corpus and Metadata Searching</a></li>
<li class="toctree-l2"><a class="reference internal" href="usersGuide_25_postTonalTools1.html">User&#8217;s Guide, Chapter 25: Post-Tonal Tools (1)</a></li>
<li class="toctree-l2"><a class="reference internal" href="usersGuide_26_clientWeakref.html">User&#8217;s Guide, Chapter 26: Clients and Weak References.</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">User&#8217;s Guide, Chapter 27: Grace Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="usersGuide_28_lyricSearcher.html">User&#8217;s Guide, Chapter 28: Lyric Searching</a></li>
<li class="toctree-l2"><a class="reference internal" href="usersGuide_54_extendingConverter.html">User&#8217;s Guide, Chapter 54: Extending Converter with New Formats</a></li>
<li class="toctree-l2"><a class="reference internal" href="usersGuide_55_advancedMeter.html">User&#8217;s Guide, Chapter 55: Advanced Meter Topics</a></li>
<li class="toctree-l2"><a class="reference internal" href="usersGuide_90_musicxmlTest.html">User&#8217;s Guide, Chapter 90: Lilypond Unofficial MusicXML Test Suite</a></li>
<li class="toctree-l2"><a class="reference internal" href="usersGuide_97_timespans.html">Timespan Demos</a></li>
<li class="toctree-l2"><a class="reference internal" href="usersGuide_98_inversionDemo.html">Inversion Demo</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../moduleReference/index.html">Module Reference</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installing/index.html">Installation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../developerReference/index.html">Developer Reference</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/usersGuide/usersGuide_27_graceNotes.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <span class="target" id="usersguide-27-gracenotes"></span><div class="section" id="user-s-guide-chapter-27-grace-notes">
<h1>User&#8217;s Guide, Chapter 27: Grace Notes<a class="headerlink" href="#user-s-guide-chapter-27-grace-notes" title="Permalink to this headline">¶</a></h1>
<p>Grace notes present particular problems for almost all computer
representations of scores. In one way of theorizing them, they take up
no time whatsoever &#8211; you can take a full measure of 4/4 and add two
hundred grace notes and the measure is still not over full. On the other
hand, they need to take up some time, otherwise how would we hear them?</p>
<p>So we have something that takes up no time, but takes up time, at the
same time. Let&#8217;s look more closely at them. Along the way we&#8217;ll look at
appogiature, which present some issues that are similar and some that
are different.</p>
<div class="section" id="basic-graces">
<h2>Basic Graces<a class="headerlink" href="#basic-graces" title="Permalink to this headline">¶</a></h2>
<p>We&#8217;ll begin by creating a 4/4 measure of four quarter notes:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">music21</span> <span class="k">import</span> <span class="o">*</span>

<span class="n">m</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Measure</span><span class="p">()</span>
<span class="n">m</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">meter</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">(</span><span class="s1">&#39;4/4&#39;</span><span class="p">))</span>
<span class="n">m</span><span class="o">.</span><span class="n">repeatAppend</span><span class="p">(</span><span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;C5&#39;</span><span class="p">),</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<img alt="../_images/usersGuide_27_graceNotes_2_0.png" src="../_images/usersGuide_27_graceNotes_2_0.png" />
<p>Now let&#8217;s insert a D-grace note just before the third quarter note.
First we create a normal note (usually an eighth note) and then we
create a new grace note with the <code class="docutils literal"><span class="pre">getGrace</span></code> method.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">d</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;D5&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;eighth&#39;</span><span class="p">)</span>
<span class="n">dGrace</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">getGrace</span><span class="p">()</span>
<span class="n">m</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">dGrace</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<img alt="../_images/usersGuide_27_graceNotes_4_0.png" src="../_images/usersGuide_27_graceNotes_4_0.png" />
<p>If we look at <code class="docutils literal"><span class="pre">dGrace</span></code> at first it appears to be just a normal Note:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">dGrace</span>
</pre></div>
</div>
<div class="ipython-result highlight-default"><div class="highlight"><pre><span></span> <span class="o">&lt;</span><span class="n">music21</span><span class="o">.</span><span class="n">note</span><span class="o">.</span><span class="n">Note</span> <span class="n">D</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>But its <code class="docutils literal"><span class="pre">duration</span></code> is a subclass called <code class="docutils literal"><span class="pre">GraceDuration</span></code>.
Importantly, it is an &#8220;unlinked&#8221; duration, meaning that the <code class="docutils literal"><span class="pre">type</span></code>
(e.g. &#8220;eighth&#8221;) of the duration does not say how long it lasts.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">dGrace</span><span class="o">.</span><span class="n">duration</span>
</pre></div>
</div>
<div class="ipython-result highlight-default"><div class="highlight"><pre><span></span> <span class="o">&lt;</span><span class="n">music21</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">GraceDuration</span> <span class="n">unlinked</span> <span class="nb">type</span><span class="p">:</span><span class="n">zero</span> <span class="n">quarterLength</span><span class="p">:</span><span class="mf">0.0</span><span class="o">&gt;</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">dGrace</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">linked</span>
</pre></div>
</div>
<div class="ipython-result highlight-default"><div class="highlight"><pre><span></span> <span class="kc">False</span>
</pre></div>
</div>
<p>There is one <code class="docutils literal"><span class="pre">DurationTuple</span></code> in the <code class="docutils literal"><span class="pre">.components</span></code> of the
GraceDuration object, and it is an eighth note of length 0.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">dGrace</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">components</span>
</pre></div>
</div>
<div class="ipython-result highlight-default"><div class="highlight"><pre><span></span> <span class="p">(</span><span class="n">DurationTuple</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;eighth&#39;</span><span class="p">,</span> <span class="n">dots</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">quarterLength</span><span class="o">=</span><span class="mf">0.0</span><span class="p">),)</span>
</pre></div>
</div>
<p>A GraceDuration has the boolean attribute <code class="docutils literal"><span class="pre">.slash</span></code> which says whether
or not it receives a slash. By default this is True.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">dGrace</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">slash</span>
</pre></div>
</div>
<div class="ipython-result highlight-default"><div class="highlight"><pre><span></span> <span class="kc">True</span>
</pre></div>
</div>
<p>Within a <code class="docutils literal"><span class="pre">Stream</span></code> grace notes sort before elements of the same class
that have the same priority and offset. Internally, this is done by
setting <code class="docutils literal"><span class="pre">isNotGrace</span></code> to 0 in the sort tuple. (normally it is 1).</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">dGrace</span><span class="o">.</span><span class="n">sortTuple</span><span class="p">()</span>
</pre></div>
</div>
<div class="ipython-result highlight-default"><div class="highlight"><pre><span></span> <span class="n">SortTuple</span><span class="p">(</span><span class="n">atEnd</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">priority</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">classSortOrder</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">isNotGrace</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">insertIndex</span><span class="o">=</span><span class="mi">146</span><span class="p">)</span>
</pre></div>
</div>
<p>Normally grace notes are slurred to the following note, so let&#8217;s add a
slur there.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">thirdNote</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">notes</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
<span class="n">sl</span> <span class="o">=</span> <span class="n">spanner</span><span class="o">.</span><span class="n">Slur</span><span class="p">(</span><span class="n">dGrace</span><span class="p">,</span> <span class="n">thirdNote</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">sl</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<img alt="../_images/usersGuide_27_graceNotes_17_0.png" src="../_images/usersGuide_27_graceNotes_17_0.png" />
</div>
<div class="section" id="multiple-grace-notes">
<h2>Multiple Grace Notes<a class="headerlink" href="#multiple-grace-notes" title="Permalink to this headline">¶</a></h2>
<p>Multiple grace notes are normally beamed together and generally written
as sixteenth or thirty-second notes. We&#8217;ll add two graces to the last C
in the measure:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">eGrace</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;E5&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;16th&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">getGrace</span><span class="p">()</span>
<span class="n">dGrace2</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;D5&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;16th&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">getGrace</span><span class="p">()</span>
<span class="n">eGrace</span><span class="o">.</span><span class="n">beams</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;start&#39;</span><span class="p">)</span>
<span class="n">dGrace2</span><span class="o">.</span><span class="n">beams</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;stop&#39;</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mf">3.0</span><span class="p">,</span> <span class="n">eGrace</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mf">3.0</span><span class="p">,</span> <span class="n">dGrace2</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<img alt="../_images/usersGuide_27_graceNotes_20_0.png" src="../_images/usersGuide_27_graceNotes_20_0.png" />
<p>Notice that the grace notes are ordered according to the principle,
&#8220;first inserted = left-most, last inserted = right-most.&#8221; If you know
every note to be inserted in advance, then there&#8217;s no problem getting
the order right. But suppose you need to change it later? In this case,
change the priority of the grace notes:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">dGrace2</span><span class="o">.</span><span class="n">priority</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="n">m</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<img alt="../_images/usersGuide_27_graceNotes_22_0.png" src="../_images/usersGuide_27_graceNotes_22_0.png" />
<p>Note that the default priority of all objects is 0, so that by giving a
priority higher than 1, the grace notes can be made to follow the main
note:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">dGrace2</span><span class="o">.</span><span class="n">priority</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">eGrace</span><span class="o">.</span><span class="n">priority</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">m</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<img alt="../_images/usersGuide_27_graceNotes_24_0.png" src="../_images/usersGuide_27_graceNotes_24_0.png" />
<p>This is useful for cases such as putting a &#8220;Nachschlag&#8221; or
&#8220;Nachschlagen&#8221; after a trill:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Part</span><span class="p">()</span>
<span class="n">m1</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Measure</span><span class="p">()</span>
<span class="n">n2</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;F#5&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;whole&#39;</span><span class="p">)</span>
<span class="n">nach1</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;E5&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;16th&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">getGrace</span><span class="p">()</span>
<span class="n">nach2</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;F#5&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;16th&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">getGrace</span><span class="p">()</span>
<span class="n">nach1</span><span class="o">.</span><span class="n">priority</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">nach2</span><span class="o">.</span><span class="n">priority</span> <span class="o">=</span> <span class="mi">2</span>

<span class="n">trMark</span> <span class="o">=</span> <span class="n">expressions</span><span class="o">.</span><span class="n">Trill</span><span class="p">()</span>
<span class="n">n2</span><span class="o">.</span><span class="n">expressions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">trMark</span><span class="p">)</span>

<span class="n">m1</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">n2</span><span class="p">)</span>
<span class="n">m1</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">nach1</span><span class="p">)</span>
<span class="n">m1</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">nach2</span><span class="p">)</span>

<span class="n">p</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">m1</span><span class="p">)</span>

<span class="n">m2</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Measure</span><span class="p">()</span>
<span class="n">nResolve</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;G5&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;whole&#39;</span><span class="p">)</span>
<span class="n">m2</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">nResolve</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">m2</span><span class="p">)</span>

<span class="c1"># nResolve is necessary because</span>
<span class="c1"># MuseScore has a bug with spanners that end with grace notes.</span>
<span class="n">nachSlur</span> <span class="o">=</span> <span class="n">spanner</span><span class="o">.</span><span class="n">Slur</span><span class="p">([</span><span class="n">nach1</span><span class="p">,</span> <span class="n">nach2</span><span class="p">,</span> <span class="n">nResolve</span><span class="p">])</span>
<span class="n">p</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">nachSlur</span><span class="p">)</span>

<span class="c1"># beams are also created automagically on show</span>
<span class="n">p</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<img alt="../_images/usersGuide_27_graceNotes_26_0.png" src="../_images/usersGuide_27_graceNotes_26_0.png" />
</div>
<div class="section" id="stealing-time">
<h2>Stealing time<a class="headerlink" href="#stealing-time" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal"><span class="pre">.stealTimePrevious</span></code> and <code class="docutils literal"><span class="pre">.stealTimeFollowing</span></code> are values from 0 to
1 that show what fraction of the previous or following note&#8217;s durations
should be allocated to make room for this grace note.</p>
<p>MIDI output does not yet support playing back grace notes.</p>
<p>[more to be written]</p>
<p>That&#8217;s enough on grace notes for now. Let&#8217;s move to finding things with
something to say:
<a class="reference internal" href="usersGuide_28_lyricSearcher.html#usersguide-28-lyricsearcher"><span class="std std-ref">Chapter 28: Lyric Searching</span></a></p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="usersGuide_28_lyricSearcher.html" title="User’s Guide, Chapter 28: Lyric Searching"
             >next</a> |</li>
        <li class="right" >
          <a href="usersGuide_26_clientWeakref.html" title="User’s Guide, Chapter 26: Clients and Weak References."
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">music21</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >User&#8217;s Guide</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2006-2016, Michael Scott Cuthbert and cuthbertLab.
      Last updated on Aug 21, 2016.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.4.1.
    </div>
  </body>
</html>
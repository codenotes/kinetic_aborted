<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>music21.base &mdash; music21 Documentation</title>
    
    <link rel="stylesheet" href="../_static/m21.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    <link rel="top" title="music21 Documentation" href="../index.html" />
    <link rel="up" title="Module Reference" href="index.html" />
    <link rel="next" title="music21.beam" href="moduleBeam.html" />
    <link rel="prev" title="music21.bar" href="moduleBar.html" /><link href='http://fonts.googleapis.com/css?family=Source+Code+Pro|Open+Sans:300italic,400italic,700italic,400,300,700' rel='stylesheet' type='text/css'>
<script src='http://artusi.xyz/music21j/ext/require/require.js'></script>
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="moduleBeam.html" title="music21.beam"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="moduleBar.html" title="music21.bar"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">music21</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Module Reference</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="moduleBar.html"
                        title="previous chapter">music21.bar</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="moduleBeam.html"
                        title="next chapter">music21.beam</a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">music21.base</a><ul>
<li><a class="reference internal" href="#music21object">Music21Object</a></li>
<li><a class="reference internal" href="#elementwrapper">ElementWrapper</a></li>
<li><a class="reference internal" href="#contexttuple">ContextTuple</a></li>
<li><a class="reference internal" href="#groups">Groups</a></li>
<li><a class="reference internal" href="#testmock">TestMock</a></li>
</ul>
</li>
</ul>

<h3><a href="../index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../about/index.html">About Music21</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../usersGuide/index.html">User&#8217;s Guide</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Module Reference</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installing/index.html">Installation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../developerReference/index.html">Developer Reference</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/moduleReference/moduleBase.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="music21-base">
<span id="modulebase"></span><h1>music21.base<a class="headerlink" href="#music21-base" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-music21.base"></span><p><cite>music21.base</cite> is what you get in <cite>music21</cite> if you type <code class="docutils literal"><span class="pre">import</span> <span class="pre">music21</span></code>. It
contains all the most low-level objects that also appear in the music21 module
(i.e., music21.base.Music21Object is the same as music21.Music21Object).</p>
<p>Music21 base classes for <a class="reference internal" href="moduleStream.html#music21.stream.Stream" title="music21.stream.Stream"><code class="xref py py-class docutils literal"><span class="pre">Stream</span></code></a> objects and all
elements contained within them including Notes, etc. Additional objects for
defining and manipulating elements are included.</p>
<p>The namespace of this file, as all base.py files, is loaded into the package
that contains this file via __init__.py. Everything in this file is thus
available after importing <cite>music21</cite>.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">music21</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">music21</span><span class="o">.</span><span class="n">Music21Object</span>
<span class="go">&lt;class &#39;music21.base.Music21Object&#39;&gt;</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">music21</span><span class="o">.</span><span class="n">VERSION_STR</span>
<span class="go">&#39;3.1.0&#39;</span>
</pre></div>
</div>
<p>Alternatively, after doing a complete import, these classes are available
under the module &#8220;base&#8221;:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">base</span><span class="o">.</span><span class="n">Music21Object</span>
<span class="go">&lt;class &#39;music21.base.Music21Object&#39;&gt;</span>
</pre></div>
</div>
<div class="section" id="music21object">
<h2>Music21Object<a class="headerlink" href="#music21object" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="music21.base.Music21Object">
<em class="property">class </em><code class="descclassname">music21.base.</code><code class="descname">Music21Object</code><span class="sig-paren">(</span><em>*arguments</em>, <em>**keywords</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.base.Music21Object" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for all music21 objects.</p>
<p>All music21 objects have these pieces of information:</p>
<ol class="arabic simple">
<li>id: identification string unique to the objects container (optional).  Defaults to the
<cite>id()</cite> of the element.</li>
<li>groups: a Groups object: which is a list of strings identifying
internal subcollections (voices, parts, selections) to which this
element belongs</li>
<li>duration: Duration object representing the length of the object</li>
<li>activeSite: a reference to the currently active Stream or None</li>
<li>offset: a floating point value, generally in quarter lengths,
specifying the position of the object in a site.</li>
<li>priority: int representing the position of an object among all
objects at the same offset.</li>
<li>sites: a <code class="xref py py-class docutils literal"><span class="pre">Sites</span></code> object that stores all 
the Streams and Contexts that an
object is in.</li>
<li>derivation: a <a class="reference internal" href="moduleDerivation.html#music21.derivation.Derivation" title="music21.derivation.Derivation"><code class="xref py py-class docutils literal"><span class="pre">Derivation</span></code></a> object, or None, that shows
where the object came from.</li>
</ol>
<p>Each of these may be passed in as a named keyword to any music21 object.</p>
<p>Some of these may be intercepted by the subclassing object (e.g., duration
within Note)</p>
</dd></dl>

<p class="rubric"><a class="reference internal" href="#music21.base.Music21Object" title="music21.base.Music21Object"><code class="xref py py-class docutils literal"><span class="pre">Music21Object</span></code></a> read-only properties</p>
<dl class="attribute">
<dt id="music21.base.Music21Object.beat">
<code class="descclassname">Music21Object.</code><code class="descname">beat</code><a class="headerlink" href="#music21.base.Music21Object.beat" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the beat of this object as found in the most
recently positioned Measure. Beat values count from 1 and
contain a floating-point designation between 0 and 1 to
show proportional progress through the beat.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="o">.</span><span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Measure</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">timeSignature</span> <span class="o">=</span> <span class="n">meter</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">(</span><span class="s1">&#39;3/4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">repeatAppend</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">m</span><span class="o">.</span><span class="n">notes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">beat</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">)]</span>
<span class="go">[1.0, 1.5, 2.0, 2.5, 3.0, 3.5]</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">timeSignature</span> <span class="o">=</span> <span class="n">meter</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">(</span><span class="s1">&#39;6/8&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">m</span><span class="o">.</span><span class="n">notes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">beat</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">)]</span>
<span class="go">[1.0, Fraction(4, 3), Fraction(5, 3), 2.0, Fraction(7, 3), Fraction(8, 3)]</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">meter</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">(</span><span class="s1">&#39;3/4&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">repeatAppend</span><span class="p">(</span><span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(),</span> <span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">n</span><span class="o">.</span><span class="n">beat</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">s</span><span class="o">.</span><span class="n">notes</span><span class="p">]</span>
<span class="go">[1.0, 2.0, 3.0, 1.0, 2.0, 3.0, 1.0, 2.0]</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span> <span class="o">=</span> <span class="n">meter</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">(</span><span class="s1">&#39;4/4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">ts</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;eighth&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">repeatAppend</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">makeMeasures</span><span class="p">(</span><span class="n">inPlace</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">n</span><span class="o">.</span><span class="n">beat</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">s</span><span class="o">.</span><span class="n">flat</span><span class="o">.</span><span class="n">notes</span><span class="p">]</span>
<span class="go">[1.0, 1.5, 2.0, 2.5, 3.0, 3.5, 4.0, 4.5]</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Measure</span><span class="p">()</span>        
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">timeSignature</span> <span class="o">=</span> <span class="n">meter</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">(</span><span class="s1">&#39;4/4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mf">1.</span><span class="o">/</span><span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">repeatAppend</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
<span class="gp">... </span>   <span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">notes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">beat</span><span class="p">)</span>
<span class="go">1.0</span>
<span class="go">4/3</span>
<span class="go">5/3</span>
<span class="go">2.0</span>
<span class="go">7/3</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="music21.base.Music21Object.beatDuration">
<code class="descclassname">Music21Object.</code><code class="descname">beatDuration</code><a class="headerlink" href="#music21.base.Music21Object.beatDuration" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a <a class="reference internal" href="moduleDuration.html#music21.duration.Duration" title="music21.duration.Duration"><code class="xref py py-class docutils literal"><span class="pre">Duration</span></code></a> of the beat
active for this object as found in the most recently
positioned Measure.</p>
<p>If extending beyond the Measure, or in a Stream with a TimeSignature, 
the meter modulus value will be returned.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="o">.</span><span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Measure</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">timeSignature</span> <span class="o">=</span> <span class="n">meter</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">(</span><span class="s1">&#39;3/4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">repeatAppend</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">m</span><span class="o">.</span><span class="n">notes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">beatDuration</span><span class="o">.</span><span class="n">quarterLength</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">)]</span>
<span class="go">[1.0, 1.0, 1.0, 1.0, 1.0, 1.0]</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">timeSignature</span> <span class="o">=</span> <span class="n">meter</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">(</span><span class="s1">&#39;6/8&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">m</span><span class="o">.</span><span class="n">notes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">beatDuration</span><span class="o">.</span><span class="n">quarterLength</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">)]</span>
<span class="go">[1.5, 1.5, 1.5, 1.5, 1.5, 1.5]</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">meter</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">(</span><span class="s1">&#39;2/4+3/4&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">repeatAppend</span><span class="p">(</span><span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(),</span> <span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">n</span><span class="o">.</span><span class="n">beatDuration</span><span class="o">.</span><span class="n">quarterLength</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">s</span><span class="o">.</span><span class="n">notes</span><span class="p">]</span>
<span class="go">[2.0, 2.0, 3.0, 3.0, 3.0, 2.0, 2.0, 3.0]</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="music21.base.Music21Object.beatStr">
<code class="descclassname">Music21Object.</code><code class="descname">beatStr</code><a class="headerlink" href="#music21.base.Music21Object.beatStr" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a string representation of the beat of
this object as found in the most recently positioned
Measure. Beat values count from 1 and contain a
fractional designation to show progress through the beat.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="o">.</span><span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Measure</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">timeSignature</span> <span class="o">=</span> <span class="n">meter</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">(</span><span class="s1">&#39;3/4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">repeatAppend</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">m</span><span class="o">.</span><span class="n">notes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">beatStr</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">)]</span>
<span class="go">[&#39;1&#39;, &#39;1 1/2&#39;, &#39;2&#39;, &#39;2 1/2&#39;, &#39;3&#39;, &#39;3 1/2&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">timeSignature</span> <span class="o">=</span> <span class="n">meter</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">(</span><span class="s1">&#39;6/8&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">m</span><span class="o">.</span><span class="n">notes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">beatStr</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">)]</span>
<span class="go">[&#39;1&#39;, &#39;1 1/3&#39;, &#39;1 2/3&#39;, &#39;2&#39;, &#39;2 1/3&#39;, &#39;2 2/3&#39;]</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">meter</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">(</span><span class="s1">&#39;3/4&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">repeatAppend</span><span class="p">(</span><span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(),</span> <span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">n</span><span class="o">.</span><span class="n">beatStr</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">s</span><span class="o">.</span><span class="n">notes</span><span class="p">]</span>
<span class="go">[&#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;1&#39;, &#39;2&#39;]        </span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="music21.base.Music21Object.beatStrength">
<code class="descclassname">Music21Object.</code><code class="descname">beatStrength</code><a class="headerlink" href="#music21.base.Music21Object.beatStrength" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the metrical accent of this object
in the most recently positioned Measure. Accent values
are between zero and one, and are derived from the local
TimeSignature&#8217;s accent MeterSequence weights. If the offset
of this object does not match a defined accent weight, a
minimum accent weight will be returned.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="o">.</span><span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Measure</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">timeSignature</span> <span class="o">=</span> <span class="n">meter</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">(</span><span class="s1">&#39;3/4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">repeatAppend</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">m</span><span class="o">.</span><span class="n">notes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">beatStrength</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">)]</span>
<span class="go">[1.0, 0.25, 0.5, 0.25, 0.5, 0.25]</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">timeSignature</span> <span class="o">=</span> <span class="n">meter</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">(</span><span class="s1">&#39;6/8&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">m</span><span class="o">.</span><span class="n">notes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">beatStrength</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">)]</span>
<span class="go">[1.0, 0.25, 0.25, 0.5, 0.25, 0.25]</span>
</pre></div>
</div>
<p>We can also get the beatStrength for elements not in
a measure, if the enclosing stream has a <a class="reference internal" href="moduleMeter.html#music21.meter.TimeSignature" title="music21.meter.TimeSignature"><code class="xref py py-class docutils literal"><span class="pre">TimeSignature</span></code></a>.
We just assume that the time signature carries through to
hypothetical following measures:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;E--3&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;quarter&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">meter</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">(</span><span class="s1">&#39;2/2&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">repeatAppend</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">s</span><span class="o">.</span><span class="n">notes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">beatStrength</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">12</span><span class="p">)]</span>
<span class="go">[1.0, 0.25, 0.5, 0.25, 1.0, 0.25, 0.5, 0.25, 1.0, 0.25, 0.5, 0.25]</span>
</pre></div>
</div>
<p>Changing the meter changes the output, of course:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mf">4.0</span><span class="p">,</span> <span class="n">meter</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">(</span><span class="s1">&#39;3/4&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">s</span><span class="o">.</span><span class="n">notes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">beatStrength</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">12</span><span class="p">)]</span>
<span class="go">[1.0, 0.25, 0.5, 0.25, 1.0, 0.5, 0.5, 1.0, 0.5, 0.5, 1.0, 0.5]</span>
</pre></div>
</div>
<p>Test not using measures</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s2">&quot;E--3&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">isMeasure</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">meter</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">(</span><span class="s1">&#39;2/2&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">repeatAppend</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mi">16</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">notes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">beatStrength</span>
<span class="go">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">notes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">beatStrength</span>
<span class="go">0.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">notes</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">beatStrength</span>
<span class="go">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">notes</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="o">.</span><span class="n">beatStrength</span>
<span class="go">0.5</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="music21.base.Music21Object.classSet">
<code class="descclassname">Music21Object.</code><code class="descname">classSet</code><a class="headerlink" href="#music21.base.Music21Object.classSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a set (that is, unordered, but indexed) of all of the classes that
this class belongs to, including
string names, fullyQualified string names, and objects themselves.</p>
<p>It&#8217;s cached on a per class basis, so makes for a really fast way of checking to 
see if something belongs
to a particular class when you don&#8217;t know if the user has given a string,
a fully qualified string name, or an object.</p>
<p>Did I mention it&#8217;s fast?  It&#8217;s a drop in substitute for the deprecated
<cite>.isClassOrSubClass</cite>.  It&#8217;s not as fast as x in n.classes or isinstance(n, x)
if you know whether it&#8217;s a string or class, but this is good and safe.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;Note&#39;</span> <span class="ow">in</span> <span class="n">n</span><span class="o">.</span><span class="n">classSet</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;music21.note.Note&#39;</span> <span class="ow">in</span> <span class="n">n</span><span class="o">.</span><span class="n">classSet</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">note</span><span class="o">.</span><span class="n">Note</span> <span class="ow">in</span> <span class="n">n</span><span class="o">.</span><span class="n">classSet</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;Rest&#39;</span> <span class="ow">in</span> <span class="n">n</span><span class="o">.</span><span class="n">classSet</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">note</span><span class="o">.</span><span class="n">Rest</span> <span class="ow">in</span> <span class="n">n</span><span class="o">.</span><span class="n">classSet</span>
<span class="go">False</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">object</span> <span class="ow">in</span> <span class="n">n</span><span class="o">.</span><span class="n">classSet</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">([</span><span class="n">s</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">n</span><span class="o">.</span><span class="n">classSet</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="nb">str</span><span class="p">)])</span>
<span class="go">[&#39;GeneralNote&#39;, &#39;Music21Object&#39;, &#39;NotRest&#39;, &#39;Note&#39;, &#39;....object&#39;, </span>
<span class="go"> &#39;music21.base.Music21Object&#39;, &#39;music21.note.GeneralNote&#39;, &#39;music21.note.NotRest&#39;, </span>
<span class="go"> &#39;music21.note.Note&#39;, &#39;object&#39;]</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">([</span><span class="n">s</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">n</span><span class="o">.</span><span class="n">classSet</span> <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="nb">str</span><span class="p">)],</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">__name__</span><span class="p">)</span>
<span class="go">[&lt;class &#39;music21.note.GeneralNote&#39;&gt;, </span>
<span class="go"> &lt;class &#39;music21.base.Music21Object&#39;&gt;, </span>
<span class="go"> &lt;class &#39;music21.note.NotRest&#39;&gt;, </span>
<span class="go"> &lt;class &#39;music21.note.Note&#39;&gt;, </span>
<span class="go"> &lt;... &#39;object&#39;&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="music21.base.Music21Object.classes">
<code class="descclassname">Music21Object.</code><code class="descname">classes</code><a class="headerlink" href="#music21.base.Music21Object.classes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a tuple containing the names (strings, not objects) of classes that this
object belongs to &#8211; starting with the object&#8217;s class name and going up the mro()
for the object.  Very similar to Perl&#8217;s &#64;ISA array:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">classes</span>
<span class="go">(&#39;Note&#39;, &#39;NotRest&#39;, &#39;GeneralNote&#39;, &#39;Music21Object&#39;, &#39;object&#39;)</span>
</pre></div>
</div>
<p>Having quick access to these things as strings makes it easier to do comparisons:</p>
<p>Example: find GClefs that are not Treble clefs (or treble 8vb, etc.):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">clef</span><span class="o">.</span><span class="n">GClef</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="n">clef</span><span class="o">.</span><span class="n">TrebleClef</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="n">clef</span><span class="o">.</span><span class="n">FrenchViolinClef</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="n">clef</span><span class="o">.</span><span class="n">Treble8vbClef</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="n">clef</span><span class="o">.</span><span class="n">BassClef</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
<span class="gp">... </span>   <span class="k">if</span> <span class="s1">&#39;GClef&#39;</span> <span class="ow">in</span> <span class="n">t</span><span class="o">.</span><span class="n">classes</span> <span class="ow">and</span> <span class="s1">&#39;TrebleClef&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">t</span><span class="o">.</span><span class="n">classes</span><span class="p">:</span>
<span class="gp">... </span>       <span class="n">s2</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">)</span>
<span class="go">{10.0} &lt;music21.clef.GClef&gt;</span>
<span class="go">{30.0} &lt;music21.clef.FrenchViolinClef&gt;</span>
</pre></div>
</div>
<p><cite>Changed 2015 Sep</cite>: returns a tuple, not a list.</p>
</dd></dl>

<dl class="attribute">
<dt id="music21.base.Music21Object.measureNumber">
<code class="descclassname">Music21Object.</code><code class="descname">measureNumber</code><a class="headerlink" href="#music21.base.Music21Object.measureNumber" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the measure number of a <a class="reference internal" href="moduleStream.html#music21.stream.Measure" title="music21.stream.Measure"><code class="xref py py-class docutils literal"><span class="pre">Measure</span></code></a> that contains this
object if the object is in a measure.</p>
<p>Returns None if the object is not in a measure.  Also note that by 
default Measure objects
have measure number 0.</p>
<p>If an object belongs to multiple measures (not in the same hierarchy...) 
then it returns the
measure number of the <a class="reference internal" href="#music21.base.Music21Object.activeSite" title="music21.base.Music21Object.activeSite"><code class="xref py py-meth docutils literal"><span class="pre">activeSite()</span></code></a> if that is a
<a class="reference internal" href="moduleStream.html#music21.stream.Measure" title="music21.stream.Measure"><code class="xref py py-class docutils literal"><span class="pre">Measure</span></code></a> object.  Otherwise it will use 
<a class="reference internal" href="#music21.base.Music21Object.getContextByClass" title="music21.base.Music21Object.getContextByClass"><code class="xref py py-meth docutils literal"><span class="pre">getContextByClass()</span></code></a>
to find the number of the measure it was most recently added to.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Measure</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">number</span> <span class="o">=</span> <span class="mi">12</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">measureNumber</span>
<span class="go">12</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span><span class="o">.</span><span class="n">measureNumber</span> <span class="ow">is</span> <span class="kc">None</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m2</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Measure</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m2</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span><span class="o">.</span><span class="n">measureNumber</span>
<span class="go">0</span>
</pre></div>
</div>
<p>This updates live if the measure number changes:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">m2</span><span class="o">.</span><span class="n">number</span> <span class="o">=</span> <span class="mi">11</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span><span class="o">.</span><span class="n">measureNumber</span>
<span class="go">11</span>
</pre></div>
</div>
<p>The most recent measure added to is used unless activeSite is a measure:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span><span class="o">.</span><span class="n">measureNumber</span>
<span class="go">12</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span><span class="o">.</span><span class="n">activeSite</span> <span class="o">=</span> <span class="n">m2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span><span class="o">.</span><span class="n">measureNumber</span>
<span class="go">11</span>
</pre></div>
</div>
<p>Copies can retain measure numbers until set themselves:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">copy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nCopy</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">n2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nCopy</span><span class="o">.</span><span class="n">measureNumber</span>
<span class="go">12</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m3</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Measure</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m3</span><span class="o">.</span><span class="n">number</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m3</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">nCopy</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nCopy</span><span class="o">.</span><span class="n">measureNumber</span>
<span class="go">4</span>
</pre></div>
</div>
</dd></dl>

<p class="rubric"><a class="reference internal" href="#music21.base.Music21Object" title="music21.base.Music21Object"><code class="xref py py-class docutils literal"><span class="pre">Music21Object</span></code></a> read/write properties</p>
<dl class="attribute">
<dt id="music21.base.Music21Object.activeSite">
<code class="descclassname">Music21Object.</code><code class="descname">activeSite</code><a class="headerlink" href="#music21.base.Music21Object.activeSite" title="Permalink to this definition">¶</a></dt>
<dd><p>A reference to the most-recent object used to
contain this object. In most cases, this will be a
Stream or Stream sub-class. In most cases, an object&#8217;s
activeSite attribute is automatically set when an the
object is attached to a Stream.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s2">&quot;C#4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Part</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mf">20.0</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">activeSite</span> <span class="ow">is</span> <span class="n">p</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">offset</span>
<span class="go">20.0</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Measure</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mf">10.0</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">activeSite</span> <span class="ow">is</span> <span class="n">m</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">offset</span>
<span class="go">10.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">activeSite</span> <span class="o">=</span> <span class="n">p</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">offset</span>
<span class="go">20.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="music21.base.Music21Object.derivation">
<code class="descclassname">Music21Object.</code><code class="descname">derivation</code><a class="headerlink" href="#music21.base.Music21Object.derivation" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the <a class="reference internal" href="moduleDerivation.html#music21.derivation.Derivation" title="music21.derivation.Derivation"><code class="xref py py-class docutils literal"><span class="pre">Derivation</span></code></a> object for this element.</p>
<p>Or create one if none exists:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">derivation</span>
<span class="go">&lt;Derivation of &lt;music21.note.Note C&gt; from None via &quot;None&quot;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">copy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span><span class="o">.</span><span class="n">pitch</span><span class="o">.</span><span class="n">step</span> <span class="o">=</span> <span class="s1">&#39;D&#39;</span> <span class="c1"># for seeing easier...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span><span class="o">.</span><span class="n">derivation</span>
<span class="go">&lt;Derivation of &lt;music21.note.Note D&gt; from &lt;music21.note.Note C&gt; via &quot;__deepcopy__&quot;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span><span class="o">.</span><span class="n">derivation</span><span class="o">.</span><span class="n">origin</span> <span class="ow">is</span> <span class="n">n</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Note that (for now at least) derivation.origin is NOT a weakref:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">n</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span><span class="o">.</span><span class="n">derivation</span>
<span class="go">&lt;Derivation of &lt;music21.note.Note D&gt; from &lt;music21.note.Note C&gt; via &quot;__deepcopy__&quot;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span><span class="o">.</span><span class="n">derivation</span><span class="o">.</span><span class="n">origin</span>
<span class="go">&lt;music21.note.Note C&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="music21.base.Music21Object.duration">
<code class="descclassname">Music21Object.</code><code class="descname">duration</code><a class="headerlink" href="#music21.base.Music21Object.duration" title="Permalink to this definition">¶</a></dt>
<dd><p>Get and set the duration of this object as a Duration object.</p>
</dd></dl>

<dl class="attribute">
<dt id="music21.base.Music21Object.offset">
<code class="descclassname">Music21Object.</code><code class="descname">offset</code><a class="headerlink" href="#music21.base.Music21Object.offset" title="Permalink to this definition">¶</a></dt>
<dd><p>The offset property sets or returns the position of this object
as a float or fractions.Fraction value
(generally in <cite>quarterLengths</cite>), depending on what is representable.</p>
<p>Offsets are measured from the start of the object&#8217;s <cite>activeSite</cite>,
that is, the most recently referenced <cite>Stream</cite> or <cite>Stream</cite> subclass such
as <cite>Part</cite>, <cite>Measure</cite>, or <cite>Voice</cite>.  It is a simpler
way of calling <cite>o.getOffsetBySite(o.activeSite, returnType=&#8217;rational&#8217;)</cite>.</p>
<p>If we put a <cite>Note</cite> into a <cite>Stream</cite>, we will see the activeSite changes.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">fractions</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s2">&quot;D#3&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span><span class="o">.</span><span class="n">activeSite</span> <span class="ow">is</span> <span class="kc">None</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">m1</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Measure</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m1</span><span class="o">.</span><span class="n">number</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m1</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mf">10.0</span><span class="p">,</span> <span class="n">n1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span><span class="o">.</span><span class="n">offset</span>
<span class="go">10.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span><span class="o">.</span><span class="n">activeSite</span>
<span class="go">&lt;music21.stream.Measure 4 offset=0.0&gt;</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span><span class="o">.</span><span class="n">activeSite</span> <span class="ow">is</span> <span class="n">m1</span>
<span class="go">True</span>
</pre></div>
</div>
<p>The most recently referenced <cite>Stream</cite> becomes an object&#8217;s <cite>activeSite</cite> and
thus the place where <cite>.offset</cite> looks to find its number.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">m2</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Measure</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m2</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mf">3.0</span><span class="o">/</span><span class="mi">5</span><span class="p">,</span> <span class="n">n1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m2</span><span class="o">.</span><span class="n">number</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span><span class="o">.</span><span class="n">offset</span>
<span class="go">Fraction(3, 5)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span><span class="o">.</span><span class="n">activeSite</span> <span class="ow">is</span> <span class="n">m2</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Notice though that <cite>.offset</cite> depends on the <cite>.activeSite</cite> which is the most
recently accessed/referenced Stream.</p>
<p>Here we will iterate over the <cite>elements</cite> in <cite>m1</cite> and we
will see that the <cite>.offset</cite> of <cite>n1</cite> now is its offset in
<cite>m1</cite> even though we haven&#8217;t done anything directly to <cite>n1</cite>.
Simply iterating over a site is enough to change the <cite>.activeSite</cite>
of its elements:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">m1</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span><span class="o">.</span><span class="n">offset</span>
<span class="go">10.0</span>
</pre></div>
</div>
<p>The property can also set the offset for the object if no
container has been set:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="s1">&#39;hi&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span><span class="o">.</span><span class="n">offset</span> <span class="o">=</span> <span class="mi">20</span><span class="o">/</span><span class="mf">3.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span><span class="o">.</span><span class="n">offset</span>
<span class="go">Fraction(20, 3)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">float</span><span class="p">(</span><span class="n">n1</span><span class="o">.</span><span class="n">offset</span><span class="p">)</span>
<span class="go">6.666...</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span><span class="o">.</span><span class="n">offset</span>
<span class="go">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mf">30.5</span><span class="p">,</span> <span class="n">n1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span><span class="o">.</span><span class="n">offset</span>
<span class="go">30.5</span>
</pre></div>
</div>
<p>After calling <cite>getElementById</cite> on <cite>s1</cite>, the
returned element&#8217;s <cite>offset</cite> will be its offset in <cite>s1</cite>.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span> <span class="o">=</span> <span class="n">s1</span><span class="o">.</span><span class="n">getElementById</span><span class="p">(</span><span class="s1">&#39;hi&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span> <span class="ow">is</span> <span class="n">n1</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span><span class="o">.</span><span class="n">offset</span>
<span class="go">0.0</span>
</pre></div>
</div>
<p>Iterating over the elements in a Stream will
make its <cite>offset</cite> be the offset in iterated
Stream.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">thisElement</span> <span class="ow">in</span> <span class="n">s2</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">thisElement</span><span class="o">.</span><span class="n">offset</span>
<span class="go">30.5</span>
</pre></div>
</div>
<p>When in doubt, use <cite>.getOffsetBySite(streamObj)</cite>
which is safer or streamObj.elementOffset(self) which is 3x faster.</p>
</dd></dl>

<dl class="attribute">
<dt id="music21.base.Music21Object.priority">
<code class="descclassname">Music21Object.</code><code class="descname">priority</code><a class="headerlink" href="#music21.base.Music21Object.priority" title="Permalink to this definition">¶</a></dt>
<dd><p>Get and set the priority integer value.</p>
<p>Priority specifies the order of processing from left (lowest number)
to right (highest number) of objects at the same offset.  For
instance, if you want a key change and a clef change to happen at
the same time but the key change to appear first, then set:
keySigElement.priority = 1; clefElement.priority = 2 this might be
a slightly counterintuitive numbering of priority, but it does
mean, for instance, if you had two elements at the same offset,
an allegro tempo change and an andante tempo change, then the
tempo change with the higher priority number would apply to the
following notes (by being processed second).</p>
<p>Default priority is 0; thus negative priorities are encouraged
to have Elements that appear before non-priority set elements.</p>
<p>In case of tie, there are defined class sort orders defined in
<cite>music21.base.classSortOrder</cite>.  For instance, a key signature
change appears before a time signature change before a
note at the same offset.  This produces the familiar order of
materials at the start of a musical score.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">music21</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">music21</span><span class="o">.</span><span class="n">Music21Object</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">priority</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">priority</span> <span class="o">=</span> <span class="s1">&#39;high&#39;</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="gr">music21.base.ElementException</span>: <span class="n">priority values must be integers.</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="music21.base.Music21Object.quarterLength">
<code class="descclassname">Music21Object.</code><code class="descname">quarterLength</code><a class="headerlink" href="#music21.base.Music21Object.quarterLength" title="Permalink to this definition">¶</a></dt>
<dd><p>Set or Return the Duration as represented in Quarter Length, possibly as a fraction</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mf">2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">quarterLength</span>
<span class="go">2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mf">1.0</span><span class="o">/</span><span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">quarterLength</span>
<span class="go">Fraction(1, 3)</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="music21.base.Music21Object.seconds">
<code class="descclassname">Music21Object.</code><code class="descname">seconds</code><a class="headerlink" href="#music21.base.Music21Object.seconds" title="Permalink to this definition">¶</a></dt>
<dd><p>Get or set the duration of this object in seconds, assuming
that this object has a <a class="reference internal" href="moduleTempo.html#music21.tempo.MetronomeMark" title="music21.tempo.MetronomeMark"><code class="xref py py-class docutils literal"><span class="pre">MetronomeMark</span></code></a> 
or <a class="reference internal" href="moduleTempo.html#music21.tempo.MetricModulation" title="music21.tempo.MetricModulation"><code class="xref py py-class docutils literal"><span class="pre">MetricModulation</span></code></a> in its past context.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">repeatAppend</span><span class="p">(</span><span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(),</span> <span class="mi">12</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">tempo</span><span class="o">.</span><span class="n">MetronomeMark</span><span class="p">(</span><span class="n">number</span><span class="o">=</span><span class="mi">120</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="n">tempo</span><span class="o">.</span><span class="n">MetronomeMark</span><span class="p">(</span><span class="n">number</span><span class="o">=</span><span class="mi">240</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">n</span><span class="o">.</span><span class="n">seconds</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">s</span><span class="o">.</span><span class="n">notes</span><span class="p">]</span>
<span class="go">[0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.25, 0.25, 0.25, 0.25, 0.25, 0.25]</span>
</pre></div>
</div>
</dd></dl>

<p class="rubric"><a class="reference internal" href="#music21.base.Music21Object" title="music21.base.Music21Object"><code class="xref py py-class docutils literal"><span class="pre">Music21Object</span></code></a> methods</p>
<dl class="method">
<dt id="music21.base.Music21Object.containerHierarchy">
<code class="descclassname">Music21Object.</code><code class="descname">containerHierarchy</code><span class="sig-paren">(</span><em>followDerivation=True</em>, <em>includeNonStreamDerivations=False</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.base.Music21Object.containerHierarchy" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of Stream subclasses that this object
is contained within or (if followDerivation is set) is derived from.</p>
<p>This gives access to the hierarchy that contained or
created this object.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;bach/bwv66.6&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">noteE</span> <span class="o">=</span> <span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">noteE</span>
<span class="go">&lt;music21.note.Note E&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">noteE</span><span class="o">.</span><span class="n">containerHierarchy</span><span class="p">()]</span>
<span class="go">[&lt;music21.stream.Measure 1 offset=1.0&gt;, </span>
<span class="go"> &lt;music21.stream.Part Soprano&gt;, </span>
<span class="go"> &lt;music21.stream.Score 0x1049a5668&gt;]</span>
</pre></div>
</div>
<p>Note that derived objects also can follow the container hierarchy:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">copy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">noteE</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">n2</span><span class="o">.</span><span class="n">containerHierarchy</span><span class="p">()]</span>
<span class="go">[&lt;music21.stream.Measure 1 offset=1.0&gt;, </span>
<span class="go"> &lt;music21.stream.Part Soprano&gt;, </span>
<span class="go"> &lt;music21.stream.Score 0x1049a5668&gt;]</span>
</pre></div>
</div>
<p>Unless followDerivation is False:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">n2</span><span class="o">.</span><span class="n">containerHierarchy</span><span class="p">(</span><span class="n">followDerivation</span><span class="o">=</span><span class="kc">False</span><span class="p">)]</span>
<span class="go">[]</span>
</pre></div>
</div>
<p>if includeNonStreamDerivations is True then n2&#8217;s containerHierarchy will include
n even though it&#8217;s not a container.  It gives a good idea of how the hierarchy is being
constructed.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">n2</span><span class="o">.</span><span class="n">containerHierarchy</span><span class="p">(</span><span class="n">includeNonStreamDerivations</span><span class="o">=</span><span class="kc">True</span><span class="p">)]</span>
<span class="go">[&lt;music21.note.Note E&gt;,</span>
<span class="go"> &lt;music21.stream.Measure 1 offset=1.0&gt;, </span>
<span class="go"> &lt;music21.stream.Part Soprano&gt;, </span>
<span class="go"> &lt;music21.stream.Score 0x1049a5668&gt;]</span>
</pre></div>
</div>
<p>The method follows activeSites, so set the activeSite as necessary.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Part</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s2">&quot;newPart&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Measure</span><span class="p">(</span><span class="n">number</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">m</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">noteE</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">noteE</span><span class="o">.</span><span class="n">activeSite</span>
<span class="go">&lt;music21.stream.Measure 20 offset=0.0&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">noteE</span><span class="o">.</span><span class="n">containerHierarchy</span><span class="p">()</span>
<span class="go">[&lt;music21.stream.Measure 20 offset=0.0&gt;, </span>
<span class="go"> &lt;music21.stream.Part newPart&gt;]         </span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.Music21Object.contextSites">
<code class="descclassname">Music21Object.</code><code class="descname">contextSites</code><span class="sig-paren">(</span><em>callerFirst=None</em>, <em>memo=None</em>, <em>offsetAppend=0.0</em>, <em>sortByCreationTime=False</em>, <em>priorityTarget=None</em>, <em>returnSortTuples=False</em>, <em>followDerivation=True</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.base.Music21Object.contextSites" title="Permalink to this definition">¶</a></dt>
<dd><p>A generator that returns a list of namedtuples of sites to search for a context...</p>
<p>Each tuple contains three elements:</p>
<p>.site &#8211;  Stream object, 
.offset &#8211; the offset or position (sortTuple) of this element in that Stream
.recurseType &#8211; the method of searching that should be applied to search for a context.</p>
<p>The recurseType methods are:</p>
<blockquote>
<div><ul>
<li><p class="first">&#8216;flatten&#8217; &#8211; flatten the stream and then look from this offset backwards.</p>
</li>
<li><dl class="first docutils">
<dt>&#8216;elementsOnly&#8217; &#8211; only search the stream&#8217;s personal </dt>
<dd><p class="first last">elements from this offset backwards</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>&#8216;elementsFirst&#8217; &#8211; search this stream backwards, </dt>
<dd><p class="first last">and then flatten and search backwards</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;bwv66.6&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="s1">&#39;bach&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">c</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">4</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span>
<span class="go">&lt;music21.note.Note G#&gt;</span>
</pre></div>
</div>
<p>Returning sortTuples are important for distinguishing the order of multiple sites
at the same offset.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">csTuple</span> <span class="ow">in</span> <span class="n">n</span><span class="o">.</span><span class="n">contextSites</span><span class="p">(</span><span class="n">returnSortTuples</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="gp">... </span>     <span class="n">yClearer</span> <span class="o">=</span> <span class="p">(</span><span class="n">csTuple</span><span class="o">.</span><span class="n">site</span><span class="p">,</span> <span class="n">csTuple</span><span class="o">.</span><span class="n">offset</span><span class="o">.</span><span class="n">shortRepr</span><span class="p">(),</span> <span class="n">csTuple</span><span class="o">.</span><span class="n">recurseType</span><span class="p">)</span>
<span class="gp">... </span>     <span class="nb">print</span><span class="p">(</span><span class="n">yClearer</span><span class="p">)</span>
<span class="go">(&lt;music21.stream.Measure 3 offset=9.0&gt;, &#39;0.5 &lt;0.20...&gt;&#39;, &#39;elementsFirst&#39;)</span>
<span class="go">(&lt;music21.stream.Part Alto&gt;, &#39;9.5 &lt;0.20...&gt;&#39;, &#39;flatten&#39;)</span>
<span class="go">(&lt;music21.stream.Score bach&gt;, &#39;9.5 &lt;0.20...&gt;&#39;, &#39;elementsOnly&#39;)</span>
</pre></div>
</div>
<p>Streams have themselves as the first element in their context sites, at position
zero and classSortOrder negative infinity.</p>
<p>This example shows the context sites for Measure 3 of the 
Alto part. We will get the measure object using direct access to
indices to ensure that no other temporary streams are created; normally, we would do
c.parts[&#8216;Alto&#8217;].measure(3).</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">c</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span>
<span class="go">&lt;music21.stream.Measure 3 offset=9.0&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">csTuple</span> <span class="ow">in</span> <span class="n">m</span><span class="o">.</span><span class="n">contextSites</span><span class="p">(</span><span class="n">returnSortTuples</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="gp">... </span>     <span class="n">yClearer</span> <span class="o">=</span> <span class="p">(</span><span class="n">csTuple</span><span class="o">.</span><span class="n">site</span><span class="p">,</span> <span class="n">csTuple</span><span class="o">.</span><span class="n">offset</span><span class="o">.</span><span class="n">shortRepr</span><span class="p">(),</span> <span class="n">csTuple</span><span class="o">.</span><span class="n">recurseType</span><span class="p">)</span>
<span class="gp">... </span>     <span class="nb">print</span><span class="p">(</span><span class="n">yClearer</span><span class="p">)</span>
<span class="go">(&lt;music21.stream.Measure 3 offset=9.0&gt;, &#39;0.0 &lt;-inf.-20...&gt;&#39;, &#39;elementsFirst&#39;)</span>
<span class="go">(&lt;music21.stream.Part Alto&gt;, &#39;9.0 &lt;0.-20...&gt;&#39;, &#39;flatten&#39;)</span>
<span class="go">(&lt;music21.stream.Score bach&gt;, &#39;9.0 &lt;0.-20...&gt;&#39;, &#39;elementsOnly&#39;)</span>
</pre></div>
</div>
<p>Here we make a copy of the earlier measure and we see that its contextSites
follow the derivationChain from the original measure and still find the Part
and Score of the original Measure 3 even though mCopy is not in any of these
objects.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">copy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mCopy</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mCopy</span><span class="o">.</span><span class="n">number</span> <span class="o">=</span> <span class="mi">3333</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">csTuple</span> <span class="ow">in</span> <span class="n">mCopy</span><span class="o">.</span><span class="n">contextSites</span><span class="p">():</span>
<span class="gp">... </span>     <span class="nb">print</span><span class="p">(</span><span class="n">csTuple</span><span class="p">,</span> <span class="n">mCopy</span> <span class="ow">in</span> <span class="n">csTuple</span><span class="o">.</span><span class="n">site</span><span class="p">)</span>
<span class="go">ContextTuple(site=&lt;music21.stream.Measure 3333 offset=0.0&gt;, </span>
<span class="go">             offset=0.0, </span>
<span class="go">             recurseType=&#39;elementsFirst&#39;) False</span>
<span class="go">ContextTuple(site=&lt;music21.stream.Part Alto&gt;, </span>
<span class="go">             offset=9.0, </span>
<span class="go">             recurseType=&#39;flatten&#39;) False</span>
<span class="go">ContextTuple(site=&lt;music21.stream.Score bach&gt;, </span>
<span class="go">             offset=9.0, </span>
<span class="go">             recurseType=&#39;elementsOnly&#39;) False</span>
</pre></div>
</div>
<p>If followDerivation were False, then the Part and Score would not be found.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">csTuple</span> <span class="ow">in</span> <span class="n">mCopy</span><span class="o">.</span><span class="n">contextSites</span><span class="p">(</span><span class="n">followDerivation</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">csTuple</span><span class="p">)</span>
<span class="go">ContextTuple(site=&lt;music21.stream.Measure 3333 offset=0.0&gt;, </span>
<span class="go">             offset=0.0, </span>
<span class="go">             recurseType=&#39;elementsFirst&#39;)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">partIterator</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">parts</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m3</span> <span class="o">=</span> <span class="n">partIterator</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">measure</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">csTuple</span> <span class="ow">in</span> <span class="n">m3</span><span class="o">.</span><span class="n">contextSites</span><span class="p">():</span>
<span class="gp">... </span>     <span class="nb">print</span><span class="p">(</span><span class="n">csTuple</span><span class="p">)</span>
<span class="go">ContextTuple(site=&lt;music21.stream.Measure 3 offset=9.0&gt;, </span>
<span class="go">             offset=0.0, </span>
<span class="go">             recurseType=&#39;elementsFirst&#39;)</span>
<span class="go">ContextTuple(site=&lt;music21.stream.Part Alto&gt;,</span>
<span class="go">             offset=9.0, </span>
<span class="go">             recurseType=&#39;flatten&#39;)</span>
<span class="go">ContextTuple(site=&lt;music21.stream.Score bach&gt;, </span>
<span class="go">             offset=9.0, </span>
<span class="go">             recurseType=&#39;elementsOnly&#39;)</span>
</pre></div>
</div>
<p>Sorting order:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Part</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="s1">&#39;p1&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m1</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Measure</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m1</span><span class="o">.</span><span class="n">number</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">m1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">csTuple</span> <span class="ow">in</span> <span class="n">n</span><span class="o">.</span><span class="n">contextSites</span><span class="p">():</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">csTuple</span><span class="o">.</span><span class="n">site</span><span class="p">)</span>
<span class="go">&lt;music21.stream.Measure 1 offset=0.0&gt;</span>
<span class="go">&lt;music21.stream.Part p1&gt;</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">p2</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Part</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p2</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="s1">&#39;p2&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m2</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Measure</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m2</span><span class="o">.</span><span class="n">number</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m2</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p2</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">m2</span><span class="p">)</span>
</pre></div>
</div>
<p>The keys could have appeared in any order, but by default
we set set priorityTarget to activeSite.  So this is the same as omitting.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">n</span><span class="o">.</span><span class="n">contextSites</span><span class="p">(</span><span class="n">priorityTarget</span><span class="o">=</span><span class="n">n</span><span class="o">.</span><span class="n">activeSite</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="go">&lt;music21.stream.Measure 2 offset=0.0&gt;</span>
<span class="go">&lt;music21.stream.Part p2&gt;</span>
<span class="go">&lt;music21.stream.Measure 1 offset=0.0&gt;</span>
<span class="go">&lt;music21.stream.Part p1&gt;</span>
</pre></div>
</div>
<p>We can sort sites by creationTime...</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">csTuple</span> <span class="ow">in</span> <span class="n">n</span><span class="o">.</span><span class="n">contextSites</span><span class="p">(</span><span class="n">sortByCreationTime</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">csTuple</span><span class="o">.</span><span class="n">site</span><span class="p">)</span>
<span class="go">&lt;music21.stream.Measure 2 offset=0.0&gt;</span>
<span class="go">&lt;music21.stream.Part p2&gt;</span>
<span class="go">&lt;music21.stream.Measure 1 offset=0.0&gt;</span>
<span class="go">&lt;music21.stream.Part p1&gt;</span>
</pre></div>
</div>
<p>oldest first...</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">csTuple</span> <span class="ow">in</span> <span class="n">n</span><span class="o">.</span><span class="n">contextSites</span><span class="p">(</span><span class="n">sortByCreationTime</span><span class="o">=</span><span class="s1">&#39;reverse&#39;</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">csTuple</span><span class="o">.</span><span class="n">site</span><span class="p">)</span>
<span class="go">&lt;music21.stream.Measure 1 offset=0.0&gt;</span>
<span class="go">&lt;music21.stream.Part p1&gt;</span>
<span class="go">&lt;music21.stream.Measure 2 offset=0.0&gt;</span>
<span class="go">&lt;music21.stream.Part p2&gt;       </span>
</pre></div>
</div>
<p><em>removed in v3: priorityTarget cannot be set, in order to use .sites.yieldSites()</em></p>
</dd></dl>

<dl class="method">
<dt id="music21.base.Music21Object.getAllContextsByClass">
<code class="descclassname">Music21Object.</code><code class="descname">getAllContextsByClass</code><span class="sig-paren">(</span><em>className</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.base.Music21Object.getAllContextsByClass" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a generator that yields elements found by <cite>.getContextByClass</cite> and
then finds the previous contexts for that element.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">meter</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">(</span><span class="s1">&#39;2/4&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;C&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">meter</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">(</span><span class="s1">&#39;3/4&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
</pre></div>
</div>
<p>for ts in n.getAllContextsByClass(&#8216;TimeSignature&#8217;):
...     print(ts, ts.offset)
&lt;music21.meter.TimeSignature 3/4&gt; 1.0
&lt;music21.meter.TimeSignature 2/4&gt; 0.0</p>
<p>TODO: make it so that it does not skip over multiple matching classes
at the same offset.</p>
</dd></dl>

<dl class="method">
<dt id="music21.base.Music21Object.getContextByClass">
<code class="descclassname">Music21Object.</code><code class="descname">getContextByClass</code><span class="sig-paren">(</span><em>className</em>, <em>getElementMethod='getElementAtOrBefore'</em>, <em>sortByCreationTime=False</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.base.Music21Object.getContextByClass" title="Permalink to this definition">¶</a></dt>
<dd><p>A very powerful method in music21 of fundamental importance: Returns
the element matching the className that is closest to this element in
its current hierarchy.  For instance, take this stream of changing time
signatures:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">converter</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;tinynotation: 3/4 C4 D E 2/4 F G A B 1/4 c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span>
<span class="go">&lt;music21.stream.Part 0x104ce64e0&gt;</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s1">&#39;t&#39;</span><span class="p">)</span>
<span class="go">{0.0} &lt;music21.stream.Measure 1 offset=0.0&gt;</span>
<span class="go">    {0.0} &lt;music21.clef.BassClef&gt;</span>
<span class="go">    {0.0} &lt;music21.meter.TimeSignature 3/4&gt;</span>
<span class="go">    {0.0} &lt;music21.note.Note C&gt;</span>
<span class="go">    {1.0} &lt;music21.note.Note D&gt;</span>
<span class="go">    {2.0} &lt;music21.note.Note E&gt;</span>
<span class="go">{3.0} &lt;music21.stream.Measure 2 offset=3.0&gt;</span>
<span class="go">    {0.0} &lt;music21.meter.TimeSignature 2/4&gt;</span>
<span class="go">    {0.0} &lt;music21.note.Note F&gt;</span>
<span class="go">    {1.0} &lt;music21.note.Note G&gt;</span>
<span class="go">{5.0} &lt;music21.stream.Measure 3 offset=5.0&gt;</span>
<span class="go">    {0.0} &lt;music21.note.Note A&gt;</span>
<span class="go">    {1.0} &lt;music21.note.Note B&gt;</span>
<span class="go">{7.0} &lt;music21.stream.Measure 4 offset=7.0&gt;</span>
<span class="go">    {0.0} &lt;music21.meter.TimeSignature 1/4&gt;</span>
<span class="go">    {0.0} &lt;music21.note.Note C&gt;</span>
<span class="go">    {1.0} &lt;music21.bar.Barline style=final&gt;</span>
</pre></div>
</div>
<p>Let&#8217;s get the last two notes of the piece, the B and high c:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">measure</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">notes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span>
<span class="go">&lt;music21.note.Note C&gt;</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">measure</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">notes</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span>
<span class="go">&lt;music21.note.Note B&gt;</span>
</pre></div>
</div>
<p>Now when we run <cite>getContextByClass(&#8216;TimeSignature&#8217;)</cite> on c, we get a
time signature of 1/4.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">getContextByClass</span><span class="p">(</span><span class="s1">&#39;TimeSignature&#39;</span><span class="p">)</span>
<span class="go">&lt;music21.meter.TimeSignature 1/4&gt;</span>
</pre></div>
</div>
<p>Doing what we just did wouldn&#8217;t be hard to do with other methods,
though <cite>getContextByClass</cite> makes it easier.  But the time signature
context for b would be much harder to get without this method, since in
order to do it, it searches backwards within the measure, finds that
there&#8217;s nothing there.  It goes to the previous measure and searches
that one backwards until it gets the proper TimeSignature of 2/4:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">.</span><span class="n">getContextByClass</span><span class="p">(</span><span class="s1">&#39;TimeSignature&#39;</span><span class="p">)</span>
<span class="go">&lt;music21.meter.TimeSignature 2/4&gt;</span>
</pre></div>
</div>
<p>The method is smart enough to stop when it gets to the beginning of the
part.  This is all you need to know for most uses.  The rest of the
docs are for advanced uses:</p>
<p>The methods searches both Sites as well as associated objects to find a
matching class. Returns None if not match is found.</p>
<p>A reference to the caller is required to find the offset of the object
of the caller.</p>
<p>The caller may be a Sites reference from a lower-level object.  If so,
we can access the location of that lower-level object. However, if we
need a flat representation, the caller needs to be the source Stream,
not its Sites reference.</p>
<p>The <cite>getElementMethod</cite> is a string that selects which Stream method is
used to get elements for searching. These strings are accepted:</p>
<ul class="simple">
<li>&#8216;getElementBefore&#8217;</li>
<li>&#8216;getElementAfter&#8217;</li>
<li>&#8216;getElementAtOrBefore&#8217; (Default)</li>
<li>&#8216;getElementAtOrAfter&#8217;</li>
</ul>
<p>The &#8220;after&#8221; do forward contexts &#8211; looking ahead.</p>
</dd></dl>

<dl class="method">
<dt id="music21.base.Music21Object.getOffsetBySite">
<code class="descclassname">Music21Object.</code><code class="descname">getOffsetBySite</code><span class="sig-paren">(</span><em>site</em>, <em>stringReturns=False</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.base.Music21Object.getOffsetBySite" title="Permalink to this definition">¶</a></dt>
<dd><p>If this class has been registered in a container such as a Stream,
that container can be provided here, and the offset in that object
can be returned.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;A-4&#39;</span><span class="p">)</span>  <span class="c1"># a Music21Objecct</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">offset</span> <span class="o">=</span> <span class="mi">30</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">getOffsetBySite</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="go">30.0</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="s1">&#39;containingStream&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mf">20.0</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">getOffsetBySite</span><span class="p">(</span><span class="n">s1</span><span class="p">)</span>
<span class="go">Fraction(20, 3)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">float</span><span class="p">(</span><span class="n">n</span><span class="o">.</span><span class="n">getOffsetBySite</span><span class="p">(</span><span class="n">s1</span><span class="p">))</span>
<span class="go">6.6666...</span>
</pre></div>
</div>
<p>n.getOffsetBySite(None) should still return 30.0</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">getOffsetBySite</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="go">30.0</span>
</pre></div>
</div>
<p>If the Stream does not contain the element and the element is not derived from
an element that does, then a SitesException is raised:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="s1">&#39;notContainingStream&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">getOffsetBySite</span><span class="p">(</span><span class="n">s2</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="gr">music21.sites.SitesException</span>: <span class="n">an entry for this object &lt;music21.note.Note A-&gt; is not </span>
<span class="go">      stored in stream &lt;music21.stream.Stream notContainingStream&gt;</span>
</pre></div>
</div>
<p>Consider this use of derivations:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">copy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nCopy</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nCopy</span><span class="o">.</span><span class="n">derivation</span>
<span class="go">&lt;Derivation of &lt;music21.note.Note A-&gt; from &lt;music21.note.Note A-&gt; via &quot;__deepcopy__&quot;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nCopy</span><span class="o">.</span><span class="n">getOffsetBySite</span><span class="p">(</span><span class="n">s1</span><span class="p">)</span>
<span class="go">Fraction(20, 3)</span>
</pre></div>
</div>
<p>TADA! This is the primary difference between element.getOffsetBySite(stream)
and stream.elementOffset(element)</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span><span class="o">.</span><span class="n">elementOffset</span><span class="p">(</span><span class="n">nCopy</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="gr">music21.sites.SitesException</span>: <span class="n">an entry for this object ... is not </span>
<span class="go">    stored in stream &lt;music21.stream.Stream containingStream&gt;</span>
</pre></div>
</div>
<p>If the object is stored at the end of the Stream, then the highest time 
is usually returned:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s3</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n3</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;whole&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s3</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rb</span> <span class="o">=</span> <span class="n">bar</span><span class="o">.</span><span class="n">Barline</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s3</span><span class="o">.</span><span class="n">storeAtEnd</span><span class="p">(</span><span class="n">rb</span><span class="p">)</span>  <span class="c1"># s3.rightBarline = rb would do the same...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rb</span><span class="o">.</span><span class="n">getOffsetBySite</span><span class="p">(</span><span class="n">s3</span><span class="p">)</span>
<span class="go">4.0</span>
</pre></div>
</div>
<p>However, setting stringReturns to True will return &#8216;highestTime&#8217;</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rb</span><span class="o">.</span><span class="n">getOffsetBySite</span><span class="p">(</span><span class="n">s3</span><span class="p">,</span> <span class="n">stringReturns</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">&#39;highestTime&#39;</span>
</pre></div>
</div>
<p>Even with stringReturns normal offsets are still returned as a float or Fraction:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">n3</span><span class="o">.</span><span class="n">getOffsetBySite</span><span class="p">(</span><span class="n">s3</span><span class="p">,</span> <span class="n">stringReturns</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">0.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.Music21Object.getOffsetInHierarchy">
<code class="descclassname">Music21Object.</code><code class="descname">getOffsetInHierarchy</code><span class="sig-paren">(</span><em>site</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.base.Music21Object.getOffsetInHierarchy" title="Permalink to this definition">¶</a></dt>
<dd><p>For an element which may not be in site, but might be in a Stream in site (or further
in streams), find the cumulative offset of the element in that site.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Score</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s2">&quot;mainScore&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Part</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Measure</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mf">5.0</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mf">10.0</span><span class="p">,</span> <span class="n">m</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">getOffsetInHierarchy</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="go">15.0</span>
</pre></div>
</div>
<p>If no hierarchy beginning with site contains the element and the element is not derived from
an element that does, then a SitesException is raised:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Score</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s2">&quot;otherScore&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">getOffsetInHierarchy</span><span class="p">(</span><span class="n">s2</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="gr">music21.sites.SitesException</span>: <span class="n">Element &lt;music21.note.Note C&gt; </span>
<span class="go">    is not in hierarchy of &lt;music21.stream.Score otherScore&gt;</span>
</pre></div>
</div>
<p>But if the element is derived from an element in a hierarchy then it can get the offset:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span> <span class="o">=</span> <span class="n">n</span><span class="o">.</span><span class="n">transpose</span><span class="p">(</span><span class="s1">&#39;P5&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span><span class="o">.</span><span class="n">derivation</span><span class="o">.</span><span class="n">origin</span> <span class="ow">is</span> <span class="n">n</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span><span class="o">.</span><span class="n">derivation</span><span class="o">.</span><span class="n">method</span>
<span class="go">&#39;transpose&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span><span class="o">.</span><span class="n">getOffsetInHierarchy</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="go">15.0</span>
</pre></div>
</div>
<p>There is no corresponding <cite>.setOffsetInHierarchy()</cite> since it&#8217;s unclear what that would mean.</p>
<p><em>new in v.3</em></p>
</dd></dl>

<dl class="method">
<dt id="music21.base.Music21Object.getSpannerSites">
<code class="descclassname">Music21Object.</code><code class="descname">getSpannerSites</code><span class="sig-paren">(</span><em>spannerClassList=None</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.base.Music21Object.getSpannerSites" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all <a class="reference internal" href="moduleSpanner.html#music21.spanner.Spanner" title="music21.spanner.Spanner"><code class="xref py py-class docutils literal"><span class="pre">Spanner</span></code></a> objects
(or Spanner subclasses) that contain
this element. This method provides a way for
objects to be aware of what Spanners they
reside in. Note that Spanners are not Streams
but specialized Music21Objects that use a
Stream subclass, SpannerStorage, internally to keep track
of the elements that are spanned.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;C4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;D4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sp1</span> <span class="o">=</span> <span class="n">spanner</span><span class="o">.</span><span class="n">Slur</span><span class="p">(</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span><span class="o">.</span><span class="n">getSpannerSites</span><span class="p">()</span> <span class="o">==</span> <span class="p">[</span><span class="n">sp1</span><span class="p">]</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Note that not all Spanners are in the spanner module. They
tend to reside in modules closer to their musical function:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sp2</span> <span class="o">=</span> <span class="n">dynamics</span><span class="o">.</span><span class="n">Crescendo</span><span class="p">(</span><span class="n">n2</span><span class="p">,</span> <span class="n">n1</span><span class="p">)</span>
</pre></div>
</div>
<p>The order that Spanners are returned is usually the order they
were created, but on fast computers there can be ties, so use
a set comparison if you expect multiple:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">set</span><span class="p">(</span><span class="n">n2</span><span class="o">.</span><span class="n">getSpannerSites</span><span class="p">())</span> <span class="o">==</span> <span class="nb">set</span><span class="p">([</span><span class="n">sp1</span><span class="p">,</span> <span class="n">sp2</span><span class="p">])</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Optionally a class name or list of class names can be
specified and only Spanners of that class will be returned</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sp3</span> <span class="o">=</span> <span class="n">dynamics</span><span class="o">.</span><span class="n">Diminuendo</span><span class="p">(</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span><span class="o">.</span><span class="n">getSpannerSites</span><span class="p">(</span><span class="s1">&#39;Diminuendo&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="p">[</span><span class="n">sp3</span><span class="p">]</span>
<span class="go">True</span>
</pre></div>
</div>
<p>A larger class name can be used to get all subclasses:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">set</span><span class="p">(</span><span class="n">n2</span><span class="o">.</span><span class="n">getSpannerSites</span><span class="p">(</span><span class="s1">&#39;DynamicWedge&#39;</span><span class="p">))</span> <span class="o">==</span> <span class="nb">set</span><span class="p">([</span><span class="n">sp2</span><span class="p">,</span> <span class="n">sp3</span><span class="p">])</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">set</span><span class="p">(</span><span class="n">n2</span><span class="o">.</span><span class="n">getSpannerSites</span><span class="p">([</span><span class="s1">&#39;Slur&#39;</span><span class="p">,</span><span class="s1">&#39;Diminuendo&#39;</span><span class="p">]))</span> <span class="o">==</span> <span class="nb">set</span><span class="p">([</span><span class="n">sp1</span><span class="p">,</span> <span class="n">sp3</span><span class="p">])</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">set</span><span class="p">(</span><span class="n">n2</span><span class="o">.</span><span class="n">getSpannerSites</span><span class="p">([</span><span class="s1">&#39;Slur&#39;</span><span class="p">,</span><span class="s1">&#39;Diminuendo&#39;</span><span class="p">]))</span> <span class="o">==</span> <span class="nb">set</span><span class="p">([</span><span class="n">sp3</span><span class="p">,</span> <span class="n">sp1</span><span class="p">])</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Example: see which pairs of notes are in the same slur.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">n3</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;E4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sp4</span> <span class="o">=</span> <span class="n">spanner</span><span class="o">.</span><span class="n">Slur</span><span class="p">(</span><span class="n">n1</span><span class="p">,</span> <span class="n">n3</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="p">[</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">]:</span>
<span class="gp">... </span>   <span class="k">for</span> <span class="n">nOther</span> <span class="ow">in</span> <span class="p">[</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">]:</span>
<span class="gp">... </span>       <span class="k">if</span> <span class="n">n</span> <span class="ow">is</span> <span class="n">nOther</span><span class="p">:</span>
<span class="gp">... </span>           <span class="k">continue</span>
<span class="gp">... </span>       <span class="n">nSlurs</span> <span class="o">=</span> <span class="n">n</span><span class="o">.</span><span class="n">getSpannerSites</span><span class="p">(</span><span class="s1">&#39;Slur&#39;</span><span class="p">)</span>
<span class="gp">... </span>       <span class="n">nOtherSlurs</span> <span class="o">=</span> <span class="n">nOther</span><span class="o">.</span><span class="n">getSpannerSites</span><span class="p">(</span><span class="s1">&#39;Slur&#39;</span><span class="p">)</span>
<span class="gp">... </span>       <span class="k">for</span> <span class="n">thisSlur</span> <span class="ow">in</span> <span class="n">nSlurs</span><span class="p">:</span>
<span class="gp">... </span>           <span class="k">if</span> <span class="n">thisSlur</span> <span class="ow">in</span> <span class="n">nOtherSlurs</span><span class="p">:</span>
<span class="gp">... </span>              <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> shares a slur with </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">n</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">nOther</span><span class="o">.</span><span class="n">name</span><span class="p">))</span>
<span class="go">C shares a slur with D</span>
<span class="go">C shares a slur with E</span>
<span class="go">D shares a slur with C</span>
<span class="go">E shares a slur with C</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list(spanner.Spanner)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="music21.base.Music21Object.informSites">
<code class="descclassname">Music21Object.</code><code class="descname">informSites</code><span class="sig-paren">(</span><em>changedInformation=None</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.base.Music21Object.informSites" title="Permalink to this definition">¶</a></dt>
<dd><p>trigger called whenever sites need to be informed of a change
in the parameters of this object.</p>
<p><cite>changedInformation</cite> is not used now, but it can be a dictionary
of what has changed.</p>
<p>subclass this to do very interesting things.</p>
</dd></dl>

<dl class="method">
<dt id="music21.base.Music21Object.isClassOrSubclass">
<code class="descclassname">Music21Object.</code><code class="descname">isClassOrSubclass</code><span class="sig-paren">(</span><em>classFilterList</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.base.Music21Object.isClassOrSubclass" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a class filter list (a list or tuple must be submitted),
which may have strings or class objects, determine
if this class is of the provided classes or a subclasses.</p>
<p>NOTE: this is a performance critical operation
for performance, only accept lists or tuples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">isClassOrSubclass</span><span class="p">((</span><span class="s1">&#39;Note&#39;</span><span class="p">,))</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">isClassOrSubclass</span><span class="p">((</span><span class="s1">&#39;GeneralNote&#39;</span><span class="p">,))</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">isClassOrSubclass</span><span class="p">((</span><span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">,))</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">isClassOrSubclass</span><span class="p">((</span><span class="n">note</span><span class="o">.</span><span class="n">Rest</span><span class="p">,))</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">isClassOrSubclass</span><span class="p">((</span><span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">,</span><span class="n">note</span><span class="o">.</span><span class="n">Rest</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">isClassOrSubclass</span><span class="p">((</span><span class="s1">&#39;Rest&#39;</span><span class="p">,</span><span class="s1">&#39;Note&#39;</span><span class="p">))</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.Music21Object.mergeAttributes">
<code class="descclassname">Music21Object.</code><code class="descname">mergeAttributes</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.base.Music21Object.mergeAttributes" title="Permalink to this definition">¶</a></dt>
<dd><p>Merge all elementary, static attributes. Namely,
<cite>id</cite> and <cite>groups</cite> attributes from another music21 object.
Can be useful for copy-like operations.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">m1</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">Music21Object</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m2</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">Music21Object</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m1</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="s1">&#39;music21Object1&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m1</span><span class="o">.</span><span class="n">groups</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;group1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m2</span><span class="o">.</span><span class="n">mergeAttributes</span><span class="p">(</span><span class="n">m1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m2</span><span class="o">.</span><span class="n">id</span>
<span class="go">&#39;music21Object1&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s2">&quot;group1&quot;</span> <span class="ow">in</span> <span class="n">m2</span><span class="o">.</span><span class="n">groups</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.Music21Object.next">
<code class="descclassname">Music21Object.</code><code class="descname">next</code><span class="sig-paren">(</span><em>className=None</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.base.Music21Object.next" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the next element found in the activeSite (or other Sites)
of this Music21Object.</p>
<p>The <cite>className</cite> can be used to specify one or more classes to match.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;bwv66.6&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m3</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">measure</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m4</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">measure</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m3</span>
<span class="go">&lt;music21.stream.Measure 3 offset=9.0&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m3</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s1">&#39;t&#39;</span><span class="p">)</span>
<span class="go">{0.0} &lt;music21.layout.SystemLayout&gt;</span>
<span class="go">{0.0} &lt;music21.note.Note A&gt;</span>
<span class="go">{0.5} &lt;music21.note.Note B&gt;</span>
<span class="go">{1.0} &lt;music21.note.Note G#&gt;</span>
<span class="go">{2.0} &lt;music21.note.Note F#&gt;</span>
<span class="go">{3.0} &lt;music21.note.Note A&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m3</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>
<span class="go">&lt;music21.layout.SystemLayout&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nextM3</span> <span class="o">=</span> <span class="n">m3</span><span class="o">.</span><span class="n">next</span><span class="p">(</span><span class="s1">&#39;Measure&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nextM3</span> <span class="ow">is</span> <span class="n">m4</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Note that calling next() repeatedly gives...the same object.  You&#8217;ll want to
call next on that object...</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">m3</span><span class="o">.</span><span class="n">next</span><span class="p">(</span><span class="s1">&#39;Measure&#39;</span><span class="p">)</span> <span class="ow">is</span> <span class="n">s</span><span class="o">.</span><span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">measure</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m3</span><span class="o">.</span><span class="n">next</span><span class="p">(</span><span class="s1">&#39;Measure&#39;</span><span class="p">)</span> <span class="ow">is</span> <span class="n">s</span><span class="o">.</span><span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">measure</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>So do this instead:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">o</span> <span class="o">=</span> <span class="n">m3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">o</span> <span class="o">=</span> <span class="n">o</span><span class="o">.</span><span class="n">next</span><span class="p">(</span><span class="s1">&#39;Measure&#39;</span><span class="p">)</span>
<span class="go">&lt;music21.stream.Measure 3 offset=9.0&gt;</span>
<span class="go">&lt;music21.stream.Measure 4 offset=13.0&gt;</span>
<span class="go">&lt;music21.stream.Measure 5 offset=17.0&gt;</span>
<span class="go">&lt;music21.stream.Measure 6 offset=21.0&gt;        </span>
<span class="go">&lt;music21.stream.Measure 7 offset=25.0&gt;        </span>
</pre></div>
</div>
<p>We can find the next element given a certain class with the <cite>classFilterList</cite>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">m3</span><span class="o">.</span><span class="n">next</span><span class="p">(</span><span class="s1">&#39;Note&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span>
<span class="go">&lt;music21.note.Note A&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">measureNumber</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="ow">is</span> <span class="n">m3</span><span class="o">.</span><span class="n">notes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>
<span class="go">&lt;music21.note.Note B&gt;</span>
</pre></div>
</div>
<p>..note:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>There may be some unusual cases of using obj.next() in Python2 if obj
uses itself as an Iterator, because Py2 assumes that each iterable has
a .next() function.  In Python3 there will be no problem since the
`next()` function is renamed to `__next__()`.
</pre></div>
</div>
<p>Notice though that when we get to the end of the set of measures, something
interesting happens (maybe it shouldn&#8217;t? don&#8217;t count on this...): we descend
into the last measure and give its elements instead.</p>
<p>We&#8217;ll leave o where it is (m8 now) to demonstrate what happens, and also
print its Part for more information...</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">while</span> <span class="n">o</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">o</span><span class="o">.</span><span class="n">getContextByClass</span><span class="p">(</span><span class="s1">&#39;Part&#39;</span><span class="p">))</span>
<span class="gp">... </span>    <span class="n">o</span> <span class="o">=</span> <span class="n">o</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>
<span class="go">&lt;music21.stream.Measure 8 offset=29.0&gt; &lt;music21.stream.Part Soprano&gt;</span>
<span class="go">&lt;music21.note.Note F#&gt; &lt;music21.stream.Part Soprano&gt;</span>
<span class="go">&lt;music21.note.Note F#&gt; &lt;music21.stream.Part Soprano&gt;</span>
<span class="go">&lt;music21.note.Note F#&gt; &lt;music21.stream.Part Soprano&gt;</span>
<span class="go">&lt;music21.stream.Measure 9 offset=33.0&gt; &lt;music21.stream.Part Soprano&gt;</span>
<span class="go">&lt;music21.note.Note F#&gt; &lt;music21.stream.Part Soprano&gt;</span>
<span class="go">&lt;music21.note.Note F#&gt; &lt;music21.stream.Part Soprano&gt;</span>
<span class="go">&lt;music21.note.Note E#&gt; &lt;music21.stream.Part Soprano&gt;</span>
<span class="go">&lt;music21.note.Note F#&gt; &lt;music21.stream.Part Soprano&gt;</span>
<span class="go">&lt;music21.bar.Barline style=final&gt; &lt;music21.stream.Part Soprano&gt;        </span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.Music21Object.previous">
<code class="descclassname">Music21Object.</code><code class="descname">previous</code><span class="sig-paren">(</span><em>className=None</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.base.Music21Object.previous" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the previous element found in the activeSite or other .sites of this
Music21Object.</p>
<p>The <cite>classFilterList</cite> can be used to specify one or more classes to match.</p>
<p>The <cite>flattenLocalSites</cite> parameter determines if the sites of this element 
(e.g., a Measure&#8217;s Part) are flattened on first search. When True, elements 
contained in adjacent containers may be selected first.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;bwv66.6&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m2</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">iter</span><span class="o">.</span><span class="n">getElementsByClass</span><span class="p">(</span><span class="s1">&#39;Measure&#39;</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span> <span class="c1"># pickup measure</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m3</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">iter</span><span class="o">.</span><span class="n">getElementsByClass</span><span class="p">(</span><span class="s1">&#39;Measure&#39;</span><span class="p">)[</span><span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m3</span>
<span class="go">&lt;music21.stream.Measure 3 offset=9.0&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m3prev</span> <span class="o">=</span> <span class="n">m3</span><span class="o">.</span><span class="n">previous</span><span class="p">()</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">m3prev</span>
<span class="go">&lt;music21.note.Note C#&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m3prev</span> <span class="ow">is</span> <span class="n">m2</span><span class="o">.</span><span class="n">notes</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m3</span><span class="o">.</span><span class="n">previous</span><span class="p">(</span><span class="s1">&#39;Measure&#39;</span><span class="p">)</span> <span class="ow">is</span> <span class="n">m2</span>
<span class="go">True        </span>
</pre></div>
</div>
<p>We&#8217;ll iterate backwards from the first note of the second measure of the Alto part.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">o</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">iter</span><span class="o">.</span><span class="n">getElementsByClass</span><span class="p">(</span><span class="s1">&#39;Measure&#39;</span><span class="p">)[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">while</span> <span class="n">o</span><span class="p">:</span>
<span class="gp">... </span>   <span class="nb">print</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
<span class="gp">... </span>   <span class="n">o</span> <span class="o">=</span> <span class="n">o</span><span class="o">.</span><span class="n">previous</span><span class="p">()</span>
<span class="go">&lt;music21.note.Note E&gt;</span>
<span class="go">&lt;music21.stream.Measure 2 offset=5.0&gt;</span>
<span class="go">&lt;music21.note.Note E&gt;</span>
<span class="go">&lt;music21.note.Note E&gt;</span>
<span class="go">&lt;music21.note.Note E&gt;</span>
<span class="go">&lt;music21.note.Note F#&gt;</span>
<span class="go">&lt;music21.stream.Measure 1 offset=1.0&gt;</span>
<span class="go">&lt;music21.note.Note E&gt;</span>
<span class="go">&lt;music21.meter.TimeSignature 4/4&gt;</span>
<span class="go">f# minor</span>
<span class="go">&lt;music21.clef.TrebleClef&gt;</span>
<span class="go">&lt;music21.stream.Measure 0 offset=0.0&gt;</span>
<span class="go">P2: Alto: Instrument 2</span>
<span class="go">&lt;music21.stream.Part Alto&gt;</span>
<span class="go">&lt;music21.stream.Part Soprano&gt;</span>
<span class="go">&lt;music21.metadata.Metadata object at 0x11116d080&gt;</span>
<span class="go">&lt;music21.stream.Score 0x10513af98&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.Music21Object.purgeLocations">
<code class="descclassname">Music21Object.</code><code class="descname">purgeLocations</code><span class="sig-paren">(</span><em>rescanIsDead=False</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.base.Music21Object.purgeLocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove references to all locations in objects that no longer exist.</p>
</dd></dl>

<dl class="method">
<dt id="music21.base.Music21Object.purgeOrphans">
<code class="descclassname">Music21Object.</code><code class="descname">purgeOrphans</code><span class="sig-paren">(</span><em>excludeStorageStreams=True</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.base.Music21Object.purgeOrphans" title="Permalink to this definition">¶</a></dt>
<dd><p>A Music21Object may, due to deep copying or other reasons,
have contain a site (with an offset); yet, that site may
no longer contain the Music21Object. These lingering sites
are called orphans. This methods gets rid of them.</p>
<p>The <cite>excludeStorageStreams</cite> are SpannerStorage and VariantStorage.</p>
</dd></dl>

<dl class="method">
<dt id="music21.base.Music21Object.setOffsetBySite">
<code class="descclassname">Music21Object.</code><code class="descname">setOffsetBySite</code><span class="sig-paren">(</span><em>site</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.base.Music21Object.setOffsetBySite" title="Permalink to this definition">¶</a></dt>
<dd><p>Change the offset for a site.  These are equivalent:</p>
<blockquote>
<div>n1.setOffsetBySite(stream1, 20)</div></blockquote>
<p>and</p>
<blockquote>
<div>stream1.setElementOffset(n1, 20)</div></blockquote>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">music21</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aSite</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">music21</span><span class="o">.</span><span class="n">Music21Object</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">sites</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">aSite</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aSite</span><span class="o">.</span><span class="n">setElementOffset</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">setOffsetBySite</span><span class="p">(</span><span class="n">aSite</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">getOffsetBySite</span><span class="p">(</span><span class="n">aSite</span><span class="p">)</span>
<span class="go">30.0</span>
</pre></div>
</div>
<p>And if it isn&#8217;t there? Nothing changes.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">.</span><span class="n">setOffsetBySite</span><span class="p">(</span><span class="n">aSite</span><span class="p">,</span> <span class="mi">40</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">.</span><span class="n">offset</span>
<span class="go">0.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.Music21Object.show">
<code class="descclassname">Music21Object.</code><code class="descname">show</code><span class="sig-paren">(</span><em>fmt=None</em>, <em>app=None</em>, <em>**keywords</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.base.Music21Object.show" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays an object in a format provided by the
fmt argument or, if not provided, the format set in the user&#8217;s Environment</p>
<dl class="docutils">
<dt>Valid formats include (but are not limited to)::</dt>
<dd>musicxml
text
midi
lily (or lilypond)
lily.png
lily.pdf
lily.svg
braille
vexflow
musicxml.png</dd>
</dl>
<p>N.B. score.write(&#8216;lily&#8217;) returns a bare lilypond file,
score.show(&#8216;lily&#8217;) runs it through lilypond and displays it as a png.</p>
</dd></dl>

<dl class="method">
<dt id="music21.base.Music21Object.sortTuple">
<code class="descclassname">Music21Object.</code><code class="descname">sortTuple</code><span class="sig-paren">(</span><em>useSite=False</em>, <em>raiseExceptionOnMiss=False</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.base.Music21Object.sortTuple" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a collections.namedtuple called SortTuple(atEnd, offset, priority, classSortOrder,
isNotGrace, insertIndex)
which contains the six elements necessary to determine the sort order of any set of
objects in a Stream.</p>
<p>1) atEnd = {0, 1}; Elements specified to always stay at 
the end of a stream (<code class="docutils literal"><span class="pre">stream.storeAtEnd</span></code>)
sort after normal elements.</p>
<p>2) offset = float; Offset (with respect to the active site) is the next and most
important parameter in determining the order of elements in a stream (the note on beat 1
has offset 0.0, while the note on beat 2 might have offset 1.0).</p>
<p>3) priority = int; Priority is a
user-specified property (default 0) that can set the order of 
elements which have the same
offset (for instance, two Parts both at offset 0.0).</p>
<p>4) classSortOrder = int or float; ClassSortOrder
is the third level of comparison that gives an ordering to elements with different classes,
ensuring, for instance that Clefs (classSortOrder = 0) sort before Notes 
(classSortOrder = 20).</p>
<ol class="arabic simple" start="5">
<li>isNotGrace = {0, 1}; 0 = grace, 1 = normal. Grace notes sort before normal notes</li>
</ol>
<p>6) The last tie breaker is the creation time (insertIndex) of the site object
represented by the activeSite.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">offset</span> <span class="o">=</span> <span class="mf">4.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">priority</span> <span class="o">=</span> <span class="o">-</span><span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">sortTuple</span><span class="p">()</span>
<span class="go">SortTuple(atEnd=0, offset=4.0, priority=-3, classSortOrder=20, </span>
<span class="go">            isNotGrace=1, insertIndex=0)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">st</span> <span class="o">=</span> <span class="n">n</span><span class="o">.</span><span class="n">sortTuple</span><span class="p">()</span>
</pre></div>
</div>
<p>Check that all these values are the same as above...</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">st</span><span class="o">.</span><span class="n">offset</span> <span class="o">==</span> <span class="n">n</span><span class="o">.</span><span class="n">offset</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">st</span><span class="o">.</span><span class="n">priority</span> <span class="o">==</span> <span class="n">n</span><span class="o">.</span><span class="n">priority</span>
<span class="go">True</span>
</pre></div>
</div>
<p>An object&#8217;s classSortOrder comes from the Class object itself:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">st</span><span class="o">.</span><span class="n">classSortOrder</span> <span class="o">==</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="o">.</span><span class="n">classSortOrder</span>
<span class="go">True</span>
</pre></div>
</div>
<p>SortTuples have a few methods that are documented in <a class="reference internal" href="moduleSorting.html#music21.sorting.SortTuple" title="music21.sorting.SortTuple"><code class="xref py py-class docutils literal"><span class="pre">SortTuple</span></code></a>.
The most useful one for documenting is <cite>.shortRepr()</cite>.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">st</span><span class="o">.</span><span class="n">shortRepr</span><span class="p">()</span>
<span class="go">&#39;4.0 &lt;-3.20.0&gt;&#39;</span>
</pre></div>
</div>
<p>Inserting the note into the Stream will set the insertIndex.  Most implementations of
music21 will use a global counter rather than an actual timer.  Note that this is a
last resort, but useful for things such as mutiple Parts inserted in order.  It changes
with each run, so we can&#8217;t display it here...</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">sortTuple</span><span class="p">()</span>
<span class="go">SortTuple(atEnd=0, offset=4.0, priority=-3, classSortOrder=20,</span>
<span class="go">             isNotGrace=1, insertIndex=...)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">nInsertIndex</span> <span class="o">=</span> <span class="n">n</span><span class="o">.</span><span class="n">sortTuple</span><span class="p">()</span><span class="o">.</span><span class="n">insertIndex</span>
</pre></div>
</div>
<p>If we create another nearly identical note, the insertIndex will be different:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span><span class="o">.</span><span class="n">offset</span> <span class="o">=</span> <span class="mf">4.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span><span class="o">.</span><span class="n">priority</span> <span class="o">=</span> <span class="o">-</span><span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">n2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2InsertIndex</span> <span class="o">=</span> <span class="n">n2</span><span class="o">.</span><span class="n">sortTuple</span><span class="p">()</span><span class="o">.</span><span class="n">insertIndex</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2InsertIndex</span> <span class="o">&gt;</span> <span class="n">nInsertIndex</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rb</span> <span class="o">=</span> <span class="n">bar</span><span class="o">.</span><span class="n">Barline</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">storeAtEnd</span><span class="p">(</span><span class="n">rb</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rb</span><span class="o">.</span><span class="n">sortTuple</span><span class="p">()</span>
<span class="go">SortTuple(atEnd=1, offset=0.0, priority=0, classSortOrder=-5, </span>
<span class="go">            isNotGrace=1, insertIndex=...)  </span>
</pre></div>
</div>
<p>Normally if there&#8217;s a site specified and the element is not in the site,
the offset of None will be used, but if raiseExceptionOnMiss is set to True
then a SitesException will be raised:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">aloneNote</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aloneNote</span><span class="o">.</span><span class="n">offset</span> <span class="o">=</span> <span class="mi">30</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aloneStream</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;aloneStream&#39;</span><span class="p">)</span>  <span class="c1"># no insert</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aloneNote</span><span class="o">.</span><span class="n">sortTuple</span><span class="p">(</span><span class="n">aloneStream</span><span class="p">)</span>
<span class="go">SortTuple(atEnd=0, offset=30.0, priority=0, classSortOrder=20, isNotGrace=1, insertIndex=0)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">aloneNote</span><span class="o">.</span><span class="n">sortTuple</span><span class="p">(</span><span class="n">aloneStream</span><span class="p">,</span> <span class="n">raiseExceptionOnMiss</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="gr">music21.sites.SitesException</span>: <span class="n">an entry for this object 0x... is not stored in </span>
<span class="go">    stream &lt;music21.stream.Stream aloneStream&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.Music21Object.splitAtDurations">
<code class="descclassname">Music21Object.</code><code class="descname">splitAtDurations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#music21.base.Music21Object.splitAtDurations" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes a Music21Object (e.g., a note.Note) and returns a list of similar
objects with only a single duration.DurationTuple in each.
Ties are added if the object supports ties.</p>
<p>Articulations only appear on the first note.  Same with lyrics.</p>
<p>Fermatas should be on last note, but not done yet.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span> <span class="c1"># remove defaults</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">addDurationTuple</span><span class="p">(</span><span class="n">duration</span><span class="o">.</span><span class="n">durationTupleFromTypeDots</span><span class="p">(</span><span class="s1">&#39;half&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">quarterLength</span>
<span class="go">2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">addDurationTuple</span><span class="p">(</span><span class="n">duration</span><span class="o">.</span><span class="n">durationTupleFromTypeDots</span><span class="p">(</span><span class="s1">&#39;whole&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">quarterLength</span>
<span class="go">6.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">splitAtDurations</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span>
<span class="go">(&lt;music21.note.Note C&gt;, &lt;music21.note.Note C&gt;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">pitch</span> <span class="o">==</span> <span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">pitch</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">duration</span>
<span class="go">&lt;music21.duration.Duration 2.0&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">type</span>
<span class="go">&#39;half&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">type</span>
<span class="go">&#39;whole&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">quarterLength</span><span class="p">,</span> <span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">quarterLength</span>
<span class="go">(2.0, 4.0)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mf">2.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="p">,</span> <span class="n">e</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">splitAtDurations</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">type</span>
<span class="go">&#39;half&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">type</span>
<span class="go">&#39;eighth&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">tie</span><span class="o">.</span><span class="n">type</span>
<span class="go">&#39;start&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">tie</span><span class="p">)</span>
<span class="go">&lt;music21.tie.Tie stop&gt;</span>
</pre></div>
</div>
<p>Assume c is tied to the next note.  Then the last split note should also be tied</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">tie</span> <span class="o">=</span> <span class="n">tie</span><span class="o">.</span><span class="n">Tie</span><span class="p">(</span><span class="s1">&#39;start&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="p">,</span> <span class="n">e</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">splitAtDurations</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">tie</span><span class="o">.</span><span class="n">type</span>
<span class="go">&#39;start&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e</span><span class="o">.</span><span class="n">tie</span><span class="o">.</span><span class="n">type</span>
<span class="go">&#39;continue&#39;</span>
</pre></div>
</div>
<p>Rests have no ties:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Rest</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mf">2.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">splitAtDurations</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">h</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<span class="go">(&#39;half&#39;, &#39;eighth&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">tie</span> <span class="ow">is</span> <span class="kc">None</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">tie</span> <span class="ow">is</span> <span class="kc">None</span>
<span class="go">True</span>
</pre></div>
</div>
<p>It should work for complex notes with tuplets.</p>
<p>(this duration occurs in Modena A, Le greygnour bien, from the ars subtilior, c. 1380;
hence how I discovered this bug)</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="o">+</span> <span class="mf">0.0625</span> <span class="c1"># eighth + 64th</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">duration</span><span class="o">.</span><span class="n">Tuplet</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">appendTuplet</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">first</span><span class="p">,</span> <span class="n">last</span> <span class="o">=</span> <span class="n">n</span><span class="o">.</span><span class="n">splitAtDurations</span><span class="p">()</span>  
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">first</span><span class="o">.</span><span class="n">duration</span><span class="p">,</span> <span class="n">last</span><span class="o">.</span><span class="n">duration</span><span class="p">)</span>
<span class="go">(&lt;music21.duration.Duration 0.375&gt;, &lt;music21.duration.Duration 0.046875&gt;)</span>
</pre></div>
</div>
<p>Notice that this duration could have been done w/o tuplets, so no tuplets in output:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">first</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">first</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">dots</span><span class="p">,</span> <span class="n">first</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">tuplets</span><span class="p">)</span>
<span class="go">(&#39;16th&#39;, 1, ())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">last</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">last</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">dots</span><span class="p">,</span> <span class="n">last</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">tuplets</span><span class="p">)</span>
<span class="go">(&#39;128th&#39;, 1, ())</span>
</pre></div>
</div>
<p>Test of one with tuplets that cannot be split:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="o">+</span> <span class="mf">0.0625</span> <span class="c1"># eighth + 64th</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">duration</span><span class="o">.</span><span class="n">Tuplet</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">appendTuplet</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">n</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">n</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">dots</span><span class="p">,</span> <span class="n">n</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">tuplets</span><span class="p">)</span>
<span class="go">(&#39;complex&#39;, 0, (&lt;music21.duration.Tuplet 3/2/eighth&gt;,))</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">first</span><span class="p">,</span> <span class="n">last</span> <span class="o">=</span> <span class="n">n</span><span class="o">.</span><span class="n">splitAtDurations</span><span class="p">()</span>  
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">first</span><span class="o">.</span><span class="n">duration</span><span class="p">,</span> <span class="n">last</span><span class="o">.</span><span class="n">duration</span><span class="p">)</span>
<span class="go">(&lt;music21.duration.Duration 1/3&gt;, &lt;music21.duration.Duration 1/24&gt;)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">first</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">first</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">dots</span><span class="p">,</span> <span class="n">first</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">tuplets</span><span class="p">)</span>
<span class="go">(&#39;eighth&#39;, 0, (&lt;music21.duration.Tuplet 3/2/eighth&gt;,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">last</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">last</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">dots</span><span class="p">,</span> <span class="n">last</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">tuplets</span><span class="p">)</span>
<span class="go">(&#39;64th&#39;, 0, (&lt;music21.duration.Tuplet 3/2/64th&gt;,))</span>
</pre></div>
</div>
<p>TODO: unite this and other functions into a &#8220;split&#8221; function &#8211; document obscure uses.</p>
</dd></dl>

<dl class="method">
<dt id="music21.base.Music21Object.splitAtQuarterLength">
<code class="descclassname">Music21Object.</code><code class="descname">splitAtQuarterLength</code><span class="sig-paren">(</span><em>quarterLength</em>, <em>retainOrigin=True</em>, <em>addTies=True</em>, <em>displayTiedAccidentals=False</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.base.Music21Object.splitAtQuarterLength" title="Permalink to this definition">¶</a></dt>
<dd><p>Split an Element into two Elements at a provided
<cite>quarterLength</cite> (offset) into the Element.</p>
<p>Returns a specialized tuple called a SplitTuple that also has
a .spannerList element which is a list of spanners
that were created during the split, such as by</p>
<p>TODO: unit into a &#8220;split&#8221; function &#8211; document obscure uses.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;C#5&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s1">&#39;whole&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">articulations</span> <span class="o">=</span> <span class="p">[</span><span class="n">articulations</span><span class="o">.</span><span class="n">Staccato</span><span class="p">()]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">lyric</span> <span class="o">=</span> <span class="s1">&#39;hi&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">expressions</span> <span class="o">=</span> <span class="p">[</span><span class="n">expressions</span><span class="o">.</span><span class="n">Mordent</span><span class="p">(),</span> <span class="n">expressions</span><span class="o">.</span><span class="n">Trill</span><span class="p">(),</span> <span class="n">expressions</span><span class="o">.</span><span class="n">Fermata</span><span class="p">()]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">st</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">splitAtQuarterLength</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="n">st</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">type</span>
<span class="go">&#39;half&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">dots</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">quarterLength</span>
<span class="go">3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">.</span><span class="n">articulations</span>
<span class="go">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">.</span><span class="n">lyric</span>
<span class="go">&#39;hi&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">.</span><span class="n">expressions</span>
<span class="go">[&lt;music21.expressions.Mordent&gt;, &lt;music21.expressions.Trill&gt;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">type</span>
<span class="go">&#39;quarter&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">dots</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">quarterLength</span>
<span class="go">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">articulations</span>
<span class="go">[&lt;music21.articulations.Staccato&gt;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">lyric</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">expressions</span>
<span class="go">[&lt;music21.expressions.Fermata&gt;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">getSpannerSites</span><span class="p">()</span>
<span class="go">[&lt;music21.expressions.TrillExtension &lt;music21.note.Note C#&gt;&lt;music21.note.Note C#&gt;&gt;]</span>
</pre></div>
</div>
<p>st is a _SplitTuple which can get the spanners from it for inserting into a Stream.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">st</span><span class="o">.</span><span class="n">spannerList</span>
<span class="go">[&lt;music21.expressions.TrillExtension &lt;music21.note.Note C#&gt;&lt;music21.note.Note C#&gt;&gt;]</span>
</pre></div>
</div>
<p>Make sure that ties remain as they should be:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;D#4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mf">3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">tie</span> <span class="o">=</span> <span class="n">tie</span><span class="o">.</span><span class="n">Tie</span><span class="p">(</span><span class="s1">&#39;start&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e</span><span class="p">,</span> <span class="n">f</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">splitAtQuarterLength</span><span class="p">(</span><span class="mf">2.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e</span><span class="o">.</span><span class="n">tie</span><span class="p">,</span> <span class="n">f</span><span class="o">.</span><span class="n">tie</span>
<span class="go">(&lt;music21.tie.Tie start&gt;, &lt;music21.tie.Tie continue&gt;)</span>
</pre></div>
</div>
<p>Should be the same for chords...</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">chord</span><span class="o">.</span><span class="n">Chord</span><span class="p">([</span><span class="s1">&#39;C4&#39;</span><span class="p">,</span> <span class="s1">&#39;E4&#39;</span><span class="p">,</span> <span class="s1">&#39;G4&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mf">3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">_notes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">tie</span> <span class="o">=</span> <span class="n">tie</span><span class="o">.</span><span class="n">Tie</span><span class="p">(</span><span class="s1">&#39;start&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h</span><span class="p">,</span> <span class="n">i</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">splitAtQuarterLength</span><span class="p">(</span><span class="mf">2.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">):</span>
<span class="gp">... </span>  <span class="n">h</span><span class="o">.</span><span class="n">_notes</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">tie</span><span class="p">,</span> <span class="n">i</span><span class="o">.</span><span class="n">_notes</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">tie</span>
<span class="go">(&lt;music21.tie.Tie start&gt;, &lt;music21.tie.Tie stop&gt;)</span>
<span class="go">(&lt;music21.tie.Tie start&gt;, &lt;music21.tie.Tie continue&gt;)</span>
<span class="go">(&lt;music21.tie.Tie start&gt;, &lt;music21.tie.Tie stop&gt;)</span>
</pre></div>
</div>
<p>If quarterLength == self.quarterLength then the second element will be None.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mf">0.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">n</span><span class="o">.</span><span class="n">splitAtQuarterLength</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="ow">is</span> <span class="kc">None</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="ow">is</span> <span class="n">n</span>
<span class="go">True</span>
</pre></div>
</div>
<p>(same with retainOrigin off)</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mf">0.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">n</span><span class="o">.</span><span class="n">splitAtQuarterLength</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">retainOrigin</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="ow">is</span> <span class="n">n</span>
<span class="go">False</span>
</pre></div>
</div>
<p>If quarterLength &gt; self.quarterLength then a DurationException will be raised:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mf">0.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">n</span><span class="o">.</span><span class="n">splitAtQuarterLength</span><span class="p">(</span><span class="mf">0.7</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="gr">music21.duration.DurationException</span>: <span class="n">cannot split a duration (0.5) </span>
<span class="go">    at this quarterLength (7/10)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.Music21Object.splitByQuarterLengths">
<code class="descclassname">Music21Object.</code><code class="descname">splitByQuarterLengths</code><span class="sig-paren">(</span><em>quarterLengthList</em>, <em>addTies=True</em>, <em>displayTiedAccidentals=False</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.base.Music21Object.splitByQuarterLengths" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a list of quarter lengths, return a list of
Music21Object objects, copied from this Music21Object,
that are partitioned and tied with the specified quarter
length list durations.</p>
<p>TODO: unit into a &#8220;split&#8221; function &#8211; document obscure uses.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">post</span> <span class="o">=</span> <span class="n">n</span><span class="o">.</span><span class="n">splitByQuarterLengths</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">n</span><span class="o">.</span><span class="n">quarterLength</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">post</span><span class="p">]</span>
<span class="go">[1.0, 1.0, 1.0]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.base.Music21Object.write">
<code class="descclassname">Music21Object.</code><code class="descname">write</code><span class="sig-paren">(</span><em>fmt=None</em>, <em>fp=None</em>, <em>**keywords</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.base.Music21Object.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write out a file of music notation (or an image, etc.) in a given format.  If
fp is specified as a file path then the file will be placed there.  If it is not
given then a temporary file will be created.</p>
<p>If fmt is not given then the default of your Environment&#8217;s &#8216;writeFormat&#8217; will
be used.  For most people that is musicxml.</p>
<p>Returns the full path to the file.</p>
</dd></dl>

<p class="rubric"><a class="reference internal" href="#music21.base.Music21Object" title="music21.base.Music21Object"><code class="xref py py-class docutils literal"><span class="pre">Music21Object</span></code></a> instance variables</p>
<dl class="attribute">
<dt id="music21.base.Music21Object.classSortOrder">
<code class="descclassname">Music21Object.</code><code class="descname">classSortOrder</code><a class="headerlink" href="#music21.base.Music21Object.classSortOrder" title="Permalink to this definition">¶</a></dt>
<dd><p>Property which returns an number (int or otherwise)
depending on the class of the Music21Object that
represents a priority for an object based on its class alone &#8211;
used as a tie for stream sorting in case two objects have the
same offset and priority.  Lower numbers are sorted to the left
of higher numbers.  For instance, Clef, KeySignature, TimeSignature
all come (in that order) before Note.</p>
<p>All undefined classes have classSortOrder of 20 &#8211; same as note.Note</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">m21o</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">Music21Object</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m21o</span><span class="o">.</span><span class="n">classSortOrder</span>
<span class="go">20</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tc</span> <span class="o">=</span> <span class="n">clef</span><span class="o">.</span><span class="n">TrebleClef</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tc</span><span class="o">.</span><span class="n">classSortOrder</span>
<span class="go">0</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ks</span> <span class="o">=</span> <span class="n">key</span><span class="o">.</span><span class="n">KeySignature</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ks</span><span class="o">.</span><span class="n">classSortOrder</span>
<span class="go">2</span>
</pre></div>
</div>
<p>New classes can define their own default classSortOrder</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">ExampleClass</span><span class="p">(</span><span class="n">base</span><span class="o">.</span><span class="n">Music21Object</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">classSortOrder</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ec1</span> <span class="o">=</span> <span class="n">ExampleClass</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ec1</span><span class="o">.</span><span class="n">classSortOrder</span>
<span class="go">5</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="music21.base.Music21Object.groups">
<code class="descclassname">Music21Object.</code><code class="descname">groups</code><a class="headerlink" href="#music21.base.Music21Object.groups" title="Permalink to this definition">¶</a></dt>
<dd><p>An instance of a <code class="xref py py-class docutils literal"><span class="pre">Group</span></code> object which describes
arbitrary <cite>Groups</cite> that this object belongs to.</p>
</dd></dl>

<dl class="attribute">
<dt id="music21.base.Music21Object.hideObjectOnPrint">
<code class="descclassname">Music21Object.</code><code class="descname">hideObjectOnPrint</code><a class="headerlink" href="#music21.base.Music21Object.hideObjectOnPrint" title="Permalink to this definition">¶</a></dt>
<dd><p>if set to <cite>True</cite> will not print upon output
(only used in MusicXML output at this point and
Lilypond for notes, chords, and rests).</p>
</dd></dl>

<dl class="attribute">
<dt id="music21.base.Music21Object.id">
<code class="descclassname">Music21Object.</code><code class="descname">id</code><a class="headerlink" href="#music21.base.Music21Object.id" title="Permalink to this definition">¶</a></dt>
<dd><p>A unique identification string; not to be confused with the
default <cite>.id()</cite> method. However, if not set, will return the <cite>id()</cite> number</p>
</dd></dl>

<dl class="attribute">
<dt id="music21.base.Music21Object.isStream">
<code class="descclassname">Music21Object.</code><code class="descname">isStream</code><a class="headerlink" href="#music21.base.Music21Object.isStream" title="Permalink to this definition">¶</a></dt>
<dd><p>Boolean value for quickly identifying
<a class="reference internal" href="moduleStream.html#music21.stream.Stream" title="music21.stream.Stream"><code class="xref py py-class docutils literal"><span class="pre">Stream</span></code></a> objects (False by default). Deprecated</p>
</dd></dl>

<dl class="attribute">
<dt id="music21.base.Music21Object.xPosition">
<code class="descclassname">Music21Object.</code><code class="descname">xPosition</code><a class="headerlink" href="#music21.base.Music21Object.xPosition" title="Permalink to this definition">¶</a></dt>
<dd><p>if set, defines the display x-position from
the start of the container (in musicxml &#8220;tenths&#8221; by default)</p>
</dd></dl>

</div>
<div class="section" id="elementwrapper">
<h2>ElementWrapper<a class="headerlink" href="#elementwrapper" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="music21.base.ElementWrapper">
<em class="property">class </em><code class="descclassname">music21.base.</code><code class="descname">ElementWrapper</code><span class="sig-paren">(</span><em>obj=None</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.base.ElementWrapper" title="Permalink to this definition">¶</a></dt>
<dd><p>An ElementWrapper is a way of containing any object that is not a
<a class="reference internal" href="#music21.base.Music21Object" title="music21.base.Music21Object"><code class="xref py py-class docutils literal"><span class="pre">Music21Object</span></code></a>, so that that object can be positioned
within a <a class="reference internal" href="moduleStream.html#music21.stream.Stream" title="music21.stream.Stream"><code class="xref py py-class docutils literal"><span class="pre">Stream</span></code></a>.</p>
<p>The object stored within ElementWrapper is available from the
<a class="reference internal" href="#music21.base.ElementWrapper.obj" title="music21.base.ElementWrapper.obj"><code class="xref py py-attr docutils literal"><span class="pre">obj</span></code></a> attribute.  All the attributes of
the stored object (except .id and anything else that conflicts with a
Music21Object attribute) are gettable and settable by querying the
ElementWrapper.  This feature makes it possible easily to mix
Music21Objects and non-Music21Objects with similarly named attributes in
the same Stream.</p>
<p>This example inserts 10 random wave files into a music21 Stream and then
reports their filename and number of audio channels (in this example, it&#8217;s
always 2) if they fall on a strong beat in fast 6/8</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">music21</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wave</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">random</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="s1">&#39;mainStream&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">meter</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">(</span><span class="s1">&#39;fast 6/8&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
<span class="gp">... </span>   <span class="n">fileName</span> <span class="o">=</span> <span class="s1">&#39;thisSound_&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">20</span><span class="p">))</span> <span class="o">+</span> <span class="s1">&#39;.wav&#39;</span>
<span class="gp">... </span>   <span class="n">soundFile</span> <span class="o">=</span> <span class="n">wave</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">fileName</span><span class="p">)</span>
<span class="gp">... </span>   <span class="n">soundFile</span><span class="o">.</span><span class="n">fileName</span> <span class="o">=</span> <span class="n">fileName</span>
<span class="gp">... </span>   <span class="n">el</span> <span class="o">=</span> <span class="n">music21</span><span class="o">.</span><span class="n">ElementWrapper</span><span class="p">(</span><span class="n">soundFile</span><span class="p">)</span>
<span class="gp">... </span>   <span class="n">s</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">el</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">s</span><span class="o">.</span><span class="n">getElementsByClass</span><span class="p">(</span><span class="s1">&#39;ElementWrapper&#39;</span><span class="p">):</span>
<span class="gp">... </span>   <span class="k">if</span> <span class="n">j</span><span class="o">.</span><span class="n">beatStrength</span> <span class="o">&gt;</span> <span class="mf">0.4</span><span class="p">:</span>
<span class="gp">... </span>       <span class="p">(</span><span class="n">j</span><span class="o">.</span><span class="n">offset</span><span class="p">,</span> <span class="n">j</span><span class="o">.</span><span class="n">beatStrength</span><span class="p">,</span> <span class="n">j</span><span class="o">.</span><span class="n">getnchannels</span><span class="p">(),</span> <span class="n">j</span><span class="o">.</span><span class="n">fileName</span><span class="p">)</span>
<span class="go">(0.0, 1.0, 2, &#39;thisSound_1.wav&#39;)</span>
<span class="go">(3.0, 1.0, 2, &#39;thisSound_16.wav&#39;)</span>
<span class="go">(6.0, 1.0, 2, &#39;thisSound_12.wav&#39;)</span>
<span class="go">(9.0, 1.0, 2, &#39;thisSound_8.wav&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">s</span><span class="o">.</span><span class="n">getElementsByClass</span><span class="p">(</span><span class="s1">&#39;ElementWrapper&#39;</span><span class="p">):</span>
<span class="gp">... </span>   <span class="k">if</span> <span class="n">j</span><span class="o">.</span><span class="n">beatStrength</span> <span class="o">&gt;</span> <span class="mf">0.4</span><span class="p">:</span>
<span class="gp">... </span>       <span class="p">(</span><span class="n">j</span><span class="o">.</span><span class="n">offset</span><span class="p">,</span> <span class="n">j</span><span class="o">.</span><span class="n">beatStrength</span><span class="p">,</span> <span class="n">j</span><span class="o">.</span><span class="n">getnchannels</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">j</span><span class="o">.</span><span class="n">fileName</span><span class="p">)</span>
<span class="go">(0.0, 1.0, 3, &#39;thisSound_1.wav&#39;)</span>
<span class="go">(3.0, 1.0, 3, &#39;thisSound_16.wav&#39;)</span>
<span class="go">(6.0, 1.0, 3, &#39;thisSound_12.wav&#39;)</span>
<span class="go">(9.0, 1.0, 3, &#39;thisSound_8.wav&#39;)</span>
</pre></div>
</div>
<p>Test representation of an ElementWrapper</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">getElementsByClass</span><span class="p">(</span><span class="s1">&#39;ElementWrapper&#39;</span><span class="p">)):</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">j</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">... </span>    <span class="k">else</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">j</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;_wrapper&quot;</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;=</span><span class="mi">2</span><span class="p">:</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="n">j</span><span class="p">)</span>
<span class="go">&lt;ElementWrapper id=0_wrapper offset=0.0 obj=&quot;&lt;...Wave_read object...&quot;&gt;</span>
<span class="go">&lt;ElementWrapper id=1_wrapper offset=1.0 obj=&quot;&lt;...Wave_read object...&quot;&gt;</span>
<span class="go">&lt;ElementWrapper offset=2.0 obj=&quot;&lt;...Wave_read object...&quot;&gt;</span>
</pre></div>
</div>
</dd></dl>

<p class="rubric"><a class="reference internal" href="#music21.base.ElementWrapper" title="music21.base.ElementWrapper"><code class="xref py py-class docutils literal"><span class="pre">ElementWrapper</span></code></a> bases</p>
<ul class="simple">
<li><a class="reference internal" href="#music21.base.Music21Object" title="music21.base.Music21Object"><code class="xref py py-class docutils literal"><span class="pre">Music21Object</span></code></a></li>
</ul>
<p class="rubric"><a class="reference internal" href="#music21.base.ElementWrapper" title="music21.base.ElementWrapper"><code class="xref py py-class docutils literal"><span class="pre">ElementWrapper</span></code></a> read-only properties</p>
<p>Read-only properties inherited from <a class="reference internal" href="#music21.base.Music21Object" title="music21.base.Music21Object"><code class="xref py py-class docutils literal"><span class="pre">Music21Object</span></code></a>:</p>
<table class="hlist"><tr><td><ul class="simple">
<li><a class="reference internal" href="#music21.base.Music21Object.beat" title="music21.base.Music21Object.beat"><code class="xref py py-attr docutils literal"><span class="pre">beat</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.beatDuration" title="music21.base.Music21Object.beatDuration"><code class="xref py py-attr docutils literal"><span class="pre">beatDuration</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.beatStr" title="music21.base.Music21Object.beatStr"><code class="xref py py-attr docutils literal"><span class="pre">beatStr</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="#music21.base.Music21Object.beatStrength" title="music21.base.Music21Object.beatStrength"><code class="xref py py-attr docutils literal"><span class="pre">beatStrength</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.classSet" title="music21.base.Music21Object.classSet"><code class="xref py py-attr docutils literal"><span class="pre">classSet</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="#music21.base.Music21Object.classes" title="music21.base.Music21Object.classes"><code class="xref py py-attr docutils literal"><span class="pre">classes</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.measureNumber" title="music21.base.Music21Object.measureNumber"><code class="xref py py-attr docutils literal"><span class="pre">measureNumber</span></code></a></li>
</ul>
</td></tr></table>
<p class="rubric"><a class="reference internal" href="#music21.base.ElementWrapper" title="music21.base.ElementWrapper"><code class="xref py py-class docutils literal"><span class="pre">ElementWrapper</span></code></a> read/write properties</p>
<p>Read/write properties inherited from <a class="reference internal" href="#music21.base.Music21Object" title="music21.base.Music21Object"><code class="xref py py-class docutils literal"><span class="pre">Music21Object</span></code></a>:</p>
<table class="hlist"><tr><td><ul class="simple">
<li><a class="reference internal" href="#music21.base.Music21Object.activeSite" title="music21.base.Music21Object.activeSite"><code class="xref py py-attr docutils literal"><span class="pre">activeSite</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.derivation" title="music21.base.Music21Object.derivation"><code class="xref py py-attr docutils literal"><span class="pre">derivation</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.duration" title="music21.base.Music21Object.duration"><code class="xref py py-attr docutils literal"><span class="pre">duration</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="#music21.base.Music21Object.offset" title="music21.base.Music21Object.offset"><code class="xref py py-attr docutils literal"><span class="pre">offset</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.priority" title="music21.base.Music21Object.priority"><code class="xref py py-attr docutils literal"><span class="pre">priority</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="#music21.base.Music21Object.quarterLength" title="music21.base.Music21Object.quarterLength"><code class="xref py py-attr docutils literal"><span class="pre">quarterLength</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.seconds" title="music21.base.Music21Object.seconds"><code class="xref py py-attr docutils literal"><span class="pre">seconds</span></code></a></li>
</ul>
</td></tr></table>
<p class="rubric"><a class="reference internal" href="#music21.base.ElementWrapper" title="music21.base.ElementWrapper"><code class="xref py py-class docutils literal"><span class="pre">ElementWrapper</span></code></a> methods</p>
<dl class="method">
<dt id="music21.base.ElementWrapper.isTwin">
<code class="descclassname">ElementWrapper.</code><code class="descname">isTwin</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.base.ElementWrapper.isTwin" title="Permalink to this definition">¶</a></dt>
<dd><p>A weaker form of equality.  a.isTwin(b) is true if
a and b store either the same object OR objects that are equal.
In other words, it is essentially the same object in a different context</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">copy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">music21</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">aE</span> <span class="o">=</span> <span class="n">music21</span><span class="o">.</span><span class="n">ElementWrapper</span><span class="p">(</span><span class="n">obj</span> <span class="o">=</span> <span class="s2">&quot;hello&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">bE</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">aE</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aE</span> <span class="ow">is</span> <span class="n">bE</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aE</span> <span class="o">==</span> <span class="n">bE</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aE</span><span class="o">.</span><span class="n">isTwin</span><span class="p">(</span><span class="n">bE</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">bE</span><span class="o">.</span><span class="n">offset</span> <span class="o">=</span> <span class="mf">14.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bE</span><span class="o">.</span><span class="n">priority</span> <span class="o">=</span> <span class="o">-</span><span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aE</span> <span class="o">==</span> <span class="n">bE</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aE</span><span class="o">.</span><span class="n">isTwin</span><span class="p">(</span><span class="n">bE</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<p>Methods inherited from <a class="reference internal" href="#music21.base.Music21Object" title="music21.base.Music21Object"><code class="xref py py-class docutils literal"><span class="pre">Music21Object</span></code></a>:</p>
<table class="hlist"><tr><td><ul class="simple">
<li><a class="reference internal" href="#music21.base.Music21Object.containerHierarchy" title="music21.base.Music21Object.containerHierarchy"><code class="xref py py-meth docutils literal"><span class="pre">containerHierarchy()</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.contextSites" title="music21.base.Music21Object.contextSites"><code class="xref py py-meth docutils literal"><span class="pre">contextSites()</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.getAllContextsByClass" title="music21.base.Music21Object.getAllContextsByClass"><code class="xref py py-meth docutils literal"><span class="pre">getAllContextsByClass()</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.getContextByClass" title="music21.base.Music21Object.getContextByClass"><code class="xref py py-meth docutils literal"><span class="pre">getContextByClass()</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.getOffsetBySite" title="music21.base.Music21Object.getOffsetBySite"><code class="xref py py-meth docutils literal"><span class="pre">getOffsetBySite()</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.getOffsetInHierarchy" title="music21.base.Music21Object.getOffsetInHierarchy"><code class="xref py py-meth docutils literal"><span class="pre">getOffsetInHierarchy()</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.getSpannerSites" title="music21.base.Music21Object.getSpannerSites"><code class="xref py py-meth docutils literal"><span class="pre">getSpannerSites()</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="#music21.base.Music21Object.informSites" title="music21.base.Music21Object.informSites"><code class="xref py py-meth docutils literal"><span class="pre">informSites()</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.isClassOrSubclass" title="music21.base.Music21Object.isClassOrSubclass"><code class="xref py py-meth docutils literal"><span class="pre">isClassOrSubclass()</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.mergeAttributes" title="music21.base.Music21Object.mergeAttributes"><code class="xref py py-meth docutils literal"><span class="pre">mergeAttributes()</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.next" title="music21.base.Music21Object.next"><code class="xref py py-meth docutils literal"><span class="pre">next()</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.previous" title="music21.base.Music21Object.previous"><code class="xref py py-meth docutils literal"><span class="pre">previous()</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.purgeLocations" title="music21.base.Music21Object.purgeLocations"><code class="xref py py-meth docutils literal"><span class="pre">purgeLocations()</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.purgeOrphans" title="music21.base.Music21Object.purgeOrphans"><code class="xref py py-meth docutils literal"><span class="pre">purgeOrphans()</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="#music21.base.Music21Object.setOffsetBySite" title="music21.base.Music21Object.setOffsetBySite"><code class="xref py py-meth docutils literal"><span class="pre">setOffsetBySite()</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.show" title="music21.base.Music21Object.show"><code class="xref py py-meth docutils literal"><span class="pre">show()</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.sortTuple" title="music21.base.Music21Object.sortTuple"><code class="xref py py-meth docutils literal"><span class="pre">sortTuple()</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.splitAtDurations" title="music21.base.Music21Object.splitAtDurations"><code class="xref py py-meth docutils literal"><span class="pre">splitAtDurations()</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.splitAtQuarterLength" title="music21.base.Music21Object.splitAtQuarterLength"><code class="xref py py-meth docutils literal"><span class="pre">splitAtQuarterLength()</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.splitByQuarterLengths" title="music21.base.Music21Object.splitByQuarterLengths"><code class="xref py py-meth docutils literal"><span class="pre">splitByQuarterLengths()</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.write" title="music21.base.Music21Object.write"><code class="xref py py-meth docutils literal"><span class="pre">write()</span></code></a></li>
</ul>
</td></tr></table>
<p class="rubric"><a class="reference internal" href="#music21.base.ElementWrapper" title="music21.base.ElementWrapper"><code class="xref py py-class docutils literal"><span class="pre">ElementWrapper</span></code></a> instance variables</p>
<dl class="attribute">
<dt id="music21.base.ElementWrapper.obj">
<code class="descclassname">ElementWrapper.</code><code class="descname">obj</code><a class="headerlink" href="#music21.base.ElementWrapper.obj" title="Permalink to this definition">¶</a></dt>
<dd><p>The object this wrapper wraps. It should not be a Music21Object.</p>
</dd></dl>

<p>Instance variables inherited from <a class="reference internal" href="#music21.base.Music21Object" title="music21.base.Music21Object"><code class="xref py py-class docutils literal"><span class="pre">Music21Object</span></code></a>:</p>
<table class="hlist"><tr><td><ul class="simple">
<li><a class="reference internal" href="#music21.base.Music21Object.classSortOrder" title="music21.base.Music21Object.classSortOrder"><code class="xref py py-attr docutils literal"><span class="pre">classSortOrder</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.groups" title="music21.base.Music21Object.groups"><code class="xref py py-attr docutils literal"><span class="pre">groups</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="#music21.base.Music21Object.hideObjectOnPrint" title="music21.base.Music21Object.hideObjectOnPrint"><code class="xref py py-attr docutils literal"><span class="pre">hideObjectOnPrint</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.id" title="music21.base.Music21Object.id"><code class="xref py py-attr docutils literal"><span class="pre">id</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="#music21.base.Music21Object.isStream" title="music21.base.Music21Object.isStream"><code class="xref py py-attr docutils literal"><span class="pre">isStream</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.xPosition" title="music21.base.Music21Object.xPosition"><code class="xref py py-attr docutils literal"><span class="pre">xPosition</span></code></a></li>
</ul>
</td></tr></table>
</div>
<div class="section" id="contexttuple">
<h2>ContextTuple<a class="headerlink" href="#contexttuple" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="music21.base.ContextTuple">
<em class="property">class </em><code class="descclassname">music21.base.</code><code class="descname">ContextTuple</code><span class="sig-paren">(</span><em>site</em>, <em>offset</em>, <em>recurseType</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.base.ContextTuple" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p class="rubric"><a class="reference internal" href="#music21.base.ContextTuple" title="music21.base.ContextTuple"><code class="xref py py-class docutils literal"><span class="pre">ContextTuple</span></code></a> read-only properties</p>
<dl class="attribute">
<dt id="music21.base.ContextTuple.offset">
<code class="descclassname">ContextTuple.</code><code class="descname">offset</code><a class="headerlink" href="#music21.base.ContextTuple.offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="attribute">
<dt id="music21.base.ContextTuple.recurseType">
<code class="descclassname">ContextTuple.</code><code class="descname">recurseType</code><a class="headerlink" href="#music21.base.ContextTuple.recurseType" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="attribute">
<dt id="music21.base.ContextTuple.site">
<code class="descclassname">ContextTuple.</code><code class="descname">site</code><a class="headerlink" href="#music21.base.ContextTuple.site" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

</div>
<div class="section" id="groups">
<h2>Groups<a class="headerlink" href="#groups" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="music21.base.Groups">
<em class="property">class </em><code class="descclassname">music21.base.</code><code class="descname">Groups</code><a class="headerlink" href="#music21.base.Groups" title="Permalink to this definition">¶</a></dt>
<dd><p>Groups is a list (subclass) of strings used to identify 
associations that an element might have.</p>
<p>The Groups object enforces that all elements must be strings, and that
the same element cannot be provided more than once.</p>
<p>NOTE: In the future, spaces will not be allowed in group names.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">Groups</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;hello&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">&#39;hello&#39;</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;hello&quot;</span><span class="p">)</span> <span class="c1"># not added as already present</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span>
<span class="go">[&#39;hello&#39;]</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="gr">music21.exceptions21.GroupException</span>: <span class="n">Only strings can be used as group names, not 5</span>
</pre></div>
</div>
</dd></dl>

<p class="rubric"><a class="reference internal" href="#music21.base.Groups" title="music21.base.Groups"><code class="xref py py-class docutils literal"><span class="pre">Groups</span></code></a> methods</p>
<dl class="method">
<dt id="music21.base.Groups.append">
<code class="descclassname">Groups.</code><code class="descname">append</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.base.Groups.append" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="testmock">
<h2>TestMock<a class="headerlink" href="#testmock" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="music21.base.TestMock">
<em class="property">class </em><code class="descclassname">music21.base.</code><code class="descname">TestMock</code><a class="headerlink" href="#music21.base.TestMock" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p class="rubric"><a class="reference internal" href="#music21.base.TestMock" title="music21.base.TestMock"><code class="xref py py-class docutils literal"><span class="pre">TestMock</span></code></a> bases</p>
<ul class="simple">
<li><a class="reference internal" href="#music21.base.Music21Object" title="music21.base.Music21Object"><code class="xref py py-class docutils literal"><span class="pre">Music21Object</span></code></a></li>
</ul>
<p class="rubric"><a class="reference internal" href="#music21.base.TestMock" title="music21.base.TestMock"><code class="xref py py-class docutils literal"><span class="pre">TestMock</span></code></a> read-only properties</p>
<p>Read-only properties inherited from <a class="reference internal" href="#music21.base.Music21Object" title="music21.base.Music21Object"><code class="xref py py-class docutils literal"><span class="pre">Music21Object</span></code></a>:</p>
<table class="hlist"><tr><td><ul class="simple">
<li><a class="reference internal" href="#music21.base.Music21Object.beat" title="music21.base.Music21Object.beat"><code class="xref py py-attr docutils literal"><span class="pre">beat</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.beatDuration" title="music21.base.Music21Object.beatDuration"><code class="xref py py-attr docutils literal"><span class="pre">beatDuration</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.beatStr" title="music21.base.Music21Object.beatStr"><code class="xref py py-attr docutils literal"><span class="pre">beatStr</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="#music21.base.Music21Object.beatStrength" title="music21.base.Music21Object.beatStrength"><code class="xref py py-attr docutils literal"><span class="pre">beatStrength</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.classSet" title="music21.base.Music21Object.classSet"><code class="xref py py-attr docutils literal"><span class="pre">classSet</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="#music21.base.Music21Object.classes" title="music21.base.Music21Object.classes"><code class="xref py py-attr docutils literal"><span class="pre">classes</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.measureNumber" title="music21.base.Music21Object.measureNumber"><code class="xref py py-attr docutils literal"><span class="pre">measureNumber</span></code></a></li>
</ul>
</td></tr></table>
<p class="rubric"><a class="reference internal" href="#music21.base.TestMock" title="music21.base.TestMock"><code class="xref py py-class docutils literal"><span class="pre">TestMock</span></code></a> read/write properties</p>
<p>Read/write properties inherited from <a class="reference internal" href="#music21.base.Music21Object" title="music21.base.Music21Object"><code class="xref py py-class docutils literal"><span class="pre">Music21Object</span></code></a>:</p>
<table class="hlist"><tr><td><ul class="simple">
<li><a class="reference internal" href="#music21.base.Music21Object.activeSite" title="music21.base.Music21Object.activeSite"><code class="xref py py-attr docutils literal"><span class="pre">activeSite</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.derivation" title="music21.base.Music21Object.derivation"><code class="xref py py-attr docutils literal"><span class="pre">derivation</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.duration" title="music21.base.Music21Object.duration"><code class="xref py py-attr docutils literal"><span class="pre">duration</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="#music21.base.Music21Object.offset" title="music21.base.Music21Object.offset"><code class="xref py py-attr docutils literal"><span class="pre">offset</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.priority" title="music21.base.Music21Object.priority"><code class="xref py py-attr docutils literal"><span class="pre">priority</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="#music21.base.Music21Object.quarterLength" title="music21.base.Music21Object.quarterLength"><code class="xref py py-attr docutils literal"><span class="pre">quarterLength</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.seconds" title="music21.base.Music21Object.seconds"><code class="xref py py-attr docutils literal"><span class="pre">seconds</span></code></a></li>
</ul>
</td></tr></table>
<p class="rubric"><a class="reference internal" href="#music21.base.TestMock" title="music21.base.TestMock"><code class="xref py py-class docutils literal"><span class="pre">TestMock</span></code></a> methods</p>
<p>Methods inherited from <a class="reference internal" href="#music21.base.Music21Object" title="music21.base.Music21Object"><code class="xref py py-class docutils literal"><span class="pre">Music21Object</span></code></a>:</p>
<table class="hlist"><tr><td><ul class="simple">
<li><a class="reference internal" href="#music21.base.Music21Object.containerHierarchy" title="music21.base.Music21Object.containerHierarchy"><code class="xref py py-meth docutils literal"><span class="pre">containerHierarchy()</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.contextSites" title="music21.base.Music21Object.contextSites"><code class="xref py py-meth docutils literal"><span class="pre">contextSites()</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.getAllContextsByClass" title="music21.base.Music21Object.getAllContextsByClass"><code class="xref py py-meth docutils literal"><span class="pre">getAllContextsByClass()</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.getContextByClass" title="music21.base.Music21Object.getContextByClass"><code class="xref py py-meth docutils literal"><span class="pre">getContextByClass()</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.getOffsetBySite" title="music21.base.Music21Object.getOffsetBySite"><code class="xref py py-meth docutils literal"><span class="pre">getOffsetBySite()</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.getOffsetInHierarchy" title="music21.base.Music21Object.getOffsetInHierarchy"><code class="xref py py-meth docutils literal"><span class="pre">getOffsetInHierarchy()</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.getSpannerSites" title="music21.base.Music21Object.getSpannerSites"><code class="xref py py-meth docutils literal"><span class="pre">getSpannerSites()</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="#music21.base.Music21Object.informSites" title="music21.base.Music21Object.informSites"><code class="xref py py-meth docutils literal"><span class="pre">informSites()</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.isClassOrSubclass" title="music21.base.Music21Object.isClassOrSubclass"><code class="xref py py-meth docutils literal"><span class="pre">isClassOrSubclass()</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.mergeAttributes" title="music21.base.Music21Object.mergeAttributes"><code class="xref py py-meth docutils literal"><span class="pre">mergeAttributes()</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.next" title="music21.base.Music21Object.next"><code class="xref py py-meth docutils literal"><span class="pre">next()</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.previous" title="music21.base.Music21Object.previous"><code class="xref py py-meth docutils literal"><span class="pre">previous()</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.purgeLocations" title="music21.base.Music21Object.purgeLocations"><code class="xref py py-meth docutils literal"><span class="pre">purgeLocations()</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.purgeOrphans" title="music21.base.Music21Object.purgeOrphans"><code class="xref py py-meth docutils literal"><span class="pre">purgeOrphans()</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="#music21.base.Music21Object.setOffsetBySite" title="music21.base.Music21Object.setOffsetBySite"><code class="xref py py-meth docutils literal"><span class="pre">setOffsetBySite()</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.show" title="music21.base.Music21Object.show"><code class="xref py py-meth docutils literal"><span class="pre">show()</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.sortTuple" title="music21.base.Music21Object.sortTuple"><code class="xref py py-meth docutils literal"><span class="pre">sortTuple()</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.splitAtDurations" title="music21.base.Music21Object.splitAtDurations"><code class="xref py py-meth docutils literal"><span class="pre">splitAtDurations()</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.splitAtQuarterLength" title="music21.base.Music21Object.splitAtQuarterLength"><code class="xref py py-meth docutils literal"><span class="pre">splitAtQuarterLength()</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.splitByQuarterLengths" title="music21.base.Music21Object.splitByQuarterLengths"><code class="xref py py-meth docutils literal"><span class="pre">splitByQuarterLengths()</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.write" title="music21.base.Music21Object.write"><code class="xref py py-meth docutils literal"><span class="pre">write()</span></code></a></li>
</ul>
</td></tr></table>
<p class="rubric"><a class="reference internal" href="#music21.base.TestMock" title="music21.base.TestMock"><code class="xref py py-class docutils literal"><span class="pre">TestMock</span></code></a> instance variables</p>
<p>Instance variables inherited from <a class="reference internal" href="#music21.base.Music21Object" title="music21.base.Music21Object"><code class="xref py py-class docutils literal"><span class="pre">Music21Object</span></code></a>:</p>
<table class="hlist"><tr><td><ul class="simple">
<li><a class="reference internal" href="#music21.base.Music21Object.classSortOrder" title="music21.base.Music21Object.classSortOrder"><code class="xref py py-attr docutils literal"><span class="pre">classSortOrder</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.groups" title="music21.base.Music21Object.groups"><code class="xref py py-attr docutils literal"><span class="pre">groups</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="#music21.base.Music21Object.hideObjectOnPrint" title="music21.base.Music21Object.hideObjectOnPrint"><code class="xref py py-attr docutils literal"><span class="pre">hideObjectOnPrint</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.id" title="music21.base.Music21Object.id"><code class="xref py py-attr docutils literal"><span class="pre">id</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="#music21.base.Music21Object.isStream" title="music21.base.Music21Object.isStream"><code class="xref py py-attr docutils literal"><span class="pre">isStream</span></code></a></li>
<li><a class="reference internal" href="#music21.base.Music21Object.xPosition" title="music21.base.Music21Object.xPosition"><code class="xref py py-attr docutils literal"><span class="pre">xPosition</span></code></a></li>
</ul>
</td></tr></table>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="moduleBeam.html" title="music21.beam"
             >next</a> |</li>
        <li class="right" >
          <a href="moduleBar.html" title="music21.bar"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">music21</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Module Reference</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2006-2016, Michael Scott Cuthbert and cuthbertLab.
      Last updated on Aug 21, 2016.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.4.1.
    </div>
  </body>
</html>
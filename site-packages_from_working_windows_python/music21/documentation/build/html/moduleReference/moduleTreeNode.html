<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>music21.tree.node &mdash; music21 Documentation</title>
    
    <link rel="stylesheet" href="../_static/m21.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    <link rel="top" title="music21 Documentation" href="../index.html" />
    <link rel="up" title="Module Reference" href="index.html" />
    <link rel="next" title="music21.tree.spans" href="moduleTreeSpans.html" />
    <link rel="prev" title="music21.tree.fromStream" href="moduleTreeFromStream.html" /><link href='http://fonts.googleapis.com/css?family=Source+Code+Pro|Open+Sans:300italic,400italic,700italic,400,300,700' rel='stylesheet' type='text/css'>
<script src='http://artusi.xyz/music21j/ext/require/require.js'></script>
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="moduleTreeSpans.html" title="music21.tree.spans"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="moduleTreeFromStream.html" title="music21.tree.fromStream"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">music21</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Module Reference</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="moduleTreeFromStream.html"
                        title="previous chapter">music21.tree.fromStream</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="moduleTreeSpans.html"
                        title="next chapter">music21.tree.spans</a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">music21.tree.node</a><ul>
<li><a class="reference internal" href="#elementnode">ElementNode</a></li>
<li><a class="reference internal" href="#offsetnode">OffsetNode</a></li>
</ul>
</li>
</ul>

<h3><a href="../index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../about/index.html">About Music21</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../usersGuide/index.html">User&#8217;s Guide</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Module Reference</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installing/index.html">Installation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../developerReference/index.html">Developer Reference</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/moduleReference/moduleTreeNode.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="music21-tree-node">
<span id="moduletreenode"></span><h1>music21.tree.node<a class="headerlink" href="#music21-tree-node" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-music21.tree.node"></span><p>Internal data structures for timespan collections.</p>
<p>This is an implementation detail of the TimespanTree class.  Most music21 users
can happily ignore this module.</p>
<div class="section" id="elementnode">
<h2>ElementNode<a class="headerlink" href="#elementnode" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="music21.tree.node.ElementNode">
<em class="property">class </em><code class="descclassname">music21.tree.node.</code><code class="descname">ElementNode</code><span class="sig-paren">(</span><em>position</em>, <em>payload=None</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.tree.node.ElementNode" title="Permalink to this definition">¶</a></dt>
<dd><p>A node containing a single element, which is aware of the element&#8217;s
endTime and index within a stream, as well as the endTimes and indices of the
elements to the left and right of it.</p>
<p>Here&#8217;s an element node that is at first is no different than an AVL node, except in
representation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s2">&quot;C4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mf">2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">offset</span> <span class="o">=</span> <span class="mf">4.0</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">elNode</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">ElementNode</span><span class="p">(</span><span class="n">n</span><span class="o">.</span><span class="n">sortTuple</span><span class="p">(),</span> <span class="n">n</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">elNode</span>
<span class="go">&lt;ElementNode: Start:4.0 &lt;0.20...&gt; Indices:(l:-1 *-1* r:-1) Payload:&lt;music21.note.Note C&gt;&gt;</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">avlNode</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">AVLNode</span><span class="p">(</span><span class="mf">4.0</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">avlNode</span>
<span class="go">&lt;AVLNode: Start:4.0 Height:0 L:None R:None&gt;</span>
</pre></div>
</div>
<p>But now let&#8217;s give n a stream context where it is element 1 in the measure.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Measure</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Rest</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;whole&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">r</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mf">4.0</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;F#4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span><span class="o">.</span><span class="n">duration</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mf">3.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mf">6.0</span><span class="p">,</span> <span class="n">n2</span><span class="p">)</span>
</pre></div>
</div>
<p>Let&#8217;s create an ElementNode object for each object and attach them to elNode:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rElNode</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">ElementNode</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">sortTuple</span><span class="p">(),</span> <span class="n">r</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2ElNode</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">ElementNode</span><span class="p">(</span><span class="n">n2</span><span class="o">.</span><span class="n">sortTuple</span><span class="p">(),</span> <span class="n">n2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">elNode</span><span class="o">.</span><span class="n">leftChild</span> <span class="o">=</span> <span class="n">rElNode</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">elNode</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">elNode</span><span class="o">.</span><span class="n">rightChild</span> <span class="o">=</span> <span class="n">n2ElNode</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">elNode</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</pre></div>
</div>
<p>Everything so far could be done w/ AVLNodes, which are not music21 specific.
But now we&#8217;ll add some specific features, based on the information from the Stream.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="n">n</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">highestTime</span>
<span class="go">9.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">offset</span>
<span class="go">0.0</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rElNode</span><span class="o">.</span><span class="n">payloadElementIndex</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">elNode</span><span class="o">.</span><span class="n">payloadElementIndex</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2ElNode</span><span class="o">.</span><span class="n">payloadElementIndex</span> <span class="o">=</span> <span class="mi">2</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">elNode</span><span class="o">.</span><span class="n">updateIndices</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">elNode</span><span class="o">.</span><span class="n">updateEndTimes</span><span class="p">()</span>
</pre></div>
</div>
<p>Now let&#8217;s look at the ElementNode:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">elNode</span>
<span class="go">&lt;ElementNode: Start:4.0 &lt;0.20...&gt; Indices:(l:0 *1* r:3) Payload:&lt;music21.note.Note C&gt;&gt;</span>
</pre></div>
</div>
<p>elNode is at 4.0.  With it and underneath it are nodes from 0 &lt;= nodes &lt; 3.  This 
seemingly screwy way of counting is exactly slice notation: [0:3].</p>
<p>So if we wanted to get a certain index number we would know that index 0 is in the 
leftChild&#8217;s payload, index 2 is in the rightChild&#8217;s payload, and index 1 is this node&#8217;s
payload.  This information is easy to compute for ElementNodes, since each node holds
exactly one element (since the position here is a sortTuple which is unique); for its
subclass, OffsetNode, where multiple elements can be in a node, this will become
much more important and harder to work with.</p>
<p>Here is how you can actually get this information.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">elNode</span><span class="o">.</span><span class="n">subtreeElementsStartIndex</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">elNode</span><span class="o">.</span><span class="n">subtreeElementsStopIndex</span>
<span class="go">3</span>
</pre></div>
</div>
<p>If they&#8217;ve never been set then they return -1, but the .updateIndices() call above
set these number for the children also. So they return the node&#8217;s own index and one above:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">n2ElNode</span><span class="o">.</span><span class="n">subtreeElementsStartIndex</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2ElNode</span><span class="o">.</span><span class="n">subtreeElementsStopIndex</span>
<span class="go">3</span>
</pre></div>
</div>
<p>Now here is the thing that actually makes trees based on ElementNodes useful.  Each node
knows the lowest and highest endTime as well as offset among the nodes below it:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">elNode</span><span class="o">.</span><span class="n">lowestPosition</span><span class="o">.</span><span class="n">offset</span>
<span class="go">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">elNode</span><span class="o">.</span><span class="n">endTimeLow</span>
<span class="go">4.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">elNode</span><span class="o">.</span><span class="n">highestPosition</span><span class="o">.</span><span class="n">offset</span>
<span class="go">6.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">elNode</span><span class="o">.</span><span class="n">endTimeHigh</span>
<span class="go">9.0</span>
</pre></div>
</div>
<p>What&#8217;s so great about this?  If you&#8217;re doing a &#8220;getElementsByOffset&#8221; search, you
can know from this information whether there&#8217;s going to be an element whose start or
end time will possibly match the offset span without needing to descend into the tree.</p>
<p>The last element in a Stream often doesn&#8217;t has the highest endTime (think of different
voices, flat streams, etc.) so searches for offsets are often O(n) when 
they could be O(log n) if the information were cached into a tree as this does.</p>
</dd></dl>

<p class="rubric"><a class="reference internal" href="#music21.tree.node.ElementNode" title="music21.tree.node.ElementNode"><code class="xref py py-class docutils literal"><span class="pre">ElementNode</span></code></a> bases</p>
<ul class="simple">
<li><a class="reference internal" href="moduleTreeCore.html#music21.tree.core.AVLNode" title="music21.tree.core.AVLNode"><code class="xref py py-class docutils literal"><span class="pre">AVLNode</span></code></a></li>
<li><a class="reference internal" href="moduleCommonObjects.html#music21.common.objects.SlottedObjectMixin" title="music21.common.objects.SlottedObjectMixin"><code class="xref py py-class docutils literal"><span class="pre">SlottedObjectMixin</span></code></a></li>
</ul>
<p class="rubric"><a class="reference internal" href="#music21.tree.node.ElementNode" title="music21.tree.node.ElementNode"><code class="xref py py-class docutils literal"><span class="pre">ElementNode</span></code></a> read-only properties</p>
<dl class="attribute">
<dt id="music21.tree.node.ElementNode.highestPosition">
<code class="descclassname">ElementNode.</code><code class="descname">highestPosition</code><a class="headerlink" href="#music21.tree.node.ElementNode.highestPosition" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the highest position in the tree rooted on this node.</p>
</dd></dl>

<dl class="attribute">
<dt id="music21.tree.node.ElementNode.lowestPosition">
<code class="descclassname">ElementNode.</code><code class="descname">lowestPosition</code><a class="headerlink" href="#music21.tree.node.ElementNode.lowestPosition" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the lowest position in the tree rooted on this node.</p>
</dd></dl>

<p class="rubric"><a class="reference internal" href="#music21.tree.node.ElementNode" title="music21.tree.node.ElementNode"><code class="xref py py-class docutils literal"><span class="pre">ElementNode</span></code></a> methods</p>
<dl class="method">
<dt id="music21.tree.node.ElementNode.updateEndTimes">
<code class="descclassname">ElementNode.</code><code class="descname">updateEndTimes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#music21.tree.node.ElementNode.updateEndTimes" title="Permalink to this definition">¶</a></dt>
<dd><p>Traverses the tree structure and updates cached maximum and minimum
endTime values for the subtrees rooted at each node.</p>
<p>Used internally by ElementTree.</p>
<p>Returns None.</p>
</dd></dl>

<dl class="method">
<dt id="music21.tree.node.ElementNode.updateIndices">
<code class="descclassname">ElementNode.</code><code class="descname">updateIndices</code><span class="sig-paren">(</span><em>parentStopIndex=None</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.tree.node.ElementNode.updateIndices" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the payloadElementIndex, and the subtreeElementsStartIndex and 
subtreeElementsStopIndex (and does so for all child nodes) by traversing 
the tree structure.</p>
<p>Updates cached indices which keep
track of the index of the element stored at each node, and of the
minimum and maximum indices of the subtrees rooted at each node.</p>
<p>Called on rootNode of a tree that uses ElementNodes, such as ElementTree</p>
<p>parentStopIndex specifies the stop index of the parent node, if known.
It is used internally by the function.</p>
<p>Returns None.</p>
</dd></dl>

<p>Methods inherited from <a class="reference internal" href="moduleTreeCore.html#music21.tree.core.AVLNode" title="music21.tree.core.AVLNode"><code class="xref py py-class docutils literal"><span class="pre">AVLNode</span></code></a>:</p>
<table class="hlist"><tr><td><ul class="simple">
<li><a class="reference internal" href="moduleTreeCore.html#music21.tree.core.AVLNode.debug" title="music21.tree.core.AVLNode.debug"><code class="xref py py-meth docutils literal"><span class="pre">debug()</span></code></a></li>
<li><a class="reference internal" href="moduleTreeCore.html#music21.tree.core.AVLNode.moveAttributes" title="music21.tree.core.AVLNode.moveAttributes"><code class="xref py py-meth docutils literal"><span class="pre">moveAttributes()</span></code></a></li>
<li><a class="reference internal" href="moduleTreeCore.html#music21.tree.core.AVLNode.rebalance" title="music21.tree.core.AVLNode.rebalance"><code class="xref py py-meth docutils literal"><span class="pre">rebalance()</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="moduleTreeCore.html#music21.tree.core.AVLNode.rotateLeftLeft" title="music21.tree.core.AVLNode.rotateLeftLeft"><code class="xref py py-meth docutils literal"><span class="pre">rotateLeftLeft()</span></code></a></li>
<li><a class="reference internal" href="moduleTreeCore.html#music21.tree.core.AVLNode.rotateLeftRight" title="music21.tree.core.AVLNode.rotateLeftRight"><code class="xref py py-meth docutils literal"><span class="pre">rotateLeftRight()</span></code></a></li>
<li><a class="reference internal" href="moduleTreeCore.html#music21.tree.core.AVLNode.rotateRightLeft" title="music21.tree.core.AVLNode.rotateRightLeft"><code class="xref py py-meth docutils literal"><span class="pre">rotateRightLeft()</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="moduleTreeCore.html#music21.tree.core.AVLNode.rotateRightRight" title="music21.tree.core.AVLNode.rotateRightRight"><code class="xref py py-meth docutils literal"><span class="pre">rotateRightRight()</span></code></a></li>
<li><a class="reference internal" href="moduleTreeCore.html#music21.tree.core.AVLNode.update" title="music21.tree.core.AVLNode.update"><code class="xref py py-meth docutils literal"><span class="pre">update()</span></code></a></li>
</ul>
</td></tr></table>
<p class="rubric"><a class="reference internal" href="#music21.tree.node.ElementNode" title="music21.tree.node.ElementNode"><code class="xref py py-class docutils literal"><span class="pre">ElementNode</span></code></a> instance variables</p>
<dl class="attribute">
<dt id="music21.tree.node.ElementNode.endTimeHigh">
<code class="descclassname">ElementNode.</code><code class="descname">endTimeHigh</code><a class="headerlink" href="#music21.tree.node.ElementNode.endTimeHigh" title="Permalink to this definition">¶</a></dt>
<dd><p>The highest endTime of any node in the subtree rooted on this node.</p>
</dd></dl>

<dl class="attribute">
<dt id="music21.tree.node.ElementNode.endTimeLow">
<code class="descclassname">ElementNode.</code><code class="descname">endTimeLow</code><a class="headerlink" href="#music21.tree.node.ElementNode.endTimeLow" title="Permalink to this definition">¶</a></dt>
<dd><p>The lowest endTime of any node in the subtree rooted on this node.</p>
</dd></dl>

<dl class="attribute">
<dt id="music21.tree.node.ElementNode.payloadElementIndex">
<code class="descclassname">ElementNode.</code><code class="descname">payloadElementIndex</code><a class="headerlink" href="#music21.tree.node.ElementNode.payloadElementIndex" title="Permalink to this definition">¶</a></dt>
<dd><p>The index in a stream of the element stored in the payload of this node.</p>
</dd></dl>

<dl class="attribute">
<dt id="music21.tree.node.ElementNode.subtreeElementsStartIndex">
<code class="descclassname">ElementNode.</code><code class="descname">subtreeElementsStartIndex</code><a class="headerlink" href="#music21.tree.node.ElementNode.subtreeElementsStartIndex" title="Permalink to this definition">¶</a></dt>
<dd><p>The lowest element index of an element in the payload of any node of the
subtree rooted on this node.</p>
</dd></dl>

<dl class="attribute">
<dt id="music21.tree.node.ElementNode.subtreeElementsStopIndex">
<code class="descclassname">ElementNode.</code><code class="descname">subtreeElementsStopIndex</code><a class="headerlink" href="#music21.tree.node.ElementNode.subtreeElementsStopIndex" title="Permalink to this definition">¶</a></dt>
<dd><p>The highest element index of an element in the payload of any node of the
subtree rooted on this node.</p>
</dd></dl>

<p>Instance variables inherited from <a class="reference internal" href="moduleTreeCore.html#music21.tree.core.AVLNode" title="music21.tree.core.AVLNode"><code class="xref py py-class docutils literal"><span class="pre">AVLNode</span></code></a>:</p>
<table class="hlist"><tr><td><ul class="simple">
<li><a class="reference internal" href="moduleTreeCore.html#music21.tree.core.AVLNode.balance" title="music21.tree.core.AVLNode.balance"><code class="xref py py-attr docutils literal"><span class="pre">balance</span></code></a></li>
<li><a class="reference internal" href="moduleTreeCore.html#music21.tree.core.AVLNode.height" title="music21.tree.core.AVLNode.height"><code class="xref py py-attr docutils literal"><span class="pre">height</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="moduleTreeCore.html#music21.tree.core.AVLNode.leftChild" title="music21.tree.core.AVLNode.leftChild"><code class="xref py py-attr docutils literal"><span class="pre">leftChild</span></code></a></li>
<li><a class="reference internal" href="moduleTreeCore.html#music21.tree.core.AVLNode.payload" title="music21.tree.core.AVLNode.payload"><code class="xref py py-attr docutils literal"><span class="pre">payload</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="moduleTreeCore.html#music21.tree.core.AVLNode.position" title="music21.tree.core.AVLNode.position"><code class="xref py py-attr docutils literal"><span class="pre">position</span></code></a></li>
<li><a class="reference internal" href="moduleTreeCore.html#music21.tree.core.AVLNode.rightChild" title="music21.tree.core.AVLNode.rightChild"><code class="xref py py-attr docutils literal"><span class="pre">rightChild</span></code></a></li>
</ul>
</td></tr></table>
</div>
<div class="section" id="offsetnode">
<h2>OffsetNode<a class="headerlink" href="#offsetnode" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="music21.tree.node.OffsetNode">
<em class="property">class </em><code class="descclassname">music21.tree.node.</code><code class="descname">OffsetNode</code><span class="sig-paren">(</span><em>offset</em>, <em>payload=None</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.tree.node.OffsetNode" title="Permalink to this definition">¶</a></dt>
<dd><p>A node representing zero, one, or many elements at an offset.  It has all the
power of an ElementNode but substantially more.</p>
<p>Here&#8217;s an example of what it means and does:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">score</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">makeExampleScore</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sf</span> <span class="o">=</span> <span class="n">score</span><span class="o">.</span><span class="n">flat</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sf</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">,</span> <span class="n">addEndTimes</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">{0.0 - 0.0} &lt;music21.instrument.Instrument PartA: : &gt;</span>
<span class="go">{0.0 - 0.0} &lt;music21.instrument.Instrument PartB: : &gt;</span>
<span class="go">{0.0 - 0.0} &lt;music21.clef.BassClef&gt;</span>
<span class="go">{0.0 - 0.0} &lt;music21.clef.BassClef&gt;</span>
<span class="go">{0.0 - 0.0} &lt;music21.meter.TimeSignature 2/4&gt;</span>
<span class="go">{0.0 - 0.0} &lt;music21.meter.TimeSignature 2/4&gt;</span>
<span class="go">{0.0 - 1.0} &lt;music21.note.Note C&gt;</span>
<span class="go">{0.0 - 2.0} &lt;music21.note.Note C#&gt;</span>
<span class="go">{1.0 - 2.0} &lt;music21.note.Note D&gt;</span>
<span class="go">{2.0 - 3.0} &lt;music21.note.Note E&gt;</span>
<span class="go">{2.0 - 4.0} &lt;music21.note.Note G#&gt;</span>
<span class="go">{3.0 - 4.0} &lt;music21.note.Note F&gt;</span>
<span class="go">{4.0 - 5.0} &lt;music21.note.Note G&gt;</span>
<span class="go">{4.0 - 6.0} &lt;music21.note.Note E#&gt;</span>
<span class="go">{5.0 - 6.0} &lt;music21.note.Note A&gt;</span>
<span class="go">{6.0 - 7.0} &lt;music21.note.Note B&gt;</span>
<span class="go">{6.0 - 8.0} &lt;music21.note.Note D#&gt;</span>
<span class="go">{7.0 - 8.0} &lt;music21.note.Note C&gt;</span>
<span class="go">{8.0 - 8.0} &lt;music21.bar.Barline style=final&gt;</span>
<span class="go">{8.0 - 8.0} &lt;music21.bar.Barline style=final&gt;</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">scoreTree</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">fromStream</span><span class="o">.</span><span class="n">asTimespans</span><span class="p">(</span><span class="n">sf</span><span class="p">,</span> <span class="n">flatten</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">classList</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rn</span> <span class="o">=</span> <span class="n">scoreTree</span><span class="o">.</span><span class="n">rootNode</span>
</pre></div>
</div>
<p>The RootNode here represents the starting position of the Note F at 3.0; It is the center
of the elements in the flat Stream.  Its index is 5 (that is, it&#8217;s the sixth note in the
element list) and its offset is 3.0</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rn</span>
<span class="go">&lt;OffsetNode: Start:3.0 Indices:(0:11:12:20) Length:{1}&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sf</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span>
<span class="go">&lt;music21.note.Note F&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sf</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span><span class="o">.</span><span class="n">offset</span>
<span class="go">3.0</span>
</pre></div>
</div>
<p>Thus, the indices of 0:5:6:12 indicate that the left-side of the node handles indices
from &gt;= 0 to &lt; 5; and the right-side of the node handles indices &gt;= 6 and &lt; 12, and this node
handles indices &gt;= 5 and &lt; 6.</p>
<p>The <cite>Length: {1}</cite> indicates that there is exactly one element at this location, that is,
the F.</p>
<p>The &#8220;payload&#8221; of the node, is just that note wrapped in a list wrapped in an PitchedTimespan:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rn</span><span class="o">.</span><span class="n">payload</span>
<span class="go">[&lt;PitchedTimespan (3.0 to 4.0) &lt;music21.note.Note F&gt;&gt;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rn</span><span class="o">.</span><span class="n">payload</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">element</span>
<span class="go">&lt;music21.note.Note F&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rn</span><span class="o">.</span><span class="n">payload</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">element</span> <span class="ow">is</span> <span class="n">sf</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span>
<span class="go">True</span>
</pre></div>
</div>
<p>We can look at the leftChild of the root node to get some more interesting cases:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">left</span> <span class="o">=</span> <span class="n">rn</span><span class="o">.</span><span class="n">leftChild</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">left</span>
<span class="go">&lt;OffsetNode: Start:1.0 Indices:(0:8:9:11) Length:{1}&gt;</span>
</pre></div>
</div>
<p>In the leftNode of the leftNode of the rootNode there are eight elements: 
metadata and both notes that begin on offset 0.0:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">leftLeft</span> <span class="o">=</span> <span class="n">left</span><span class="o">.</span><span class="n">leftChild</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">leftLeft</span>
<span class="go">&lt;OffsetNode: Start:0.0 Indices:(0:0:8:8) Length:{8}&gt;</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">leftLeft</span><span class="o">.</span><span class="n">payload</span>
<span class="go">[&lt;PitchedTimespan (0.0 to 0.0) &lt;music21.instrument.Instrument PartA: : &gt;&gt;, </span>
<span class="go"> &lt;PitchedTimespan (0.0 to 0.0) &lt;music21.instrument.Instrument PartB: : &gt;&gt;, </span>
<span class="go"> &lt;PitchedTimespan (0.0 to 0.0) &lt;music21.clef.BassClef&gt;&gt;, </span>
<span class="go"> &lt;PitchedTimespan (0.0 to 0.0) &lt;music21.clef.BassClef&gt;&gt;, </span>
<span class="go"> &lt;PitchedTimespan (0.0 to 0.0) &lt;music21.meter.TimeSignature 2/4&gt;&gt;, </span>
<span class="go"> &lt;PitchedTimespan (0.0 to 0.0) &lt;music21.meter.TimeSignature 2/4&gt;&gt;, </span>
<span class="go"> &lt;PitchedTimespan (0.0 to 1.0) &lt;music21.note.Note C&gt;&gt;, </span>
<span class="go"> &lt;PitchedTimespan (0.0 to 2.0) &lt;music21.note.Note C#&gt;&gt;]</span>
</pre></div>
</div>
<p>The Indices:(0:0:8:8) indicates that <cite>leftLeft</cite> has neither left nor right children</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">leftLeft</span><span class="o">.</span><span class="n">leftChild</span> <span class="ow">is</span> <span class="kc">None</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">leftLeft</span><span class="o">.</span><span class="n">rightChild</span> <span class="ow">is</span> <span class="kc">None</span>
<span class="go">True</span>
</pre></div>
</div>
<p>What makes an OffsetNode more interesting than other AWL Nodes is that it is aware of
the fact that it might have objects that end at different times, such as the zero-length
metadata and the 2.0 length half note</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">leftLeft</span><span class="o">.</span><span class="n">endTimeLow</span>
<span class="go">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">leftLeft</span><span class="o">.</span><span class="n">endTimeHigh</span>
<span class="go">2.0   </span>
</pre></div>
</div>
</dd></dl>

<p class="rubric"><a class="reference internal" href="#music21.tree.node.OffsetNode" title="music21.tree.node.OffsetNode"><code class="xref py py-class docutils literal"><span class="pre">OffsetNode</span></code></a> bases</p>
<ul class="simple">
<li><a class="reference internal" href="#music21.tree.node.ElementNode" title="music21.tree.node.ElementNode"><code class="xref py py-class docutils literal"><span class="pre">ElementNode</span></code></a></li>
<li><a class="reference internal" href="moduleTreeCore.html#music21.tree.core.AVLNode" title="music21.tree.core.AVLNode"><code class="xref py py-class docutils literal"><span class="pre">AVLNode</span></code></a></li>
<li><a class="reference internal" href="moduleCommonObjects.html#music21.common.objects.SlottedObjectMixin" title="music21.common.objects.SlottedObjectMixin"><code class="xref py py-class docutils literal"><span class="pre">SlottedObjectMixin</span></code></a></li>
</ul>
<p class="rubric"><a class="reference internal" href="#music21.tree.node.OffsetNode" title="music21.tree.node.OffsetNode"><code class="xref py py-class docutils literal"><span class="pre">OffsetNode</span></code></a> read-only properties</p>
<p>Read-only properties inherited from <a class="reference internal" href="#music21.tree.node.ElementNode" title="music21.tree.node.ElementNode"><code class="xref py py-class docutils literal"><span class="pre">ElementNode</span></code></a>:</p>
<table class="hlist"><tr><td><ul class="simple">
<li><a class="reference internal" href="#music21.tree.node.ElementNode.highestPosition" title="music21.tree.node.ElementNode.highestPosition"><code class="xref py py-attr docutils literal"><span class="pre">highestPosition</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="#music21.tree.node.ElementNode.lowestPosition" title="music21.tree.node.ElementNode.lowestPosition"><code class="xref py py-attr docutils literal"><span class="pre">lowestPosition</span></code></a></li>
</ul>
</td><td><ul class="simple">
</ul>
</td></tr></table>
<p class="rubric"><a class="reference internal" href="#music21.tree.node.OffsetNode" title="music21.tree.node.OffsetNode"><code class="xref py py-class docutils literal"><span class="pre">OffsetNode</span></code></a> methods</p>
<dl class="method">
<dt id="music21.tree.node.OffsetNode.payloadEndTimes">
<code class="descclassname">OffsetNode.</code><code class="descname">payloadEndTimes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#music21.tree.node.OffsetNode.payloadEndTimes" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a (potentially unsorted) list of all the end times for all TimeSpans or
Elements in the payload.  Does not trust el.endTime because it might refer to a
different offset.  Rather, it takes the position and adds it to the 
duration.quarterLength.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">offsetNode</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">OffsetNode</span><span class="p">(</span><span class="mi">40</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">offsetNode</span><span class="o">.</span><span class="n">payload</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">spans</span><span class="o">.</span><span class="n">Timespan</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="mi">44</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">offsetNode</span><span class="o">.</span><span class="n">payload</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ts</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">offsetNode</span><span class="o">.</span><span class="n">payloadEndTimes</span><span class="p">()</span>
<span class="go">[41.0, 44.0]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.tree.node.OffsetNode.updateEndTimes">
<code class="descclassname">OffsetNode.</code><code class="descname">updateEndTimes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#music21.tree.node.OffsetNode.updateEndTimes" title="Permalink to this definition">¶</a></dt>
<dd><p>Traverses the tree structure and updates cached maximum and minimum
endTime values for the subtrees rooted at each node.</p>
<p>Used internally by OffsetTree.</p>
<p>Returns None</p>
</dd></dl>

<dl class="method">
<dt id="music21.tree.node.OffsetNode.updateIndices">
<code class="descclassname">OffsetNode.</code><code class="descname">updateIndices</code><span class="sig-paren">(</span><em>parentStopIndex=None</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.tree.node.OffsetNode.updateIndices" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the payloadElementsStartIndex, the paylodElementsStopIndex 
and the subtreeElementsStartIndex and 
subtreeElementsStopIndex (and does so for all child nodes) by traversing 
the tree structure.</p>
<p>Updates cached indices which keep
track of the index of the element stored at each node, and of the
minimum and maximum indices of the subtrees rooted at each node.</p>
<p>Called on rootNode of a tree that uses OffsetNodes, such as OffsetTree
or TimespanTree</p>
<p>Returns None.</p>
</dd></dl>

<p>Methods inherited from <a class="reference internal" href="moduleTreeCore.html#music21.tree.core.AVLNode" title="music21.tree.core.AVLNode"><code class="xref py py-class docutils literal"><span class="pre">AVLNode</span></code></a>:</p>
<table class="hlist"><tr><td><ul class="simple">
<li><a class="reference internal" href="moduleTreeCore.html#music21.tree.core.AVLNode.debug" title="music21.tree.core.AVLNode.debug"><code class="xref py py-meth docutils literal"><span class="pre">debug()</span></code></a></li>
<li><a class="reference internal" href="moduleTreeCore.html#music21.tree.core.AVLNode.moveAttributes" title="music21.tree.core.AVLNode.moveAttributes"><code class="xref py py-meth docutils literal"><span class="pre">moveAttributes()</span></code></a></li>
<li><a class="reference internal" href="moduleTreeCore.html#music21.tree.core.AVLNode.rebalance" title="music21.tree.core.AVLNode.rebalance"><code class="xref py py-meth docutils literal"><span class="pre">rebalance()</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="moduleTreeCore.html#music21.tree.core.AVLNode.rotateLeftLeft" title="music21.tree.core.AVLNode.rotateLeftLeft"><code class="xref py py-meth docutils literal"><span class="pre">rotateLeftLeft()</span></code></a></li>
<li><a class="reference internal" href="moduleTreeCore.html#music21.tree.core.AVLNode.rotateLeftRight" title="music21.tree.core.AVLNode.rotateLeftRight"><code class="xref py py-meth docutils literal"><span class="pre">rotateLeftRight()</span></code></a></li>
<li><a class="reference internal" href="moduleTreeCore.html#music21.tree.core.AVLNode.rotateRightLeft" title="music21.tree.core.AVLNode.rotateRightLeft"><code class="xref py py-meth docutils literal"><span class="pre">rotateRightLeft()</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="moduleTreeCore.html#music21.tree.core.AVLNode.rotateRightRight" title="music21.tree.core.AVLNode.rotateRightRight"><code class="xref py py-meth docutils literal"><span class="pre">rotateRightRight()</span></code></a></li>
<li><a class="reference internal" href="moduleTreeCore.html#music21.tree.core.AVLNode.update" title="music21.tree.core.AVLNode.update"><code class="xref py py-meth docutils literal"><span class="pre">update()</span></code></a></li>
</ul>
</td></tr></table>
<p class="rubric"><a class="reference internal" href="#music21.tree.node.OffsetNode" title="music21.tree.node.OffsetNode"><code class="xref py py-class docutils literal"><span class="pre">OffsetNode</span></code></a> instance variables</p>
<dl class="attribute">
<dt id="music21.tree.node.OffsetNode.payload">
<code class="descclassname">OffsetNode.</code><code class="descname">payload</code><a class="headerlink" href="#music21.tree.node.OffsetNode.payload" title="Permalink to this definition">¶</a></dt>
<dd><p>The contents of the node at this point.  Usually a list of PitchedTimespans.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">score</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">makeExampleScore</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scoreTree</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">fromStream</span><span class="o">.</span><span class="n">asTimespans</span><span class="p">(</span><span class="n">score</span><span class="p">,</span> <span class="n">flatten</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>                 <span class="n">classList</span><span class="o">=</span><span class="p">(</span><span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">,</span> <span class="n">chord</span><span class="o">.</span><span class="n">Chord</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">scoreTree</span><span class="o">.</span><span class="n">rootNode</span><span class="o">.</span><span class="n">debug</span><span class="p">())</span>
<span class="go">&lt;OffsetNode: Start:3.0 Indices:(0:5:6:12) Length:{1}&gt;</span>
<span class="go">L: &lt;OffsetNode: Start:1.0 Indices:(0:2:3:5) Length:{1}&gt;</span>
<span class="go">L: &lt;OffsetNode: Start:0.0 Indices:(0:0:2:2) Length:{2}&gt;</span>
<span class="go">R: &lt;OffsetNode: Start:2.0 Indices:(3:3:5:5) Length:{2}&gt;</span>
<span class="go">R: &lt;OffsetNode: Start:5.0 Indices:(6:8:9:12) Length:{1}&gt;</span>
<span class="go">L: &lt;OffsetNode: Start:4.0 Indices:(6:6:8:8) Length:{2}&gt;</span>
<span class="go">R: &lt;OffsetNode: Start:6.0 Indices:(9:9:11:12) Length:{2}&gt;</span>
<span class="go">R: &lt;OffsetNode: Start:7.0 Indices:(11:11:12:12) Length:{1}&gt;</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">scoreTree</span><span class="o">.</span><span class="n">rootNode</span><span class="o">.</span><span class="n">payload</span>
<span class="go">[&lt;PitchedTimespan (3.0 to 4.0) &lt;music21.note.Note F&gt;&gt;]</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">scoreTree</span><span class="o">.</span><span class="n">rootNode</span><span class="o">.</span><span class="n">leftChild</span><span class="o">.</span><span class="n">payload</span>
<span class="go">[&lt;PitchedTimespan (1.0 to 2.0) &lt;music21.note.Note D&gt;&gt;]</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">scoreTree</span><span class="o">.</span><span class="n">rootNode</span><span class="o">.</span><span class="n">leftChild</span><span class="o">.</span><span class="n">rightChild</span><span class="o">.</span><span class="n">payload</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">x</span>
<span class="gp">...</span>
<span class="go">&lt;PitchedTimespan (2.0 to 3.0) &lt;music21.note.Note E&gt;&gt;</span>
<span class="go">&lt;PitchedTimespan (2.0 to 4.0) &lt;music21.note.Note G#&gt;&gt;</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">scoreTree</span><span class="o">.</span><span class="n">rootNode</span><span class="o">.</span><span class="n">rightChild</span><span class="o">.</span><span class="n">payload</span>
<span class="go">[&lt;PitchedTimespan (5.0 to 6.0) &lt;music21.note.Note A&gt;&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="music21.tree.node.OffsetNode.payloadElementsStartIndex">
<code class="descclassname">OffsetNode.</code><code class="descname">payloadElementsStartIndex</code><a class="headerlink" href="#music21.tree.node.OffsetNode.payloadElementsStartIndex" title="Permalink to this definition">¶</a></dt>
<dd><p>The timespan start index (i.e., the first x where s[x] is found in this Node&#8217;s payload)
of only those timespans stored in the payload of this node.</p>
</dd></dl>

<dl class="attribute">
<dt id="music21.tree.node.OffsetNode.payloadElementsStopIndex">
<code class="descclassname">OffsetNode.</code><code class="descname">payloadElementsStopIndex</code><a class="headerlink" href="#music21.tree.node.OffsetNode.payloadElementsStopIndex" title="Permalink to this definition">¶</a></dt>
<dd><p>The timespan stop index (i.e., the last x where s[x] is found in this Node&#8217;s payload)
of only those timespans stored in the payload of this node.</p>
</dd></dl>

<p>Instance variables inherited from <a class="reference internal" href="#music21.tree.node.ElementNode" title="music21.tree.node.ElementNode"><code class="xref py py-class docutils literal"><span class="pre">ElementNode</span></code></a>:</p>
<table class="hlist"><tr><td><ul class="simple">
<li><a class="reference internal" href="#music21.tree.node.ElementNode.endTimeHigh" title="music21.tree.node.ElementNode.endTimeHigh"><code class="xref py py-attr docutils literal"><span class="pre">endTimeHigh</span></code></a></li>
<li><a class="reference internal" href="#music21.tree.node.ElementNode.endTimeLow" title="music21.tree.node.ElementNode.endTimeLow"><code class="xref py py-attr docutils literal"><span class="pre">endTimeLow</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="#music21.tree.node.ElementNode.payloadElementIndex" title="music21.tree.node.ElementNode.payloadElementIndex"><code class="xref py py-attr docutils literal"><span class="pre">payloadElementIndex</span></code></a></li>
<li><a class="reference internal" href="#music21.tree.node.ElementNode.subtreeElementsStartIndex" title="music21.tree.node.ElementNode.subtreeElementsStartIndex"><code class="xref py py-attr docutils literal"><span class="pre">subtreeElementsStartIndex</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="#music21.tree.node.ElementNode.subtreeElementsStopIndex" title="music21.tree.node.ElementNode.subtreeElementsStopIndex"><code class="xref py py-attr docutils literal"><span class="pre">subtreeElementsStopIndex</span></code></a></li>
</ul>
</td></tr></table>
<p>Instance variables inherited from <a class="reference internal" href="moduleTreeCore.html#music21.tree.core.AVLNode" title="music21.tree.core.AVLNode"><code class="xref py py-class docutils literal"><span class="pre">AVLNode</span></code></a>:</p>
<table class="hlist"><tr><td><ul class="simple">
<li><a class="reference internal" href="moduleTreeCore.html#music21.tree.core.AVLNode.balance" title="music21.tree.core.AVLNode.balance"><code class="xref py py-attr docutils literal"><span class="pre">balance</span></code></a></li>
<li><a class="reference internal" href="moduleTreeCore.html#music21.tree.core.AVLNode.height" title="music21.tree.core.AVLNode.height"><code class="xref py py-attr docutils literal"><span class="pre">height</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="moduleTreeCore.html#music21.tree.core.AVLNode.leftChild" title="music21.tree.core.AVLNode.leftChild"><code class="xref py py-attr docutils literal"><span class="pre">leftChild</span></code></a></li>
<li><a class="reference internal" href="moduleTreeCore.html#music21.tree.core.AVLNode.payload" title="music21.tree.core.AVLNode.payload"><code class="xref py py-attr docutils literal"><span class="pre">payload</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="moduleTreeCore.html#music21.tree.core.AVLNode.position" title="music21.tree.core.AVLNode.position"><code class="xref py py-attr docutils literal"><span class="pre">position</span></code></a></li>
<li><a class="reference internal" href="moduleTreeCore.html#music21.tree.core.AVLNode.rightChild" title="music21.tree.core.AVLNode.rightChild"><code class="xref py py-attr docutils literal"><span class="pre">rightChild</span></code></a></li>
</ul>
</td></tr></table>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="moduleTreeSpans.html" title="music21.tree.spans"
             >next</a> |</li>
        <li class="right" >
          <a href="moduleTreeFromStream.html" title="music21.tree.fromStream"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">music21</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Module Reference</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2006-2016, Michael Scott Cuthbert and cuthbertLab.
      Last updated on Aug 21, 2016.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.4.1.
    </div>
  </body>
</html>
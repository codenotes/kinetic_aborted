<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>music21.search.serial &mdash; music21 Documentation</title>
    
    <link rel="stylesheet" href="../_static/m21.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    <link rel="top" title="music21 Documentation" href="../index.html" />
    <link rel="up" title="Module Reference" href="index.html" />
    <link rel="next" title="music21.serial" href="moduleSerial.html" />
    <link rel="prev" title="music21.search.segment" href="moduleSearchSegment.html" /><link href='http://fonts.googleapis.com/css?family=Source+Code+Pro|Open+Sans:300italic,400italic,700italic,400,300,700' rel='stylesheet' type='text/css'>
<script src='http://artusi.xyz/music21j/ext/require/require.js'></script>
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="moduleSerial.html" title="music21.serial"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="moduleSearchSegment.html" title="music21.search.segment"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">music21</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Module Reference</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="moduleSearchSegment.html"
                        title="previous chapter">music21.search.segment</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="moduleSerial.html"
                        title="next chapter">music21.serial</a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">music21.search.serial</a><ul>
<li><a class="reference internal" href="#functions">Functions</a></li>
<li><a class="reference internal" href="#contiguoussegmentofnotes">ContiguousSegmentOfNotes</a></li>
<li><a class="reference internal" href="#contiguoussegmentsearcher">ContiguousSegmentSearcher</a></li>
<li><a class="reference internal" href="#multisetsegmentmatcher">MultisetSegmentMatcher</a></li>
<li><a class="reference internal" href="#segmentmatcher">SegmentMatcher</a></li>
<li><a class="reference internal" href="#transformedsegmentmatcher">TransformedSegmentMatcher</a></li>
<li><a class="reference internal" href="#transposedinvertedmultisetmatcher">TransposedInvertedMultisetMatcher</a></li>
<li><a class="reference internal" href="#transposedmultisetmatcher">TransposedMultisetMatcher</a></li>
<li><a class="reference internal" href="#transposedsegmentmatcher">TransposedSegmentMatcher</a></li>
</ul>
</li>
</ul>

<h3><a href="../index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../about/index.html">About Music21</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../usersGuide/index.html">User&#8217;s Guide</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Module Reference</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installing/index.html">Installation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../developerReference/index.html">Developer Reference</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/moduleReference/moduleSearchSerial.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="music21-search-serial">
<span id="modulesearchserial"></span><h1>music21.search.serial<a class="headerlink" href="#music21-search-serial" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-music21.search.serial"></span><div class="section" id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="music21.search.serial.labelMultisets">
<code class="descclassname">music21.search.serial.</code><code class="descname">labelMultisets</code><span class="sig-paren">(</span><em>inputStream</em>, <em>multisetDict</em>, <em>reps='skipConsecutive'</em>, <em>includeChords=True</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.search.serial.labelMultisets" title="Permalink to this definition">¶</a></dt>
<dd><p>Labels all instances of a given collection of multisets of pitch classes in a
<a class="reference internal" href="moduleStream.html#music21.stream.Stream" title="music21.stream.Stream"><code class="xref py py-class docutils literal"><span class="pre">Stream</span></code></a>. A multiset
is a generalization of a set, as described in 
<code class="xref py py-meth docutils literal"><span class="pre">findMultisets()</span></code>.</p>
<p>The multisetDict is a dictionary whose keys are names of 
the multisets to be searched for, and whose 
values are the segments of pitch classes. The values will be
turned in to a segmentList, as in <code class="xref py py-func docutils literal"><span class="pre">findMultisets()</span></code>.
All other settings are as in <code class="xref py py-func docutils literal"><span class="pre">findMultisets()</span></code> as well.</p>
<p>Returns a deep copy of the inputStream 
with a <a class="reference internal" href="moduleSpanner.html#music21.spanner.Line" title="music21.spanner.Line"><code class="xref py py-class docutils literal"><span class="pre">Line</span></code></a> connecting the first and last notes
of each found multiset, and the first note of each found multiset 
labeled with a <a class="reference internal" href="moduleNote.html#music21.note.Lyric" title="music21.note.Lyric"><code class="xref py py-class docutils literal"><span class="pre">Lyric</span></code></a>,
the label being the key corresponding to the segment of pitch classes. One should make sure not
to call this function with too large of a segmentDict, as a note being contained
in too many segments will result in some spanners not showing.</p>
<p>At the present time a relatively large number of multisets are 
found using the &#8216;ignoreAll&#8217; setting,
particularly when there are many repetitions of pitch classes (immediate or otherwise).
As a result, it is possible that at points in the stream 
there will be more than six spanners active 
simultaneously, which may result in some 
spanners not showing correctly in XML format, or not at all.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">part</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Part</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;e4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;e4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n3</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;f4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n3</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n4</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;e4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n4</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span> <span class="o">=</span> <span class="n">part</span><span class="o">.</span><span class="n">makeMeasures</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">labeledPart</span> <span class="o">=</span> <span class="n">search</span><span class="o">.</span><span class="n">serial</span><span class="o">.</span><span class="n">labelMultisets</span><span class="p">(</span><span class="n">part</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;EEF&#39;</span><span class="p">:[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">]},</span> 
<span class="gp">... </span>                                    <span class="n">reps</span><span class="o">=</span><span class="s1">&#39;includeAll&#39;</span><span class="p">,</span> <span class="n">includeChords</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">labeledPart</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../_images/serial-labelMultisets.png"><img alt="../_images/serial-labelMultisets.png" src="../_images/serial-labelMultisets.png" style="width: 500px;" /></a>
<p>Note: the spanners above were moved manually so that they can 
be more easily distinguished from one another.</p>
</dd></dl>

<dl class="function">
<dt id="music21.search.serial.labelSegments">
<code class="descclassname">music21.search.serial.</code><code class="descname">labelSegments</code><span class="sig-paren">(</span><em>inputStream</em>, <em>segmentDict</em>, <em>reps='skipConsecutive'</em>, <em>includeChords=True</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.search.serial.labelSegments" title="Permalink to this definition">¶</a></dt>
<dd><p>Labels all instances of a given collection of segments of pitch classes in a
<a class="reference internal" href="moduleStream.html#music21.stream.Stream" title="music21.stream.Stream"><code class="xref py py-class docutils literal"><span class="pre">Stream</span></code></a>.</p>
<p>The segmentDict is a dictionary whose keys are names of 
the segments to be searched for, and whose values are the segments of pitch classes. 
The values will be
turned in to a segmentList, as in <code class="xref py py-func docutils literal"><span class="pre">findSegments()</span></code>.
All other settings are as in <code class="xref py py-func docutils literal"><span class="pre">findSegments()</span></code> as well.</p>
<p>Returns a deepcopy of the inputStream with a <a class="reference internal" href="moduleSpanner.html#music21.spanner.Line" title="music21.spanner.Line"><code class="xref py py-class docutils literal"><span class="pre">Line</span></code></a> 
connecting the first and last notes
of each found segment, and the first note of each found segment labeled 
with a <a class="reference internal" href="moduleNote.html#music21.note.Lyric" title="music21.note.Lyric"><code class="xref py py-class docutils literal"><span class="pre">Lyric</span></code></a>,
the label being the key corresponding to the segment of pitch classes. 
One should make sure not
to call this function with too large of a segmentDict, as a note being contained
in too many segments will result in some spanners not showing.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">part</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Part</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sig</span> <span class="o">=</span> <span class="n">meter</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">(</span><span class="s1">&#39;2/4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sig</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;e4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">6</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;f4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n3</span> <span class="o">=</span> <span class="n">chord</span><span class="o">.</span><span class="n">Chord</span><span class="p">([</span><span class="s1">&#39;g4&#39;</span><span class="p">,</span> <span class="s1">&#39;b4&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n3</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n4</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;g4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n4</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span><span class="o">.</span><span class="n">repeatAppend</span><span class="p">(</span><span class="n">n4</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n5</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;a4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n5</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span><span class="o">.</span><span class="n">repeatAppend</span><span class="p">(</span><span class="n">n5</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n6</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;b4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n6</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n6</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n7</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;c5&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n7</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n7</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newpart</span> <span class="o">=</span> <span class="n">part</span><span class="o">.</span><span class="n">makeMeasures</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newpart</span><span class="o">.</span><span class="n">makeTies</span><span class="p">()</span>
</pre></div>
</div>
<p>We can then label the segment of pitch classes [7, 9, 11], which corresponds to a G, 
followed by an A,
followed by a B. Let us call this segment &#8220;GAB&#8221;.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">labelGAB</span> <span class="o">=</span> <span class="n">search</span><span class="o">.</span><span class="n">serial</span><span class="o">.</span><span class="n">labelSegments</span><span class="p">(</span><span class="n">newpart</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;GAB&#39;</span><span class="p">:[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">11</span><span class="p">]},</span> 
<span class="gp">... </span>   <span class="n">includeChords</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">labelGAB</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../_images/serial-labelSegments.png"><img alt="../_images/serial-labelSegments.png" src="../_images/serial-labelSegments.png" style="width: 500px;" /></a>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">labelGAB</span><span class="o">.</span><span class="n">getElementsByClass</span><span class="p">(</span><span class="n">spanner</span><span class="o">.</span><span class="n">Line</span><span class="p">))</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="music21.search.serial.labelTransformedSegments">
<code class="descclassname">music21.search.serial.</code><code class="descname">labelTransformedSegments</code><span class="sig-paren">(</span><em>inputStream</em>, <em>segmentDict</em>, <em>reps='skipConsecutive'</em>, <em>includeChords=True</em>, <em>convention='original'</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.search.serial.labelTransformedSegments" title="Permalink to this definition">¶</a></dt>
<dd><p>Labels all instances of a given collection of segments of pitch classes,
with transformations, in a <a class="reference internal" href="moduleStream.html#music21.stream.Stream" title="music21.stream.Stream"><code class="xref py py-class docutils literal"><span class="pre">Stream</span></code></a>.</p>
<p>The segmentDict is a dictionary whose keys are names of the segments to be 
searched for, and whose values are the segments of pitch classes. The 
values will be turned in to a segmentList, as in 
<code class="xref py py-func docutils literal"><span class="pre">findTransposedSegments()</span></code>. The last argument specifies
the convention (&#8216;zero&#8217; or &#8216;original&#8217;) used for naming serial 
transformations, as explained in 
<code class="xref py py-meth docutils literal"><span class="pre">zeroCenteredTransformation()</span></code> and
<code class="xref py py-meth docutils literal"><span class="pre">originalCenteredTransformation()</span></code>.</p>
<p>All other settings are as in <code class="xref py py-func docutils literal"><span class="pre">findTransposedSegments()</span></code>
as well.</p>
<p>Returns a deep copy of the inputStream with a 
<a class="reference internal" href="moduleSpanner.html#music21.spanner.Line" title="music21.spanner.Line"><code class="xref py py-class docutils literal"><span class="pre">Line</span></code></a> connecting the first and last notes of each
found segment, and the first note of each found segment labeled with a 
<a class="reference internal" href="moduleNote.html#music21.note.Lyric" title="music21.note.Lyric"><code class="xref py py-class docutils literal"><span class="pre">Lyric</span></code></a>, the label being the key corresponding to the 
segment of pitch classes. One should make sure not to call this function 
with too large of a segmentDict, as a note being contained in too many
segments will result in some spanners not showing.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c1</span> <span class="o">=</span> <span class="n">chord</span><span class="o">.</span><span class="n">Chord</span><span class="p">([</span><span class="s1">&#39;c#4&#39;</span><span class="p">,</span> <span class="s1">&#39;e4&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c2</span> <span class="o">=</span> <span class="n">chord</span><span class="o">.</span><span class="n">Chord</span><span class="p">([</span><span class="s1">&#39;d#4&#39;</span><span class="p">,</span> <span class="s1">&#39;f4&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c3</span> <span class="o">=</span> <span class="n">chord</span><span class="o">.</span><span class="n">Chord</span><span class="p">([</span><span class="s1">&#39;e4&#39;</span><span class="p">,</span> <span class="s1">&#39;g4&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">chordList</span> <span class="o">=</span> <span class="p">[</span><span class="n">c1</span><span class="p">,</span> <span class="n">c2</span><span class="p">,</span> <span class="n">c3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Part</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">chordList</span><span class="p">:</span>
<span class="gp">... </span>   <span class="n">c</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">... </span>   <span class="n">part</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span> <span class="o">=</span> <span class="n">part</span><span class="o">.</span><span class="n">makeMeasures</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">labeledPart</span> <span class="o">=</span> <span class="n">search</span><span class="o">.</span><span class="n">serial</span><span class="o">.</span><span class="n">labelTransformedSegments</span><span class="p">(</span><span class="n">part</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;row&#39;</span><span class="p">:[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">labeledPart</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../_images/serial-labelTransformedSegments.png"><img alt="../_images/serial-labelTransformedSegments.png" src="../_images/serial-labelTransformedSegments.png" style="width: 500px;" /></a>
<p>Note: the spanners above were moved manually so that they can be more easily 
distinguished from one another.</p>
</dd></dl>

<dl class="function">
<dt id="music21.search.serial.labelTransposedAndInvertedMultisets">
<code class="descclassname">music21.search.serial.</code><code class="descname">labelTransposedAndInvertedMultisets</code><span class="sig-paren">(</span><em>inputStream</em>, <em>multisetDict</em>, <em>reps='skipConsecutive'</em>, <em>includeChords=True</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.search.serial.labelTransposedAndInvertedMultisets" title="Permalink to this definition">¶</a></dt>
<dd><p>Labels all instances of a given collection of multisets, with 
transpositions and inversions, of pitch classes in a
<a class="reference internal" href="moduleStream.html#music21.stream.Stream" title="music21.stream.Stream"><code class="xref py py-class docutils literal"><span class="pre">Stream</span></code></a>.</p>
<p>A multiset is a generalization of a set, as described in 
<code class="xref py py-meth docutils literal"><span class="pre">findMultisets()</span></code>.</p>
<p>The multisetDict is a dictionary whose keys are names of the multisets to
be searched for, and whose values are the segments of pitch classes. The 
values will be turned in to a segmentList, as in 
<code class="xref py py-func docutils literal"><span class="pre">findMultisets()</span></code>.</p>
<p>All other settings are as in 
<code class="xref py py-func docutils literal"><span class="pre">findTransposedMultisets()</span></code> as well.</p>
<p>Returns a deep copy of the inputStream with a 
<a class="reference internal" href="moduleSpanner.html#music21.spanner.Line" title="music21.spanner.Line"><code class="xref py py-class docutils literal"><span class="pre">Line</span></code></a> connecting the first and last notes of each
found multiset, and the first note of each found multiset labeled with a 
<a class="reference internal" href="moduleNote.html#music21.note.Lyric" title="music21.note.Lyric"><code class="xref py py-class docutils literal"><span class="pre">Lyric</span></code></a>, the label being the key corresponding to the 
segment of pitch classes. One should make sure not to call this function 
with too large of a segmentDict, as a note being contained in too many 
segments will result in some spanners not showing.</p>
<p>At the present time a relatively large number of multisets are found using 
the &#8216;ignoreAll&#8217; setting, particularly when there are many repetitions of 
pitch classes (immediate or otherwise).</p>
<p>As a result, it is possible that at points in the stream there will be more 
than six spanners active simultaneously, which may result in some spanners 
not showing correctly in XML format, or not at all.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;c4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;e-4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n3</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;g4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n4</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;e4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n5</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;c4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="p">[</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">]:</span>
<span class="gp">... </span>    <span class="n">n</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">... </span>    <span class="n">s</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n5</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">makeMeasures</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">l</span> <span class="o">=</span> <span class="n">search</span><span class="o">.</span><span class="n">serial</span><span class="o">.</span><span class="n">labelTransposedAndInvertedMultisets</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;triad&#39;</span><span class="p">:[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">]},</span> <span class="n">includeChords</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../_images/serial-labelTransposedAndInvertedMultisets.png"><img alt="../_images/serial-labelTransposedAndInvertedMultisets.png" src="../_images/serial-labelTransposedAndInvertedMultisets.png" style="width: 500px;" /></a>
<p>Note: the spanners above were moved manually so that they can be more 
easily distinguished from one another.</p>
</dd></dl>

<dl class="function">
<dt id="music21.search.serial.labelTransposedMultisets">
<code class="descclassname">music21.search.serial.</code><code class="descname">labelTransposedMultisets</code><span class="sig-paren">(</span><em>inputStream</em>, <em>multisetDict</em>, <em>reps='skipConsecutive'</em>, <em>includeChords=True</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.search.serial.labelTransposedMultisets" title="Permalink to this definition">¶</a></dt>
<dd><p>Labels all instances of a given collection of multisets, with 
transpositions, of pitch classes in a <a class="reference internal" href="moduleStream.html#music21.stream.Stream" title="music21.stream.Stream"><code class="xref py py-class docutils literal"><span class="pre">Stream</span></code></a>.</p>
<p>A multiset is a generalization of a set, as described in 
<code class="xref py py-meth docutils literal"><span class="pre">findMultisets()</span></code>.</p>
<p>The multisetDict is a dictionary whose keys are names of the multisets to 
be searched for, and whose values are the segments of pitch classes. The 
values will be turned in to a segmentList, as in 
<code class="xref py py-func docutils literal"><span class="pre">findMultisets()</span></code>.</p>
<p>All other settings are as in 
<code class="xref py py-func docutils literal"><span class="pre">findTransposedMultisets()</span></code> as well.</p>
<p>Returns a deep copy of the inputStream with a 
<a class="reference internal" href="moduleSpanner.html#music21.spanner.Line" title="music21.spanner.Line"><code class="xref py py-class docutils literal"><span class="pre">Line</span></code></a> connecting the first and last notes of each 
found multiset, and the first note of each found multiset labeled with a 
<a class="reference internal" href="moduleNote.html#music21.note.Lyric" title="music21.note.Lyric"><code class="xref py py-class docutils literal"><span class="pre">Lyric</span></code></a>, the label being the key corresponding to the 
segment of pitch classes. One should make sure not to call this function 
with too large of a segmentDict, as a note being contained in too many 
segments will result in some spanners not showing.</p>
<p>At the present time a relatively large number of multisets are found using 
the &#8216;ignoreAll&#8217; setting, particularly when there are many repetitions of 
pitch classes (immediate or otherwise). As a result, it is possible that at 
points in the stream there will be more than six spanners active 
simultaneously, which may result in some spanners not showing correctly in 
XML format, or not at all.</p>
<p>As a diversion, instead of using this tool on atonal music, let us do so on 
Bach.</p>
<p>We can label all instances of three of the same pitch classes occurring in 
a row in one of the chorales.</p>
<p>We learn the obvious - it appears that the alto section would be the most 
bored while performing this chorale.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">bach</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;bach/bwv57.8&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bachLabeled</span> <span class="o">=</span> <span class="n">search</span><span class="o">.</span><span class="n">serial</span><span class="o">.</span><span class="n">labelTransposedMultisets</span><span class="p">(</span><span class="n">bach</span><span class="p">,</span> 
<span class="gp">... </span>                                              <span class="p">{</span><span class="s1">&#39;x3&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]},</span> 
<span class="gp">... </span>                                              <span class="n">reps</span><span class="o">=</span><span class="s1">&#39;includeAll&#39;</span><span class="p">,</span> 
<span class="gp">... </span>                                              <span class="n">includeChords</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bachLabeled</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../_images/serial-labelTransposedMultisets.png"><img alt="../_images/serial-labelTransposedMultisets.png" src="../_images/serial-labelTransposedMultisets.png" style="width: 500px;" /></a>
<p>Note: the spanners above were moved manually so that they can be more 
easily distinguished from one another.</p>
</dd></dl>

<dl class="function">
<dt id="music21.search.serial.labelTransposedSegments">
<code class="descclassname">music21.search.serial.</code><code class="descname">labelTransposedSegments</code><span class="sig-paren">(</span><em>inputStream</em>, <em>segmentDict</em>, <em>reps='skipConsecutive'</em>, <em>includeChords=True</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.search.serial.labelTransposedSegments" title="Permalink to this definition">¶</a></dt>
<dd><p>Labels all instances of a given collection of segments of pitch classes,
with transpositions, in a <a class="reference internal" href="moduleStream.html#music21.stream.Stream" title="music21.stream.Stream"><code class="xref py py-class docutils literal"><span class="pre">Stream</span></code></a>.</p>
<p>The segmentDict is a dictionary whose keys are names of the segments to be
searched for, and whose values are the segments of pitch classes. The
values will be turned in to a segmentList, as in
<code class="xref py py-func docutils literal"><span class="pre">findTransposedSegments()</span></code>.  All other settings are as
in <code class="xref py py-func docutils literal"><span class="pre">findTransposedSegments()</span></code> as well.</p>
<p>Returns a deep copy of the inputStream with a
<a class="reference internal" href="moduleSpanner.html#music21.spanner.Line" title="music21.spanner.Line"><code class="xref py py-class docutils literal"><span class="pre">Line</span></code></a> connecting the first and last notes of each
found segment, and the first note of each found segment labeled with a
<a class="reference internal" href="moduleNote.html#music21.note.Lyric" title="music21.note.Lyric"><code class="xref py py-class docutils literal"><span class="pre">Lyric</span></code></a>, the label being the key corresponding to the
segment of pitch classes. One should make sure not to call this function 
with too large of a segmentDict, as a note being contained in too many 
segments will result in some spanners not showing.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">part</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Part</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;e4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">6</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;f4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n3</span> <span class="o">=</span> <span class="n">chord</span><span class="o">.</span><span class="n">Chord</span><span class="p">([</span><span class="s1">&#39;g4&#39;</span><span class="p">,</span> <span class="s1">&#39;b4&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n3</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n4</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;g4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n4</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span><span class="o">.</span><span class="n">repeatAppend</span><span class="p">(</span><span class="n">n4</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n5</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;a4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n5</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span><span class="o">.</span><span class="n">repeatAppend</span><span class="p">(</span><span class="n">n5</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n6</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;b4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n6</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n6</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n7</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;c5&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n7</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n7</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newpart</span> <span class="o">=</span> <span class="n">part</span><span class="o">.</span><span class="n">makeMeasures</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newpart</span><span class="o">.</span><span class="n">makeTies</span><span class="p">()</span>
</pre></div>
</div>
<p>We have a soprano line; let us now form a bass line.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">bass</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Part</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n8</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;c3&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n8</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bass</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r1</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Rest</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r1</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bass</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">r1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n9</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;b2&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n9</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bass</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n9</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r2</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Rest</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r2</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bass</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">r2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n10</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;c3&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n10</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bass</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newbass</span> <span class="o">=</span> <span class="n">bass</span><span class="o">.</span><span class="n">makeMeasures</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Score</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">copy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">newpart</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">newbass</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">labeledsc</span> <span class="o">=</span> <span class="n">search</span><span class="o">.</span><span class="n">serial</span><span class="o">.</span><span class="n">labelTransposedSegments</span><span class="p">(</span><span class="n">sc</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;half&#39;</span><span class="p">:[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]},</span> <span class="s1">&#39;rowsOnly&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">labeledsc</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../_images/serial-labelTransposedSegments.png"><img alt="../_images/serial-labelTransposedSegments.png" src="../_images/serial-labelTransposedSegments.png" style="width: 500px;" /></a>
</dd></dl>

</div>
<div class="section" id="contiguoussegmentofnotes">
<h2>ContiguousSegmentOfNotes<a class="headerlink" href="#contiguoussegmentofnotes" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="music21.search.serial.ContiguousSegmentOfNotes">
<em class="property">class </em><code class="descclassname">music21.search.serial.</code><code class="descname">ContiguousSegmentOfNotes</code><span class="sig-paren">(</span><em>segment=None</em>, <em>containerStream=None</em>, <em>partNumber=0</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.search.serial.ContiguousSegmentOfNotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Class whose instantiations represent contiguous segments of notes and chords appearing
within a <a class="reference internal" href="moduleStream.html#music21.stream.Stream" title="music21.stream.Stream"><code class="xref py py-class docutils literal"><span class="pre">Stream</span></code></a>. Generally speaking, these objects are instantiated 
internally, though it is possible
for the user to create them as well.</p>
</dd></dl>

<p class="rubric"><a class="reference internal" href="#music21.search.serial.ContiguousSegmentOfNotes" title="music21.search.serial.ContiguousSegmentOfNotes"><code class="xref py py-class docutils literal"><span class="pre">ContiguousSegmentOfNotes</span></code></a> bases</p>
<ul class="simple">
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object" title="music21.base.Music21Object"><code class="xref py py-class docutils literal"><span class="pre">Music21Object</span></code></a></li>
</ul>
<p class="rubric"><a class="reference internal" href="#music21.search.serial.ContiguousSegmentOfNotes" title="music21.search.serial.ContiguousSegmentOfNotes"><code class="xref py py-class docutils literal"><span class="pre">ContiguousSegmentOfNotes</span></code></a> read-only properties</p>
<dl class="attribute">
<dt id="music21.search.serial.ContiguousSegmentOfNotes.originalCenteredTransformationsFromMatched">
<code class="descclassname">ContiguousSegmentOfNotes.</code><code class="descname">originalCenteredTransformationsFromMatched</code><a class="headerlink" href="#music21.search.serial.ContiguousSegmentOfNotes.originalCenteredTransformationsFromMatched" title="Permalink to this definition">¶</a></dt>
<dd><p>The list of original-centered transformations taking a segment being 
searched for to a found segment, for example, in 
<code class="xref py py-func docutils literal"><span class="pre">findTransformedSegments()</span></code>. 
For an explanation of the 
zero-centered convention for serial transformations, see 
<code class="xref py py-meth docutils literal"><span class="pre">music21.search.serial.ToneRow.originalCenteredTransformation()</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="music21.search.serial.ContiguousSegmentOfNotes.startMeasureNumber">
<code class="descclassname">ContiguousSegmentOfNotes.</code><code class="descname">startMeasureNumber</code><a class="headerlink" href="#music21.search.serial.ContiguousSegmentOfNotes.startMeasureNumber" title="Permalink to this definition">¶</a></dt>
<dd><p>The measure number on which the contiguous segment begins.</p>
</dd></dl>

<dl class="attribute">
<dt id="music21.search.serial.ContiguousSegmentOfNotes.startOffset">
<code class="descclassname">ContiguousSegmentOfNotes.</code><code class="descname">startOffset</code><a class="headerlink" href="#music21.search.serial.ContiguousSegmentOfNotes.startOffset" title="Permalink to this definition">¶</a></dt>
<dd><p>The offset of the beginning of the contiguous segment, 
with respect to the measure containing the first note.</p>
</dd></dl>

<dl class="attribute">
<dt id="music21.search.serial.ContiguousSegmentOfNotes.zeroCenteredTransformationsFromMatched">
<code class="descclassname">ContiguousSegmentOfNotes.</code><code class="descname">zeroCenteredTransformationsFromMatched</code><a class="headerlink" href="#music21.search.serial.ContiguousSegmentOfNotes.zeroCenteredTransformationsFromMatched" title="Permalink to this definition">¶</a></dt>
<dd><p>The list of zero-centered transformations taking a segment being searched 
for to a found segment, for example, in 
<code class="xref py py-func docutils literal"><span class="pre">findTransformedSegments()</span></code>. 
For an explanation of the zero-centered convention for serial transformations, 
see <code class="xref py py-meth docutils literal"><span class="pre">music21.search.serial.ToneRow.zeroCenteredTransformation()</span></code>.</p>
</dd></dl>

<p>Read-only properties inherited from <a class="reference internal" href="moduleBase.html#music21.base.Music21Object" title="music21.base.Music21Object"><code class="xref py py-class docutils literal"><span class="pre">Music21Object</span></code></a>:</p>
<table class="hlist"><tr><td><ul class="simple">
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.beat" title="music21.base.Music21Object.beat"><code class="xref py py-attr docutils literal"><span class="pre">beat</span></code></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.beatDuration" title="music21.base.Music21Object.beatDuration"><code class="xref py py-attr docutils literal"><span class="pre">beatDuration</span></code></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.beatStr" title="music21.base.Music21Object.beatStr"><code class="xref py py-attr docutils literal"><span class="pre">beatStr</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.beatStrength" title="music21.base.Music21Object.beatStrength"><code class="xref py py-attr docutils literal"><span class="pre">beatStrength</span></code></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.classSet" title="music21.base.Music21Object.classSet"><code class="xref py py-attr docutils literal"><span class="pre">classSet</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.classes" title="music21.base.Music21Object.classes"><code class="xref py py-attr docutils literal"><span class="pre">classes</span></code></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.measureNumber" title="music21.base.Music21Object.measureNumber"><code class="xref py py-attr docutils literal"><span class="pre">measureNumber</span></code></a></li>
</ul>
</td></tr></table>
<p class="rubric"><a class="reference internal" href="#music21.search.serial.ContiguousSegmentOfNotes" title="music21.search.serial.ContiguousSegmentOfNotes"><code class="xref py py-class docutils literal"><span class="pre">ContiguousSegmentOfNotes</span></code></a> read/write properties</p>
<p>Read/write properties inherited from <a class="reference internal" href="moduleBase.html#music21.base.Music21Object" title="music21.base.Music21Object"><code class="xref py py-class docutils literal"><span class="pre">Music21Object</span></code></a>:</p>
<table class="hlist"><tr><td><ul class="simple">
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.activeSite" title="music21.base.Music21Object.activeSite"><code class="xref py py-attr docutils literal"><span class="pre">activeSite</span></code></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.derivation" title="music21.base.Music21Object.derivation"><code class="xref py py-attr docutils literal"><span class="pre">derivation</span></code></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.duration" title="music21.base.Music21Object.duration"><code class="xref py py-attr docutils literal"><span class="pre">duration</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.offset" title="music21.base.Music21Object.offset"><code class="xref py py-attr docutils literal"><span class="pre">offset</span></code></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.priority" title="music21.base.Music21Object.priority"><code class="xref py py-attr docutils literal"><span class="pre">priority</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.quarterLength" title="music21.base.Music21Object.quarterLength"><code class="xref py py-attr docutils literal"><span class="pre">quarterLength</span></code></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.seconds" title="music21.base.Music21Object.seconds"><code class="xref py py-attr docutils literal"><span class="pre">seconds</span></code></a></li>
</ul>
</td></tr></table>
<p class="rubric"><a class="reference internal" href="#music21.search.serial.ContiguousSegmentOfNotes" title="music21.search.serial.ContiguousSegmentOfNotes"><code class="xref py py-class docutils literal"><span class="pre">ContiguousSegmentOfNotes</span></code></a> methods</p>
<dl class="method">
<dt id="music21.search.serial.ContiguousSegmentOfNotes.getActiveMatchedRows">
<code class="descclassname">ContiguousSegmentOfNotes.</code><code class="descname">getActiveMatchedRows</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#music21.search.serial.ContiguousSegmentOfNotes.getActiveMatchedRows" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns two ToneRow objects, the activeSegment as ToneRow
and the matchedSegment as ToneRow</p>
</dd></dl>

<dl class="method">
<dt id="music21.search.serial.ContiguousSegmentOfNotes.getDistinctPitchClasses">
<code class="descclassname">ContiguousSegmentOfNotes.</code><code class="descname">getDistinctPitchClasses</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#music21.search.serial.ContiguousSegmentOfNotes.getDistinctPitchClasses" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of distinct pitch classes in the segment, in order of appearance,
where pitches in a chord are read from bottom to top.</p>
<p>Does not sort or order.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Score</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;d4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">chord</span><span class="o">.</span><span class="n">Chord</span><span class="p">([</span><span class="s1">&#39;d4&#39;</span><span class="p">,</span> <span class="s1">&#39;e4&#39;</span><span class="p">,</span> <span class="s1">&#39;g4&#39;</span><span class="p">,</span> <span class="s1">&#39;d5&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="n">makeMeasures</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">searcher</span> <span class="o">=</span> <span class="n">search</span><span class="o">.</span><span class="n">serial</span><span class="o">.</span><span class="n">ContiguousSegmentSearcher</span><span class="p">(</span><span class="n">sc</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">segmentList</span> <span class="o">=</span> <span class="n">searcher</span><span class="o">.</span><span class="n">byLength</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">csn</span> <span class="o">=</span> <span class="n">segmentList</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">csn</span><span class="o">.</span><span class="n">getDistinctPitchClasses</span><span class="p">()</span>
<span class="go">[2, 4, 7]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.search.serial.ContiguousSegmentOfNotes.readPitchClassesFromBottom">
<code class="descclassname">ContiguousSegmentOfNotes.</code><code class="descname">readPitchClassesFromBottom</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#music21.search.serial.ContiguousSegmentOfNotes.readPitchClassesFromBottom" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the list of pitch classes in the segment, reading pitches within 
chords from bottom to top.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Score</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;d4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Cmaj</span> <span class="o">=</span> <span class="n">chord</span><span class="o">.</span><span class="n">Chord</span><span class="p">([</span><span class="s1">&#39;c5&#39;</span><span class="p">,</span> <span class="s1">&#39;e4&#39;</span><span class="p">,</span> <span class="s1">&#39;g4&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Cmaj</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Cmaj</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="n">makeMeasures</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">searcher</span> <span class="o">=</span> <span class="n">search</span><span class="o">.</span><span class="n">serial</span><span class="o">.</span><span class="n">ContiguousSegmentSearcher</span><span class="p">(</span><span class="n">sc</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">segmentList</span> <span class="o">=</span> <span class="n">searcher</span><span class="o">.</span><span class="n">byLength</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">csn</span> <span class="o">=</span> <span class="n">segmentList</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">csn</span><span class="o">.</span><span class="n">readPitchClassesFromBottom</span><span class="p">()</span>
<span class="go">[2, 0, 4, 7]</span>
</pre></div>
</div>
</dd></dl>

<p>Methods inherited from <a class="reference internal" href="moduleBase.html#music21.base.Music21Object" title="music21.base.Music21Object"><code class="xref py py-class docutils literal"><span class="pre">Music21Object</span></code></a>:</p>
<table class="hlist"><tr><td><ul class="simple">
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.containerHierarchy" title="music21.base.Music21Object.containerHierarchy"><code class="xref py py-meth docutils literal"><span class="pre">containerHierarchy()</span></code></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.contextSites" title="music21.base.Music21Object.contextSites"><code class="xref py py-meth docutils literal"><span class="pre">contextSites()</span></code></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.getAllContextsByClass" title="music21.base.Music21Object.getAllContextsByClass"><code class="xref py py-meth docutils literal"><span class="pre">getAllContextsByClass()</span></code></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.getContextByClass" title="music21.base.Music21Object.getContextByClass"><code class="xref py py-meth docutils literal"><span class="pre">getContextByClass()</span></code></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.getOffsetBySite" title="music21.base.Music21Object.getOffsetBySite"><code class="xref py py-meth docutils literal"><span class="pre">getOffsetBySite()</span></code></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.getOffsetInHierarchy" title="music21.base.Music21Object.getOffsetInHierarchy"><code class="xref py py-meth docutils literal"><span class="pre">getOffsetInHierarchy()</span></code></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.getSpannerSites" title="music21.base.Music21Object.getSpannerSites"><code class="xref py py-meth docutils literal"><span class="pre">getSpannerSites()</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.informSites" title="music21.base.Music21Object.informSites"><code class="xref py py-meth docutils literal"><span class="pre">informSites()</span></code></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.isClassOrSubclass" title="music21.base.Music21Object.isClassOrSubclass"><code class="xref py py-meth docutils literal"><span class="pre">isClassOrSubclass()</span></code></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.mergeAttributes" title="music21.base.Music21Object.mergeAttributes"><code class="xref py py-meth docutils literal"><span class="pre">mergeAttributes()</span></code></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.next" title="music21.base.Music21Object.next"><code class="xref py py-meth docutils literal"><span class="pre">next()</span></code></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.previous" title="music21.base.Music21Object.previous"><code class="xref py py-meth docutils literal"><span class="pre">previous()</span></code></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.purgeLocations" title="music21.base.Music21Object.purgeLocations"><code class="xref py py-meth docutils literal"><span class="pre">purgeLocations()</span></code></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.purgeOrphans" title="music21.base.Music21Object.purgeOrphans"><code class="xref py py-meth docutils literal"><span class="pre">purgeOrphans()</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.setOffsetBySite" title="music21.base.Music21Object.setOffsetBySite"><code class="xref py py-meth docutils literal"><span class="pre">setOffsetBySite()</span></code></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.show" title="music21.base.Music21Object.show"><code class="xref py py-meth docutils literal"><span class="pre">show()</span></code></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.sortTuple" title="music21.base.Music21Object.sortTuple"><code class="xref py py-meth docutils literal"><span class="pre">sortTuple()</span></code></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.splitAtDurations" title="music21.base.Music21Object.splitAtDurations"><code class="xref py py-meth docutils literal"><span class="pre">splitAtDurations()</span></code></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.splitAtQuarterLength" title="music21.base.Music21Object.splitAtQuarterLength"><code class="xref py py-meth docutils literal"><span class="pre">splitAtQuarterLength()</span></code></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.splitByQuarterLengths" title="music21.base.Music21Object.splitByQuarterLengths"><code class="xref py py-meth docutils literal"><span class="pre">splitByQuarterLengths()</span></code></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.write" title="music21.base.Music21Object.write"><code class="xref py py-meth docutils literal"><span class="pre">write()</span></code></a></li>
</ul>
</td></tr></table>
<p class="rubric"><a class="reference internal" href="#music21.search.serial.ContiguousSegmentOfNotes" title="music21.search.serial.ContiguousSegmentOfNotes"><code class="xref py py-class docutils literal"><span class="pre">ContiguousSegmentOfNotes</span></code></a> instance variables</p>
<dl class="attribute">
<dt id="music21.search.serial.ContiguousSegmentOfNotes.activeSegment">
<code class="descclassname">ContiguousSegmentOfNotes.</code><code class="descname">activeSegment</code><a class="headerlink" href="#music21.search.serial.ContiguousSegmentOfNotes.activeSegment" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of pitch classes representing the way the contiguous
segment of notes is being read as a sequence of single pitches. Set to None
unless the container stream is being searched for segments or multisets
(for example, using <code class="xref py py-func docutils literal"><span class="pre">findSegments()</span></code>), in which case
the representation depends on the segments or multisets being searched for.
If there are no chords in the segment, this attribute will simply give the
pitch classes of the notes in the segment.</p>
</dd></dl>

<dl class="attribute">
<dt id="music21.search.serial.ContiguousSegmentOfNotes.containerStream">
<code class="descclassname">ContiguousSegmentOfNotes.</code><code class="descname">containerStream</code><a class="headerlink" href="#music21.search.serial.ContiguousSegmentOfNotes.containerStream" title="Permalink to this definition">¶</a></dt>
<dd><p>The stream containing the contiguous segment -
all contiguous segments must have a container stream.</p>
</dd></dl>

<dl class="attribute">
<dt id="music21.search.serial.ContiguousSegmentOfNotes.matchedSegment">
<code class="descclassname">ContiguousSegmentOfNotes.</code><code class="descname">matchedSegment</code><a class="headerlink" href="#music21.search.serial.ContiguousSegmentOfNotes.matchedSegment" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of pitch classes representing the segment to which
the contiguous segment of notes is matched when segments or multisets are
searched for (for example, using <code class="xref py py-func docutils literal"><span class="pre">findSegments()</span></code>);
otherwise set to None. Note that the contiguous segment will only be
matched to one of the segments or multisets being searched for.</p>
</dd></dl>

<dl class="attribute">
<dt id="music21.search.serial.ContiguousSegmentOfNotes.partNumber">
<code class="descclassname">ContiguousSegmentOfNotes.</code><code class="descname">partNumber</code><a class="headerlink" href="#music21.search.serial.ContiguousSegmentOfNotes.partNumber" title="Permalink to this definition">¶</a></dt>
<dd><p>The part number in which the segment appears, or None
(if the container stream has no parts). Note that this attribute is zero-indexed,
so the top (e.g. soprano) part is labeled 0.</p>
</dd></dl>

<dl class="attribute">
<dt id="music21.search.serial.ContiguousSegmentOfNotes.segment">
<code class="descclassname">ContiguousSegmentOfNotes.</code><code class="descname">segment</code><a class="headerlink" href="#music21.search.serial.ContiguousSegmentOfNotes.segment" title="Permalink to this definition">¶</a></dt>
<dd><p>The list of notes and chords in the contiguous segment.</p>
</dd></dl>

<p>Instance variables inherited from <a class="reference internal" href="moduleBase.html#music21.base.Music21Object" title="music21.base.Music21Object"><code class="xref py py-class docutils literal"><span class="pre">Music21Object</span></code></a>:</p>
<table class="hlist"><tr><td><ul class="simple">
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.classSortOrder" title="music21.base.Music21Object.classSortOrder"><code class="xref py py-attr docutils literal"><span class="pre">classSortOrder</span></code></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.groups" title="music21.base.Music21Object.groups"><code class="xref py py-attr docutils literal"><span class="pre">groups</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.hideObjectOnPrint" title="music21.base.Music21Object.hideObjectOnPrint"><code class="xref py py-attr docutils literal"><span class="pre">hideObjectOnPrint</span></code></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.id" title="music21.base.Music21Object.id"><code class="xref py py-attr docutils literal"><span class="pre">id</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.isStream" title="music21.base.Music21Object.isStream"><code class="xref py py-attr docutils literal"><span class="pre">isStream</span></code></a></li>
<li><a class="reference internal" href="moduleBase.html#music21.base.Music21Object.xPosition" title="music21.base.Music21Object.xPosition"><code class="xref py py-attr docutils literal"><span class="pre">xPosition</span></code></a></li>
</ul>
</td></tr></table>
</div>
<div class="section" id="contiguoussegmentsearcher">
<h2>ContiguousSegmentSearcher<a class="headerlink" href="#contiguoussegmentsearcher" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="music21.search.serial.ContiguousSegmentSearcher">
<em class="property">class </em><code class="descclassname">music21.search.serial.</code><code class="descname">ContiguousSegmentSearcher</code><span class="sig-paren">(</span><em>inputStream=None</em>, <em>reps='skipConsecutive'</em>, <em>includeChords=True</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.search.serial.ContiguousSegmentSearcher" title="Permalink to this definition">¶</a></dt>
<dd><p>Class that when given a <a class="reference internal" href="moduleStream.html#music21.stream.Stream" title="music21.stream.Stream"><code class="xref py py-class docutils literal"><span class="pre">Stream</span></code></a>
and <cite>.byLength()</cite> is called, returns a
<a class="reference internal" href="#music21.search.serial.ContiguousSegmentOfNotes" title="music21.search.serial.ContiguousSegmentOfNotes"><code class="xref py py-class docutils literal"><span class="pre">ContiguousSegmentOfNotes</span></code></a> objects 
where the desired number of notes in the segment is specified.</p>
<p>The inputStream is a Score or Part or Opus containing one score..
Furthermore, all notes must be contained within measures.</p>
<p>The reps argument specifies how repeated pitch classes are dealt with. 
It may be set to &#8216;skipConsecutive&#8217; (default), &#8216;rowsOnly&#8217;, &#8216;includeAll&#8217;, or &#8216;ignoreAll&#8217;. 
These are explained in detail below.</p>
<p>The includeChords argument specifies how chords are dealt with. When set to True (default), 
the pitches of all chords
are read in order from bottom to top, and when set to False, all segments containing 
chords are ignored.</p>
<p>The main subtleties of this function lie in how each reps setting works in 
conjunction with chords when
includeChords is set to True, and how the lengths of the segments are measured.
However, let us first examine what happens when includeChords
is set to False, to get an idea of how the function works.</p>
<p>To begin, we create a stream on which we will apply the function.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;e4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">6</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;f4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n3</span> <span class="o">=</span> <span class="n">chord</span><span class="o">.</span><span class="n">Chord</span><span class="p">([</span><span class="s1">&#39;g4&#39;</span><span class="p">,</span> <span class="s1">&#39;b4&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n3</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n4</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;g4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n4</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">repeatAppend</span><span class="p">(</span><span class="n">n4</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n5</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;a4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n5</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">repeatAppend</span><span class="p">(</span><span class="n">n5</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n6</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;b4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n6</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n6</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n7</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;c5&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n7</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n7</span><span class="p">)</span>
</pre></div>
</div>
<p>We can now try to apply this function:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">searcher</span> <span class="o">=</span> <span class="n">search</span><span class="o">.</span><span class="n">serial</span><span class="o">.</span><span class="n">ContiguousSegmentSearcher</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="s1">&#39;skipConsecutive&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">contiglist</span> <span class="o">=</span> <span class="n">searcher</span><span class="o">.</span><span class="n">byLength</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">contiglist</span><span class="p">)</span>
<span class="go">[]</span>
</pre></div>
</div>
<p>On our first attempt, no contiguous segments of notes were found above 
because the inputStream has no measures -
hence we replace s with s.makeNotation().</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">makeNotation</span><span class="p">()</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../_images/serial-findTransposedSegments.png"><img alt="../_images/serial-findTransposedSegments.png" src="../_images/serial-findTransposedSegments.png" style="width: 500px;" /></a>
<p>We now can apply the function, and in doing so we examine in detail each of the reps settings.</p>
<p>&#8216;skipConsecutive&#8217; means that whenever immediate repetitions of notes or chords occur, 
only the first instance of the note or chord is included in the segment. 
The durations of the repeated notes,
do not have to be the same.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">searcher</span> <span class="o">=</span> <span class="n">search</span><span class="o">.</span><span class="n">serial</span><span class="o">.</span><span class="n">ContiguousSegmentSearcher</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">includeChords</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">searcher</span><span class="o">.</span><span class="n">reps</span> <span class="o">=</span> <span class="s1">&#39;skipConsecutive&#39;</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">skipConsecutiveList</span> <span class="o">=</span> <span class="n">searcher</span><span class="o">.</span><span class="n">byLength</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">skipConsecutiveList</span><span class="p">)</span>
<span class="go">[&lt;music21.search.serial.ContiguousSegmentOfNotes [&#39;G4&#39;, &#39;A4&#39;, &#39;B4&#39;]&gt;, </span>
<span class="go"> &lt;music21.search.serial.ContiguousSegmentOfNotes [&#39;A4&#39;, &#39;B4&#39;, &#39;C5&#39;]&gt;]</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">instance</span><span class="o">.</span><span class="n">segment</span> <span class="k">for</span> <span class="n">instance</span> <span class="ow">in</span> <span class="n">skipConsecutiveList</span><span class="p">]</span>
<span class="go">[[&lt;music21.note.Note G&gt;, &lt;music21.note.Note A&gt;, &lt;music21.note.Note B&gt;], </span>
<span class="go"> [&lt;music21.note.Note A&gt;, &lt;music21.note.Note B&gt;, &lt;music21.note.Note C&gt;]]</span>
</pre></div>
</div>
<p>In order to be considered repetition, the spellings of the notes 
in question must be exactly the same:
enharmonic equivalents are not checked and notes with the 
same pitch in different octaves are considered different.
To illustrate this, see the example below, in which all three notes, 
with pitch class 0, are considered
separately.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">new</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;c4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;c5&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n3</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;b#5&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new</span> <span class="o">=</span> <span class="n">new</span><span class="o">.</span><span class="n">makeMeasures</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">searcherNew</span> <span class="o">=</span> <span class="n">search</span><span class="o">.</span><span class="n">serial</span><span class="o">.</span><span class="n">ContiguousSegmentSearcher</span><span class="p">(</span><span class="n">new</span><span class="p">,</span> 
<span class="gp">... </span>      <span class="n">reps</span><span class="o">=</span><span class="s1">&#39;skipConsecutive&#39;</span><span class="p">,</span> <span class="n">includeChords</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">foundSegs</span> <span class="o">=</span> <span class="n">searcherNew</span><span class="o">.</span><span class="n">byLength</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">seg</span><span class="o">.</span><span class="n">segment</span> <span class="k">for</span> <span class="n">seg</span> <span class="ow">in</span> <span class="n">foundSegs</span><span class="p">]</span>
<span class="go">[[&lt;music21.note.Note C&gt;, &lt;music21.note.Note C&gt;, &lt;music21.note.Note B#&gt;]]</span>
</pre></div>
</div>
<p>&#8216;rowsOnly&#8217; searches only for tone rows, in which all pitch classes 
in the segment must be distinct. Below,
we are looking for sequences three consecutive notes within the 
stream <cite>s</cite>, all of which have different pitch classes.
There is only one such set of notes, and by calling the 
<a class="reference internal" href="#music21.search.serial.ContiguousSegmentOfNotes" title="music21.search.serial.ContiguousSegmentOfNotes"><code class="xref py py-attr docutils literal"><span class="pre">ContiguousSegmentOfNotes</span></code></a> we can
determine its location (the measure number of its first note).</p>
<p>We&#8217;ll return to our original searcher:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">searcher</span><span class="o">.</span><span class="n">reps</span> <span class="o">=</span> <span class="s1">&#39;rowsOnly&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rowsOnlyList</span> <span class="o">=</span> <span class="n">searcher</span><span class="o">.</span><span class="n">byLength</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[(</span><span class="n">instance</span><span class="o">.</span><span class="n">segment</span><span class="p">,</span> <span class="n">instance</span><span class="o">.</span><span class="n">startMeasureNumber</span><span class="p">)</span> <span class="k">for</span> <span class="n">instance</span> <span class="ow">in</span> <span class="n">rowsOnlyList</span><span class="p">]</span>
<span class="go">[([&lt;music21.note.Note A&gt;, &lt;music21.note.Note B&gt;, &lt;music21.note.Note C&gt;], 4)]</span>
</pre></div>
</div>
<p>&#8216;includeAll&#8217; disregards all repetitions, and simply gets all 
contiguous segments of the specified length (still subject
to the includeChords setting).</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">searcher</span><span class="o">.</span><span class="n">reps</span> <span class="o">=</span> <span class="s1">&#39;includeAll&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">includeAllList</span> <span class="o">=</span> <span class="n">searcher</span><span class="o">.</span><span class="n">byLength</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">instance</span> <span class="ow">in</span> <span class="n">includeAllList</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">instance</span><span class="o">.</span><span class="n">segment</span><span class="p">,</span> <span class="n">instance</span><span class="o">.</span><span class="n">startMeasureNumber</span><span class="p">,</span> <span class="n">instance</span><span class="o">.</span><span class="n">startOffset</span><span class="p">)</span>
<span class="go">[&lt;music21.note.Note G&gt;, &lt;music21.note.Note G&gt;, &lt;music21.note.Note A&gt;] 3 0.0</span>
<span class="go">[&lt;music21.note.Note G&gt;, &lt;music21.note.Note A&gt;, &lt;music21.note.Note A&gt;] 3 1.0</span>
<span class="go">[&lt;music21.note.Note A&gt;, &lt;music21.note.Note A&gt;, &lt;music21.note.Note B&gt;] 3 2.0</span>
<span class="go">[&lt;music21.note.Note A&gt;, &lt;music21.note.Note B&gt;, &lt;music21.note.Note C&gt;] 4 1.0</span>
</pre></div>
</div>
<p>Note that there only two total As appear in these segments, despite there being three
<a class="reference internal" href="moduleNote.html#music21.note.Note" title="music21.note.Note"><code class="xref py py-class docutils literal"><span class="pre">Note</span></code></a> objects with the A4 as the pitch 
in the stream s; this is because only the first note of each set
of tied notes is considered. This convention applies to this 
function and all parsing functions below.
Also note that so far, neither of the first two notes n1, n2 
nor the major third n3 in <cite>s</cite> have been included in any of the
returned contiguous segments. This is because for each of these, 
any instance of three consecutive notes or chords
contains the chord n3. This phenomenon also applies to the next example below.</p>
<p>Finally, when includeChords is set to False, &#8216;ignoreAll&#8217; finds all 
contiguous segments containing exactly three distinct pitch
classes within it. It is unique in that unlike the previous three 
reps settings, the segments returned in fact
have more than the number of notes specified (3). Rather, they 
each have 3 distinct pitch classes, and some pitch classes
may be repeated.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">searcher</span><span class="o">.</span><span class="n">reps</span> <span class="o">=</span> <span class="s1">&#39;ignoreAll&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ignoreAllList</span> <span class="o">=</span> <span class="n">searcher</span><span class="o">.</span><span class="n">byLength</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">instance</span><span class="o">.</span><span class="n">segment</span> <span class="k">for</span> <span class="n">instance</span> <span class="ow">in</span> <span class="n">ignoreAllList</span><span class="p">]</span>
<span class="go">[[&lt;music21.note.Note G&gt;, &lt;music21.note.Note G&gt;, &lt;music21.note.Note A&gt;, &lt;music21.note.Note A&gt;, </span>
<span class="go">  &lt;music21.note.Note B&gt;], </span>
<span class="go"> [&lt;music21.note.Note G&gt;, &lt;music21.note.Note A&gt;, &lt;music21.note.Note A&gt;, &lt;music21.note.Note B&gt;], </span>
<span class="go"> [&lt;music21.note.Note A&gt;, &lt;music21.note.Note A&gt;, &lt;music21.note.Note B&gt;, &lt;music21.note.Note C&gt;], </span>
<span class="go"> [&lt;music21.note.Note A&gt;, &lt;music21.note.Note B&gt;, &lt;music21.note.Note C&gt;]]</span>
</pre></div>
</div>
<p>Let us now examine what happens in the default chord setting, 
in which includeChords is set to True.</p>
<p>There are two points to remember when considering chords: the first is that all 
chords are read as sequences of single notes,
from bottom to top. The second is that &#8216;length&#8217; always applies to the total 
number of single pitches or pitch classes found 
in the segment, including within chords, and not to the number of notes or chords. 
However, as we will see, when we search
for contiguous segments of length 4, the returned segments may not have exactly 
4 total notes (possibly existing 
as single notes or within chords), a natural point of confusion.</p>
<p>Below is a new stream s0.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s0</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;d4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">maj2nd</span> <span class="o">=</span> <span class="n">chord</span><span class="o">.</span><span class="n">Chord</span><span class="p">([</span><span class="s1">&#39;f4&#39;</span><span class="p">,</span> <span class="s1">&#39;g4&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bmaj1</span> <span class="o">=</span> <span class="n">chord</span><span class="o">.</span><span class="n">Chord</span><span class="p">([</span><span class="s1">&#39;b4&#39;</span><span class="p">,</span> <span class="s1">&#39;d#5&#39;</span><span class="p">,</span> <span class="s1">&#39;f#5&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bmaj2</span> <span class="o">=</span> <span class="n">chord</span><span class="o">.</span><span class="n">Chord</span><span class="p">([</span><span class="s1">&#39;b4&#39;</span><span class="p">,</span> <span class="s1">&#39;d#5&#39;</span><span class="p">,</span> <span class="s1">&#39;f#5&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;f#4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n3</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;e4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n4</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;a4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s0</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">n1</span><span class="p">,</span> <span class="n">maj2nd</span><span class="p">,</span> <span class="n">bmaj1</span><span class="p">,</span> <span class="n">bmaj2</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s0</span> <span class="o">=</span> <span class="n">s0</span><span class="o">.</span><span class="n">makeMeasures</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s0</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../_images/serial-getContiguousSegmentsOfLength2.png"><img alt="../_images/serial-getContiguousSegmentsOfLength2.png" src="../_images/serial-getContiguousSegmentsOfLength2.png" style="width: 500px;" /></a>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">searcher</span> <span class="o">=</span> <span class="n">search</span><span class="o">.</span><span class="n">serial</span><span class="o">.</span><span class="n">ContiguousSegmentSearcher</span><span class="p">(</span><span class="n">s0</span><span class="p">,</span> <span class="s1">&#39;skipConsecutive&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">skipConsecutiveWithChords</span> <span class="o">=</span> <span class="n">searcher</span><span class="o">.</span><span class="n">byLength</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">seg</span><span class="o">.</span><span class="n">segment</span> <span class="k">for</span> <span class="n">seg</span> <span class="ow">in</span> <span class="n">skipConsecutiveWithChords</span><span class="p">]</span>
<span class="go">[[&lt;music21.note.Note D&gt;, &lt;music21.chord.Chord F4 G4&gt;, &lt;music21.chord.Chord B4 D#5 F#5&gt;], </span>
<span class="go"> [&lt;music21.chord.Chord F4 G4&gt;, &lt;music21.chord.Chord B4 D#5 F#5&gt;], </span>
<span class="go"> [&lt;music21.chord.Chord B4 D#5 F#5&gt;, &lt;music21.note.Note F#&gt;], </span>
<span class="go"> [&lt;music21.chord.Chord B4 D#5 F#5&gt;, &lt;music21.note.Note F#&gt;, &lt;music21.note.Note E&gt;], </span>
<span class="go"> [&lt;music21.chord.Chord B4 D#5 F#5&gt;, &lt;music21.note.Note F#&gt;, &lt;music21.note.Note E&gt;, </span>
<span class="go">  &lt;music21.note.Note A&gt;]]</span>
</pre></div>
</div>
<p>Let us look closely at the found segments. First, because reps 
was set to &#8216;skipConsecutive&#8217;, the second
B major chord (bmaj2) is never considered, as the chord right 
before it is the same. As was mentioned before,
not all of the segments found have exactly 4 notes total. 
This is because, for each segment, only a subset
of the notes contained in the first and last elements are read. Given one of the 
found segments, it will always 
be possible to extract exactly four consecutive pitches from the notes and chords, 
reading in order, so that
at least one pitch is taken from each of the first and last chords.</p>
<p>In the first segment, there is one way to extract 4 consecutive pitches: 
we take the D in the first note, read
the F and G (in that order) from the next chord, and finally, 
reading the last chord from bottom to top, the B
from the B major chord. Note that no other reading of the segment 
is possible because the D from the first note
must be used. The second segment in the returned list, on the other 
hand, can be read as a sequence of 4
consecutive pitches in two ways, both equally valid. We can either take 
the top note of the first chord, and all three
notes, in order, of the second chord, or both notes of the first chord 
and the bottom two notes of the second chord.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">searcher</span><span class="o">.</span><span class="n">reps</span> <span class="o">=</span> <span class="s1">&#39;rowsOnly&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rowsOnlyChords</span> <span class="o">=</span> <span class="n">searcher</span><span class="o">.</span><span class="n">byLength</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rowsOnlyChords</span>
<span class="go">[&lt;music21.search.serial.ContiguousSegmentOfNotes [&#39;D4&#39;, &#39;F4 G4&#39;, &#39;B4 D#5 F#5&#39;]&gt;,</span>
<span class="go"> &lt;music21.search.serial.ContiguousSegmentOfNotes [&#39;F4 G4&#39;, &#39;B4 D#5 F#5&#39;]&gt;]</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">seg</span><span class="o">.</span><span class="n">segment</span> <span class="k">for</span> <span class="n">seg</span> <span class="ow">in</span> <span class="n">rowsOnlyChords</span><span class="p">]</span>
<span class="go">[[&lt;music21.note.Note D&gt;, &lt;music21.chord.Chord F4 G4&gt;, &lt;music21.chord.Chord B4 D#5 F#5&gt;], </span>
<span class="go"> [&lt;music21.chord.Chord F4 G4&gt;, &lt;music21.chord.Chord B4 D#5 F#5&gt;]]</span>
</pre></div>
</div>
<p>When reps is set to &#8216;rowsOnly&#8217;, the segments returned are those such that 
each may be read as a sequence
of 4 pitches, in the same manner as explained above with the &#8216;skipConsecutive&#8217; setting, 
such that the sequence
of 4 pitches constitutes a four-note tone row. Above, the first segment 
corresponds to the row [2, 5, 7, 11], and the
second may be read as either [5, 7, 11, 3] or [7, 11, 3, 6]. Note that, for example, 
we could not include both
the B-major chord and the F# that comes right after it in the same segment, 
because there would have to be two 
consecutive instances of the pitch class 6 (corresponding to F#). Similarly, 
we could not include both instances
of the B-major chord, as, again, we would have a pitch class repeated in 
any resulting four-note row.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">searcher</span><span class="o">.</span><span class="n">reps</span> <span class="o">=</span> <span class="s1">&#39;includeAll&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">includeAll</span> <span class="o">=</span> <span class="n">searcher</span><span class="o">.</span><span class="n">byLength</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">seg</span><span class="o">.</span><span class="n">segment</span> <span class="k">for</span> <span class="n">seg</span> <span class="ow">in</span> <span class="n">includeAll</span><span class="p">]</span>
<span class="go">[[&lt;music21.note.Note D&gt;, &lt;music21.chord.Chord F4 G4&gt;, &lt;music21.chord.Chord B4 D#5 F#5&gt;], </span>
<span class="go"> [&lt;music21.chord.Chord F4 G4&gt;, &lt;music21.chord.Chord B4 D#5 F#5&gt;], </span>
<span class="go"> [&lt;music21.chord.Chord B4 D#5 F#5&gt;, &lt;music21.chord.Chord B4 D#5 F#5&gt;], </span>
<span class="go"> [&lt;music21.chord.Chord B4 D#5 F#5&gt;, &lt;music21.note.Note F#&gt;], </span>
<span class="go"> [&lt;music21.chord.Chord B4 D#5 F#5&gt;, &lt;music21.note.Note F#&gt;, &lt;music21.note.Note E&gt;], </span>
<span class="go"> [&lt;music21.chord.Chord B4 D#5 F#5&gt;, &lt;music21.note.Note F#&gt;, </span>
<span class="go">  &lt;music21.note.Note E&gt;, &lt;music21.note.Note A&gt;]]</span>
</pre></div>
</div>
<p>Here, all segments from which sequences of four consecutive pitches can be extracted, 
again with at least
one pitch coming from each of the first and last elements of the segments, are found.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">searcher</span><span class="o">.</span><span class="n">reps</span> <span class="o">=</span> <span class="s1">&#39;ignoreAll&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ignoreAll</span> <span class="o">=</span> <span class="n">searcher</span><span class="o">.</span><span class="n">byLength</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">seg</span><span class="o">.</span><span class="n">segment</span> <span class="k">for</span> <span class="n">seg</span> <span class="ow">in</span> <span class="n">ignoreAll</span><span class="p">]</span>
<span class="go">[[&lt;music21.note.Note D&gt;, </span>
<span class="go">  &lt;music21.chord.Chord F4 G4&gt;, </span>
<span class="go">  &lt;music21.chord.Chord B4 D#5 F#5&gt;], </span>
<span class="go"> [&lt;music21.chord.Chord F4 G4&gt;, </span>
<span class="go">  &lt;music21.chord.Chord B4 D#5 F#5&gt;], </span>
<span class="go"> [&lt;music21.chord.Chord F4 G4&gt;, </span>
<span class="go">  &lt;music21.chord.Chord B4 D#5 F#5&gt;, </span>
<span class="go">  &lt;music21.chord.Chord B4 D#5 F#5&gt;], </span>
<span class="go"> [&lt;music21.chord.Chord F4 G4&gt;, </span>
<span class="go">  &lt;music21.chord.Chord B4 D#5 F#5&gt;, </span>
<span class="go">  &lt;music21.chord.Chord B4 D#5 F#5&gt;, </span>
<span class="go">  &lt;music21.note.Note F#&gt;], </span>
<span class="go"> [&lt;music21.chord.Chord B4 D#5 F#5&gt;, </span>
<span class="go">  &lt;music21.chord.Chord B4 D#5 F#5&gt;, </span>
<span class="go">  &lt;music21.note.Note F#&gt;, </span>
<span class="go">  &lt;music21.note.Note E&gt;], </span>
<span class="go"> [&lt;music21.chord.Chord B4 D#5 F#5&gt;, </span>
<span class="go">  &lt;music21.note.Note F#&gt;, </span>
<span class="go">  &lt;music21.note.Note E&gt;], </span>
<span class="go"> [&lt;music21.chord.Chord B4 D#5 F#5&gt;, </span>
<span class="go">  &lt;music21.note.Note F#&gt;, </span>
<span class="go">  &lt;music21.note.Note E&gt;, </span>
<span class="go">  &lt;music21.note.Note A&gt;]]</span>
</pre></div>
</div>
<p>When reps is set to &#8216;ignoreAll&#8217;, the pitch classes from each segment are read by taking, 
in order, the pitch classes
in the order in which they first appear, where chords are again read from bottom to top. 
For example, in the last segment,
the first three pitch classes are those in the first chord, from 
bottom to top: 11, 3, and 6. Then, the next pitch class
appearing is 6, which is disregarded because it has already appeared. 
Finally, the pitch classes 4 and 9 appear in that order.
There are thus five pitch classes in this segment, in the order [11, 3, 6, 4, 9].</p>
<p>The segment can be read has having length 4 because four consecutive 
pitch classes, [3, 6, 4, 9], can be read from this sequence 
in such a way that the first pitch class of this subsequence is part of the 
first chord in the segment, and the last pitch class
is that of the last note of the segment. More generally, in this setting the 
found segments are those which contain at least 4
distinct pitch classes, but the top note of the first chord (or note), the 
bottom note of the last chord (or note), 
and all pitches of all notes and chords other than the first and last 
contain at most 4 distinct pitch classes.</p>
</dd></dl>

<p class="rubric"><a class="reference internal" href="#music21.search.serial.ContiguousSegmentSearcher" title="music21.search.serial.ContiguousSegmentSearcher"><code class="xref py py-class docutils literal"><span class="pre">ContiguousSegmentSearcher</span></code></a> methods</p>
<dl class="method">
<dt id="music21.search.serial.ContiguousSegmentSearcher.addActiveChords">
<code class="descclassname">ContiguousSegmentSearcher.</code><code class="descname">addActiveChords</code><span class="sig-paren">(</span><em>partNumber</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.search.serial.ContiguousSegmentSearcher.addActiveChords" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="music21.search.serial.ContiguousSegmentSearcher.byLength">
<code class="descclassname">ContiguousSegmentSearcher.</code><code class="descname">byLength</code><span class="sig-paren">(</span><em>length</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.search.serial.ContiguousSegmentSearcher.byLength" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the current setting for reps and includeChords to find all segments
of length <cite>length</cite>.</p>
</dd></dl>

<dl class="method">
<dt id="music21.search.serial.ContiguousSegmentSearcher.getSearchBoundMethod">
<code class="descclassname">ContiguousSegmentSearcher.</code><code class="descname">getSearchBoundMethod</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#music21.search.serial.ContiguousSegmentSearcher.getSearchBoundMethod" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a search method based on the setting of reps (how to classify repetitions),
and the includeChord setting.</p>
</dd></dl>

<dl class="method">
<dt id="music21.search.serial.ContiguousSegmentSearcher.searchIgnoreAllExclude">
<code class="descclassname">ContiguousSegmentSearcher.</code><code class="descname">searchIgnoreAllExclude</code><span class="sig-paren">(</span><em>n</em>, <em>partNumber</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.search.serial.ContiguousSegmentSearcher.searchIgnoreAllExclude" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="music21.search.serial.ContiguousSegmentSearcher.searchIgnoreAllInclude">
<code class="descclassname">ContiguousSegmentSearcher.</code><code class="descname">searchIgnoreAllInclude</code><span class="sig-paren">(</span><em>n</em>, <em>partNumber</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.search.serial.ContiguousSegmentSearcher.searchIgnoreAllInclude" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="music21.search.serial.ContiguousSegmentSearcher.searchIncludeAllExclude">
<code class="descclassname">ContiguousSegmentSearcher.</code><code class="descname">searchIncludeAllExclude</code><span class="sig-paren">(</span><em>n</em>, <em>partNumber</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.search.serial.ContiguousSegmentSearcher.searchIncludeAllExclude" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="music21.search.serial.ContiguousSegmentSearcher.searchIncludeAllInclude">
<code class="descclassname">ContiguousSegmentSearcher.</code><code class="descname">searchIncludeAllInclude</code><span class="sig-paren">(</span><em>n</em>, <em>partNumber</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.search.serial.ContiguousSegmentSearcher.searchIncludeAllInclude" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number added.</p>
</dd></dl>

<dl class="method">
<dt id="music21.search.serial.ContiguousSegmentSearcher.searchRowsOnlyExclude">
<code class="descclassname">ContiguousSegmentSearcher.</code><code class="descname">searchRowsOnlyExclude</code><span class="sig-paren">(</span><em>n</em>, <em>partNumber</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.search.serial.ContiguousSegmentSearcher.searchRowsOnlyExclude" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="music21.search.serial.ContiguousSegmentSearcher.searchRowsOnlyInclude">
<code class="descclassname">ContiguousSegmentSearcher.</code><code class="descname">searchRowsOnlyInclude</code><span class="sig-paren">(</span><em>n</em>, <em>partNumber</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.search.serial.ContiguousSegmentSearcher.searchRowsOnlyInclude" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="music21.search.serial.ContiguousSegmentSearcher.searchSkipConsecutiveExclude">
<code class="descclassname">ContiguousSegmentSearcher.</code><code class="descname">searchSkipConsecutiveExclude</code><span class="sig-paren">(</span><em>n</em>, <em>partNumber</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.search.serial.ContiguousSegmentSearcher.searchSkipConsecutiveExclude" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="music21.search.serial.ContiguousSegmentSearcher.searchSkipConsecutiveInclude">
<code class="descclassname">ContiguousSegmentSearcher.</code><code class="descname">searchSkipConsecutiveInclude</code><span class="sig-paren">(</span><em>n</em>, <em>partNumber</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.search.serial.ContiguousSegmentSearcher.searchSkipConsecutiveInclude" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="multisetsegmentmatcher">
<h2>MultisetSegmentMatcher<a class="headerlink" href="#multisetsegmentmatcher" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="music21.search.serial.MultisetSegmentMatcher">
<em class="property">class </em><code class="descclassname">music21.search.serial.</code><code class="descname">MultisetSegmentMatcher</code><span class="sig-paren">(</span><em>inputStream</em>, <em>reps='skipConsecutive'</em>, <em>includeChords=True</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.search.serial.MultisetSegmentMatcher" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds all instances of given multisets of pitch classes 
within a <a class="reference internal" href="moduleStream.html#music21.stream.Stream" title="music21.stream.Stream"><code class="xref py py-class docutils literal"><span class="pre">Stream</span></code></a>. A multiset
is a generalization of a set, in which the order of the 
elements in the multiset does not matter, but multiple instances
of the same thing (in this case, same pitch class) are treated as distinct elements. 
Thus, two multisets of pitch classes
are considered to be equal if and only if the number of times any given 
pitch class appears in one multiset is the same as
the number of times the pitch class appears in the other multiset.</p>
<p>The inputStream is <a class="reference internal" href="moduleStream.html#music21.stream.Stream" title="music21.stream.Stream"><code class="xref py py-class docutils literal"><span class="pre">Stream</span></code></a>; as 
in <a class="reference internal" href="#music21.search.serial.ContiguousSegmentSearcher" title="music21.search.serial.ContiguousSegmentSearcher"><code class="xref py py-class docutils literal"><span class="pre">ContiguousSegmentSearcher</span></code></a>,
the inputStream can contain at most one <a class="reference internal" href="moduleStream.html#music21.stream.Score" title="music21.stream.Score"><code class="xref py py-class docutils literal"><span class="pre">Score</span></code></a>
its notes must be contained in measures. However, the inputStream may have
multiple parts. The searchList is a list of multisets to
be searched for, each multiset being given as a list of pitch classes. 
Note that the order of pitch classes given in a multiset
does not matter. The reps and includeChords settings specify how
repeated pitches and chords, respectively, are handled; 
the possible settings are the same as those in
<a class="reference internal" href="#music21.search.serial.ContiguousSegmentSearcher" title="music21.search.serial.ContiguousSegmentSearcher"><code class="xref py py-class docutils literal"><span class="pre">ContiguousSegmentSearcher</span></code></a></p>
<p>Returns a list of <a class="reference internal" href="#music21.search.serial.ContiguousSegmentOfNotes" title="music21.search.serial.ContiguousSegmentOfNotes"><code class="xref py py-class docutils literal"><span class="pre">ContiguousSegmentOfNotes</span></code></a> 
objects for the
<a class="reference internal" href="#music21.search.serial.ContiguousSegmentOfNotes.activeSegment" title="music21.search.serial.ContiguousSegmentOfNotes.activeSegment"><code class="xref py py-attr docutils literal"><span class="pre">activeSegment</span></code></a>, 
interpreted as a multiset,
matches at least one of the elements of the searchList,
subject to the settings specified in reps and includeChords.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">part</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Part</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;e4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;e4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n3</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;f4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n3</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n4</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;e4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n4</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n5</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;g4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n5</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span><span class="o">.</span><span class="n">makeMeasures</span><span class="p">(</span><span class="n">inPlace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">)</span>
<span class="go">{0.0} &lt;music21.stream.Measure 1 offset=0.0&gt;</span>
<span class="go">    {0.0} &lt;music21.clef.TrebleClef&gt;</span>
<span class="go">    {0.0} &lt;music21.meter.TimeSignature 4/4&gt;</span>
<span class="go">    {0.0} &lt;music21.note.Note E&gt;</span>
<span class="go">{4.0} &lt;music21.stream.Measure 2 offset=4.0&gt;</span>
<span class="go">    {0.0} &lt;music21.note.Note E&gt;</span>
<span class="go">{8.0} &lt;music21.stream.Measure 3 offset=8.0&gt;</span>
<span class="go">    {0.0} &lt;music21.note.Note F&gt;</span>
<span class="go">{12.0} &lt;music21.stream.Measure 4 offset=12.0&gt;</span>
<span class="go">    {0.0} &lt;music21.note.Note E&gt;</span>
<span class="go">{16.0} &lt;music21.stream.Measure 5 offset=16.0&gt;</span>
<span class="go">    {0.0} &lt;music21.note.Note G&gt;</span>
<span class="go">    {4.0} &lt;music21.bar.Barline style=final&gt;</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">part</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../_images/serial-findMultisets.png"><img alt="../_images/serial-findMultisets.png" src="../_images/serial-findMultisets.png" style="width: 150px;" /></a>
<p>Find all instances of the multiset [5, 4, 4] in the part</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">MSS</span> <span class="o">=</span> <span class="n">search</span><span class="o">.</span><span class="n">serial</span><span class="o">.</span><span class="n">MultisetSegmentMatcher</span><span class="p">(</span><span class="n">part</span><span class="p">,</span> <span class="s1">&#39;includeAll&#39;</span><span class="p">,</span> <span class="n">includeChords</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">EEF</span> <span class="o">=</span> <span class="n">MSS</span><span class="o">.</span><span class="n">find</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">EEF</span>
<span class="go">[&lt;music21.search.serial.ContiguousSegmentOfNotes [&#39;E4&#39;, &#39;E4&#39;, &#39;F4&#39;]&gt;, </span>
<span class="go"> &lt;music21.search.serial.ContiguousSegmentOfNotes [&#39;E4&#39;, &#39;F4&#39;, &#39;E4&#39;]&gt;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[(</span><span class="n">seg</span><span class="o">.</span><span class="n">activeSegment</span><span class="p">,</span> <span class="n">seg</span><span class="o">.</span><span class="n">startMeasureNumber</span><span class="p">)</span> <span class="k">for</span> <span class="n">seg</span> <span class="ow">in</span> <span class="n">EEF</span><span class="p">]</span>
<span class="go">[([4, 4, 5], 1), ([4, 5, 4], 2)]</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">MSS</span> <span class="o">=</span> <span class="n">search</span><span class="o">.</span><span class="n">serial</span><span class="o">.</span><span class="n">MultisetSegmentMatcher</span><span class="p">(</span><span class="n">part</span><span class="p">,</span> <span class="s1">&#39;ignoreAll&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">EF</span> <span class="o">=</span> <span class="n">MSS</span><span class="o">.</span><span class="n">find</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">EF</span>
<span class="go">[&lt;music21.search.serial.ContiguousSegmentOfNotes [&#39;E4&#39;, &#39;E4&#39;, &#39;F4&#39;]&gt;,</span>
<span class="go"> &lt;music21.search.serial.ContiguousSegmentOfNotes [&#39;E4&#39;, &#39;F4&#39;]&gt;, </span>
<span class="go"> &lt;music21.search.serial.ContiguousSegmentOfNotes [&#39;E4&#39;, &#39;E4&#39;, &#39;F4&#39;, &#39;E4&#39;]&gt;, </span>
<span class="go"> &lt;music21.search.serial.ContiguousSegmentOfNotes [&#39;E4&#39;, &#39;F4&#39;, &#39;E4&#39;]&gt;, </span>
<span class="go"> &lt;music21.search.serial.ContiguousSegmentOfNotes [&#39;F4&#39;, &#39;E4&#39;]&gt;]</span>
</pre></div>
</div>
<p>Consider the following examples, with chords.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sc0</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Score</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part0</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Part</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part0</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;c4&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part0</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;d4&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part0</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;e4&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part0</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">chord</span><span class="o">.</span><span class="n">Chord</span><span class="p">([</span><span class="s1">&#39;f4&#39;</span><span class="p">,</span> <span class="s1">&#39;e5&#39;</span><span class="p">]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part0</span> <span class="o">=</span> <span class="n">part0</span><span class="o">.</span><span class="n">makeMeasures</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sc0</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">part0</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">MSS</span> <span class="o">=</span> <span class="n">search</span><span class="o">.</span><span class="n">serial</span><span class="o">.</span><span class="n">MultisetSegmentMatcher</span><span class="p">(</span><span class="n">sc0</span><span class="p">,</span> <span class="s1">&#39;ignoreAll&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">CDE</span> <span class="o">=</span> <span class="n">MSS</span><span class="o">.</span><span class="n">find</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">seg</span><span class="o">.</span><span class="n">segment</span> <span class="k">for</span> <span class="n">seg</span> <span class="ow">in</span> <span class="n">CDE</span><span class="p">]</span>
<span class="go">[[&lt;music21.note.Note C&gt;, &lt;music21.note.Note D&gt;, &lt;music21.note.Note E&gt;]]</span>
</pre></div>
</div>
<p>Also:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sc1</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Score</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part1</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Part</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;c4&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;d4&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">chord</span><span class="o">.</span><span class="n">Chord</span><span class="p">([</span><span class="s1">&#39;e4&#39;</span><span class="p">,</span> <span class="s1">&#39;f4&#39;</span><span class="p">]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part1</span> <span class="o">=</span> <span class="n">part1</span><span class="o">.</span><span class="n">makeMeasures</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sc1</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">part1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">searcher</span> <span class="o">=</span> <span class="n">search</span><span class="o">.</span><span class="n">serial</span><span class="o">.</span><span class="n">ContiguousSegmentSearcher</span><span class="p">(</span><span class="n">sc1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">segmentList</span> <span class="o">=</span> <span class="n">searcher</span><span class="o">.</span><span class="n">byLength</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">seg</span><span class="o">.</span><span class="n">getDistinctPitchClasses</span><span class="p">()</span> <span class="k">for</span> <span class="n">seg</span> <span class="ow">in</span> <span class="n">segmentList</span><span class="p">]</span>
<span class="go">[[0, 2, 4, 5], [2, 4, 5]]</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">MSS</span> <span class="o">=</span> <span class="n">search</span><span class="o">.</span><span class="n">serial</span><span class="o">.</span><span class="n">MultisetSegmentMatcher</span><span class="p">(</span><span class="n">sc1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">CDF</span> <span class="o">=</span> <span class="n">MSS</span><span class="o">.</span><span class="n">find</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">CDF</span>
<span class="go">[]</span>
</pre></div>
</div>
</dd></dl>

<p class="rubric"><a class="reference internal" href="#music21.search.serial.MultisetSegmentMatcher" title="music21.search.serial.MultisetSegmentMatcher"><code class="xref py py-class docutils literal"><span class="pre">MultisetSegmentMatcher</span></code></a> bases</p>
<ul class="simple">
<li><a class="reference internal" href="#music21.search.serial.SegmentMatcher" title="music21.search.serial.SegmentMatcher"><code class="xref py py-class docutils literal"><span class="pre">SegmentMatcher</span></code></a></li>
</ul>
<p class="rubric"><a class="reference internal" href="#music21.search.serial.MultisetSegmentMatcher" title="music21.search.serial.MultisetSegmentMatcher"><code class="xref py py-class docutils literal"><span class="pre">MultisetSegmentMatcher</span></code></a> read/write properties</p>
<p>Read/write properties inherited from <a class="reference internal" href="#music21.search.serial.SegmentMatcher" title="music21.search.serial.SegmentMatcher"><code class="xref py py-class docutils literal"><span class="pre">SegmentMatcher</span></code></a>:</p>
<table class="hlist"><tr><td><ul class="simple">
<li><a class="reference internal" href="#music21.search.serial.SegmentMatcher.includeChords" title="music21.search.serial.SegmentMatcher.includeChords"><code class="xref py py-attr docutils literal"><span class="pre">includeChords</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="#music21.search.serial.SegmentMatcher.reps" title="music21.search.serial.SegmentMatcher.reps"><code class="xref py py-attr docutils literal"><span class="pre">reps</span></code></a></li>
</ul>
</td><td><ul class="simple">
</ul>
</td></tr></table>
<p class="rubric"><a class="reference internal" href="#music21.search.serial.MultisetSegmentMatcher" title="music21.search.serial.MultisetSegmentMatcher"><code class="xref py py-class docutils literal"><span class="pre">MultisetSegmentMatcher</span></code></a> methods</p>
<dl class="method">
<dt id="music21.search.serial.MultisetSegmentMatcher.equalSubset">
<code class="descclassname">MultisetSegmentMatcher.</code><code class="descname">equalSubset</code><span class="sig-paren">(</span><em>searchSegment</em>, <em>subsetToCheck</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.search.serial.MultisetSegmentMatcher.equalSubset" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if there are the same number of each pitchClass in searchSegment
as in subsetToCheck</p>
</dd></dl>

<p>Methods inherited from <a class="reference internal" href="#music21.search.serial.SegmentMatcher" title="music21.search.serial.SegmentMatcher"><code class="xref py py-class docutils literal"><span class="pre">SegmentMatcher</span></code></a>:</p>
<table class="hlist"><tr><td><ul class="simple">
<li><a class="reference internal" href="#music21.search.serial.SegmentMatcher.checkSearchedAlready" title="music21.search.serial.SegmentMatcher.checkSearchedAlready"><code class="xref py py-meth docutils literal"><span class="pre">checkSearchedAlready()</span></code></a></li>
<li><a class="reference internal" href="#music21.search.serial.SegmentMatcher.find" title="music21.search.serial.SegmentMatcher.find"><code class="xref py py-meth docutils literal"><span class="pre">find()</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="#music21.search.serial.SegmentMatcher.findOneIgnoreAll" title="music21.search.serial.SegmentMatcher.findOneIgnoreAll"><code class="xref py py-meth docutils literal"><span class="pre">findOneIgnoreAll()</span></code></a></li>
<li><a class="reference internal" href="#music21.search.serial.SegmentMatcher.findOneOtherReps" title="music21.search.serial.SegmentMatcher.findOneOtherReps"><code class="xref py py-meth docutils literal"><span class="pre">findOneOtherReps()</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="#music21.search.serial.SegmentMatcher.getContiguousSegmentsByLength" title="music21.search.serial.SegmentMatcher.getContiguousSegmentsByLength"><code class="xref py py-meth docutils literal"><span class="pre">getContiguousSegmentsByLength()</span></code></a></li>
<li><a class="reference internal" href="#music21.search.serial.SegmentMatcher.normalize" title="music21.search.serial.SegmentMatcher.normalize"><code class="xref py py-meth docutils literal"><span class="pre">normalize()</span></code></a></li>
</ul>
</td></tr></table>
</div>
<div class="section" id="segmentmatcher">
<h2>SegmentMatcher<a class="headerlink" href="#segmentmatcher" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="music21.search.serial.SegmentMatcher">
<em class="property">class </em><code class="descclassname">music21.search.serial.</code><code class="descname">SegmentMatcher</code><span class="sig-paren">(</span><em>inputStream</em>, <em>reps='skipConsecutive'</em>, <em>includeChords=True</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.search.serial.SegmentMatcher" title="Permalink to this definition">¶</a></dt>
<dd><p>Matches all the ContiguousSegmentsOfNotes (found by ContiguousSegmentSearcher)
within a <a class="reference internal" href="moduleStream.html#music21.stream.Stream" title="music21.stream.Stream"><code class="xref py py-class docutils literal"><span class="pre">Stream</span></code></a>
to one or more segments of pitch classes.</p>
<p>The inputStream is a <a class="reference internal" href="moduleStream.html#music21.stream.Stream" title="music21.stream.Stream"><code class="xref py py-class docutils literal"><span class="pre">Stream</span></code></a>; as 
in <a class="reference internal" href="#music21.search.serial.ContiguousSegmentSearcher" title="music21.search.serial.ContiguousSegmentSearcher"><code class="xref py py-class docutils literal"><span class="pre">ContiguousSegmentSearcher</span></code></a>, 
the inputStream can contain at most one <a class="reference internal" href="moduleStream.html#music21.stream.Score" title="music21.stream.Score"><code class="xref py py-class docutils literal"><span class="pre">Score</span></code></a> and
its notes must be contained in measures. The searchList is a list of contiguous segments to
be searched for, each segment being given as a list of pitch classes. 
The reps and includeChords settings specify how
repeated pitches and chords, respectively, are handled; the 
possible settings are the same as those in
<a class="reference internal" href="#music21.search.serial.ContiguousSegmentSearcher" title="music21.search.serial.ContiguousSegmentSearcher"><code class="xref py py-class docutils literal"><span class="pre">ContiguousSegmentSearcher</span></code></a>.</p>
<p>Returns a list of <a class="reference internal" href="#music21.search.serial.ContiguousSegmentOfNotes" title="music21.search.serial.ContiguousSegmentOfNotes"><code class="xref py py-class docutils literal"><span class="pre">ContiguousSegmentOfNotes</span></code></a> 
objects for which the
<a class="reference internal" href="#music21.search.serial.ContiguousSegmentOfNotes.activeSegment" title="music21.search.serial.ContiguousSegmentOfNotes.activeSegment"><code class="xref py py-attr docutils literal"><span class="pre">activeSegment</span></code></a> 
matches at least one of the elements of the searchList,
subject to the settings specified in reps and includeChords.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Score</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Part</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sig</span> <span class="o">=</span> <span class="n">meter</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">(</span><span class="s1">&#39;2/4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sig</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;e4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">6</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;f4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n3</span> <span class="o">=</span> <span class="n">chord</span><span class="o">.</span><span class="n">Chord</span><span class="p">([</span><span class="s1">&#39;g4&#39;</span><span class="p">,</span> <span class="s1">&#39;b4&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n3</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n4</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;g4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n4</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span><span class="o">.</span><span class="n">repeatAppend</span><span class="p">(</span><span class="n">n4</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n5</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;a4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n5</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span><span class="o">.</span><span class="n">repeatAppend</span><span class="p">(</span><span class="n">n5</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n6</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;b4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n6</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n6</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n7</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;c5&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n7</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n7</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newpart</span> <span class="o">=</span> <span class="n">part</span><span class="o">.</span><span class="n">makeMeasures</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newpart</span><span class="o">.</span><span class="n">makeTies</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newpart</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../_images/serial-findSegments.png"><img alt="../_images/serial-findSegments.png" src="../_images/serial-findSegments.png" style="width: 500px;" /></a>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">newpart</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">matcher</span> <span class="o">=</span> <span class="n">search</span><span class="o">.</span><span class="n">serial</span><span class="o">.</span><span class="n">SegmentMatcher</span><span class="p">(</span><span class="n">sc</span><span class="p">,</span> <span class="n">includeChords</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">GABandABC</span> <span class="o">=</span> <span class="n">matcher</span><span class="o">.</span><span class="n">find</span><span class="p">([[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">11</span><span class="p">],</span> <span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">0</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">GABandABC</span><span class="p">)</span>
<span class="go">[&lt;music21.search.serial.ContiguousSegmentOfNotes [&#39;G4&#39;, &#39;A4&#39;, &#39;B4&#39;]&gt;, </span>
<span class="go"> &lt;music21.search.serial.ContiguousSegmentOfNotes [&#39;A4&#39;, &#39;B4&#39;, &#39;C5&#39;]&gt;]</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">GABandABC</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">segment</span><span class="p">,</span> <span class="n">GABandABC</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">segment</span>
<span class="go">([&lt;music21.note.Note G&gt;, &lt;music21.note.Note A&gt;, &lt;music21.note.Note B&gt;], </span>
<span class="go"> [&lt;music21.note.Note A&gt;, &lt;music21.note.Note B&gt;, &lt;music21.note.Note C&gt;])</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">GABandABC</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">startMeasureNumber</span><span class="p">,</span> <span class="n">GABandABC</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">startMeasureNumber</span>
<span class="go">(5, 6)</span>
</pre></div>
</div>
<p>In case it is not clear, we can use 
the <code class="xref py py-attr docutils literal"><span class="pre">matchedSegment</span></code> property
to determine, to which element of the original searchList the found 
contiguous segments were matched.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">GABandABC</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">matchedSegment</span>
<span class="go">[7, 9, 11]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">GABandABC</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">matchedSegment</span>
<span class="go">[9, 11, 0]</span>
</pre></div>
</div>
<p>One can also search for segments of different lengths, simultaneously. 
Below, &#8216;B&#8217; refers to the
pitch class 11, which only coincidentally is the same as that of the note B.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="p">(</span><span class="n">matcher</span><span class="o">.</span><span class="n">find</span><span class="p">([[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">11</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span>
<span class="go">[&lt;music21.search.serial.ContiguousSegmentOfNotes [&#39;G4&#39;, &#39;A4&#39;, &#39;B4&#39;]&gt;, </span>
<span class="go"> &lt;music21.search.serial.ContiguousSegmentOfNotes [&#39;B4&#39;, &#39;C5&#39;]&gt;]</span>
</pre></div>
</div>
<p>Below, we can see what happens when we include the chords and use ignoreAll</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">matcher</span> <span class="o">=</span> <span class="n">search</span><span class="o">.</span><span class="n">serial</span><span class="o">.</span><span class="n">SegmentMatcher</span><span class="p">(</span><span class="n">sc</span><span class="p">,</span> <span class="n">reps</span><span class="o">=</span><span class="s1">&#39;ignoreAll&#39;</span><span class="p">,</span> <span class="n">includeChords</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">seg</span><span class="o">.</span><span class="n">segment</span> <span class="k">for</span> <span class="n">seg</span> <span class="ow">in</span> <span class="n">matcher</span><span class="o">.</span><span class="n">find</span><span class="p">([[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">]])]</span>
<span class="go">[[&lt;music21.note.Note F&gt;, &lt;music21.chord.Chord G4 B4&gt;]]</span>
</pre></div>
</div>
<p>As expected, the pitch classes found segment are read 
in the order 5, 7, 11 (&#8216;B&#8217;), as the pitches
in the chord are read from bottom to top.</p>
<p>Consider the following other example with chords, which is somewhat more complex:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sc0</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Score</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p0</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Part</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c1</span> <span class="o">=</span> <span class="n">chord</span><span class="o">.</span><span class="n">Chord</span><span class="p">([</span><span class="s1">&#39;c4&#39;</span><span class="p">,</span> <span class="s1">&#39;d4&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c2</span> <span class="o">=</span> <span class="n">chord</span><span class="o">.</span><span class="n">Chord</span><span class="p">([</span><span class="s1">&#39;e4&#39;</span><span class="p">,</span> <span class="s1">&#39;f4&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p0</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">c1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p0</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">c2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p0</span> <span class="o">=</span> <span class="n">p0</span><span class="o">.</span><span class="n">makeMeasures</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sc0</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">p0</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">matcher</span> <span class="o">=</span> <span class="n">search</span><span class="o">.</span><span class="n">serial</span><span class="o">.</span><span class="n">SegmentMatcher</span><span class="p">(</span><span class="n">sc0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">foundSegments</span> <span class="o">=</span> <span class="n">matcher</span><span class="o">.</span><span class="n">find</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">foundSegments</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">seg</span> <span class="o">=</span> <span class="n">foundSegments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">seg</span><span class="o">.</span><span class="n">segment</span>
<span class="go">[&lt;music21.chord.Chord C4 D4&gt;, &lt;music21.chord.Chord E4 F4&gt;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">seg</span><span class="o">.</span><span class="n">activeSegment</span>
<span class="go">[0, 2, 4]</span>
</pre></div>
</div>
<p>If we are just searching for a single term, the list-of-lists can be
given just as a list:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">foundSegments</span> <span class="o">=</span> <span class="n">matcher</span><span class="o">.</span><span class="n">find</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">foundSegments</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">seg</span> <span class="o">=</span> <span class="n">foundSegments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">seg</span><span class="o">.</span><span class="n">segment</span>
<span class="go">[&lt;music21.chord.Chord C4 D4&gt;, &lt;music21.chord.Chord E4 F4&gt;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">seg</span><span class="o">.</span><span class="n">activeSegment</span>
<span class="go">[2, 4, 5]</span>
</pre></div>
</div>
<p>In the two function calls, despite the fact that two different segments 
of pitch classes were searched for, the same
<a class="reference internal" href="#music21.search.serial.ContiguousSegmentOfNotes" title="music21.search.serial.ContiguousSegmentOfNotes"><code class="xref py py-class docutils literal"><span class="pre">ContiguousSegmentOfNotes</span></code></a> object was found for each. 
This is because the found object can be read
in two ways as a sequence of three pitch classes: either as [0, 2, 4], by 
taking the two notes of the first chord in order
and the bottom note of the second, or as [2, 4, 5], by taking the top 
note of the first chord and the two notes of the second
chord in order. Both times, the chords are read from bottom to top.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">matcher</span> <span class="o">=</span> <span class="n">search</span><span class="o">.</span><span class="n">serial</span><span class="o">.</span><span class="n">SegmentMatcher</span><span class="p">(</span><span class="n">sc</span><span class="p">,</span> <span class="n">includeChords</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">foundSegments</span> <span class="o">=</span> <span class="n">matcher</span><span class="o">.</span><span class="n">find</span><span class="p">([[</span><span class="mi">7</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">11</span><span class="p">],</span> <span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">0</span><span class="p">]])</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">foundSegments</span><span class="p">:</span>
<span class="gp">... </span>   <span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">matchedSegment</span><span class="p">)</span>
<span class="go">[7, -3, 11]</span>
<span class="go">[9, 11, 0]</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">foundSegments</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;e4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;f4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n3</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;g4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">chord</span><span class="o">.</span><span class="n">Chord</span><span class="p">([</span><span class="s1">&#39;b4&#39;</span><span class="p">,</span> <span class="s1">&#39;g5&#39;</span><span class="p">,</span> <span class="s1">&#39;a5&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">makeMeasures</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">matcher</span> <span class="o">=</span> <span class="n">search</span><span class="o">.</span><span class="n">serial</span><span class="o">.</span><span class="n">SegmentMatcher</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="s1">&#39;ignoreAll&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">foundSegs</span> <span class="o">=</span> <span class="n">matcher</span><span class="o">.</span><span class="n">find</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">7</span><span class="p">,</span> <span class="mi">7</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">seg</span><span class="o">.</span><span class="n">segment</span> <span class="k">for</span> <span class="n">seg</span> <span class="ow">in</span> <span class="n">foundSegs</span><span class="p">]</span>
<span class="go">[[&lt;music21.note.Note E&gt;, &lt;music21.note.Note F&gt;, &lt;music21.note.Note G&gt;]]</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">foundSegs</span> <span class="o">=</span> <span class="n">matcher</span><span class="o">.</span><span class="n">find</span><span class="p">([</span><span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="mi">9</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">seg</span><span class="o">.</span><span class="n">segment</span> <span class="k">for</span> <span class="n">seg</span> <span class="ow">in</span> <span class="n">foundSegs</span><span class="p">]</span>
<span class="go">[[&lt;music21.note.Note G&gt;, &lt;music21.chord.Chord B4 G5 A5&gt;]]</span>
</pre></div>
</div>
</dd></dl>

<p class="rubric"><a class="reference internal" href="#music21.search.serial.SegmentMatcher" title="music21.search.serial.SegmentMatcher"><code class="xref py py-class docutils literal"><span class="pre">SegmentMatcher</span></code></a> read/write properties</p>
<dl class="attribute">
<dt id="music21.search.serial.SegmentMatcher.includeChords">
<code class="descclassname">SegmentMatcher.</code><code class="descname">includeChords</code><a class="headerlink" href="#music21.search.serial.SegmentMatcher.includeChords" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="music21.search.serial.SegmentMatcher.reps">
<code class="descclassname">SegmentMatcher.</code><code class="descname">reps</code><a class="headerlink" href="#music21.search.serial.SegmentMatcher.reps" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p class="rubric"><a class="reference internal" href="#music21.search.serial.SegmentMatcher" title="music21.search.serial.SegmentMatcher"><code class="xref py py-class docutils literal"><span class="pre">SegmentMatcher</span></code></a> methods</p>
<dl class="method">
<dt id="music21.search.serial.SegmentMatcher.checkSearchedAlready">
<code class="descclassname">SegmentMatcher.</code><code class="descname">checkSearchedAlready</code><span class="sig-paren">(</span><em>unNormalizedSearchSegment</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.search.serial.SegmentMatcher.checkSearchedAlready" title="Permalink to this definition">¶</a></dt>
<dd><p>Check to see if we have searched this segment already.</p>
<p>Called out to be subclassible by Transformed searchers.</p>
<p>If yes, return True.</p>
<p>If not, add to searchedAlready and return False</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">matcher</span> <span class="o">=</span> <span class="n">search</span><span class="o">.</span><span class="n">serial</span><span class="o">.</span><span class="n">SegmentMatcher</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">matcher</span><span class="o">.</span><span class="n">checkSearchedAlready</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">matcher</span><span class="o">.</span><span class="n">checkSearchedAlready</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">matcher</span><span class="o">.</span><span class="n">checkSearchedAlready</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.search.serial.SegmentMatcher.equalSubset">
<code class="descclassname">SegmentMatcher.</code><code class="descname">equalSubset</code><span class="sig-paren">(</span><em>searchSegment</em>, <em>subsetToCheck</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.search.serial.SegmentMatcher.equalSubset" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if these are equal in some way.</p>
<p>Here&#8217;s it&#8217;s simple &#8211; are they equal, but will be harder for other classes.</p>
</dd></dl>

<dl class="method">
<dt id="music21.search.serial.SegmentMatcher.find">
<code class="descclassname">SegmentMatcher.</code><code class="descname">find</code><span class="sig-paren">(</span><em>searchList</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.search.serial.SegmentMatcher.find" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="music21.search.serial.SegmentMatcher.findOneIgnoreAll">
<code class="descclassname">SegmentMatcher.</code><code class="descname">findOneIgnoreAll</code><span class="sig-paren">(</span><em>thisSegment</em>, <em>searchSegment</em>, <em>unNormalizedCurrentSearchSegment=None</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.search.serial.SegmentMatcher.findOneIgnoreAll" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whether thisSegment is a match for the searchSegment if &#8216;ignoreAll&#8217; is the search
term.</p>
<p>If so adds it to self.matchedSegments.  Only matches once per segment</p>
</dd></dl>

<dl class="method">
<dt id="music21.search.serial.SegmentMatcher.findOneOtherReps">
<code class="descclassname">SegmentMatcher.</code><code class="descname">findOneOtherReps</code><span class="sig-paren">(</span><em>thisSegment</em>, <em>searchSegment</em>, <em>unNormalizedCurrentSearchSegment</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.search.serial.SegmentMatcher.findOneOtherReps" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whether thisSegment is a match for the searchSegment if &#8216;ignoreAll&#8217; is NOT the search
term.</p>
<p>If so adds it to self.matchedSegments.  Only matches once per segment</p>
</dd></dl>

<dl class="method">
<dt id="music21.search.serial.SegmentMatcher.getContiguousSegmentsByLength">
<code class="descclassname">SegmentMatcher.</code><code class="descname">getContiguousSegmentsByLength</code><span class="sig-paren">(</span><em>searchSegmentLength</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.search.serial.SegmentMatcher.getContiguousSegmentsByLength" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a ContiguousSegmentSearcher and finds all segments in
self.stream based on the .reps and .includeChords settings and
the searchSegmentLength</p>
<p>If we are searching on lots of segments to match, then we could
end up running this expensive routine multiple times, so we&#8217;ll
cache the answer for each length.</p>
<p>If .reps or .includeChords is changed, then this will be obsolete, 
so cleared.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="music21.search.serial.SegmentMatcher.normalize">
<em class="property">static </em><code class="descclassname">SegmentMatcher.</code><code class="descname">normalize</code><span class="sig-paren">(</span><em>segment</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.search.serial.SegmentMatcher.normalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalize an input segment for searching. For this class just changes
letters to numbers, etc.</p>
<p>Staticmethod:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">search</span><span class="o">.</span><span class="n">serial</span><span class="o">.</span><span class="n">SegmentMatcher</span><span class="o">.</span><span class="n">normalize</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
<span class="go">[3, 4, 5]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">search</span><span class="o">.</span><span class="n">serial</span><span class="o">.</span><span class="n">SegmentMatcher</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span><span class="o">.</span><span class="n">normalize</span><span class="p">([</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">24</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">])</span>
<span class="go">[11, 0, 1]</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="transformedsegmentmatcher">
<h2>TransformedSegmentMatcher<a class="headerlink" href="#transformedsegmentmatcher" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="music21.search.serial.TransformedSegmentMatcher">
<em class="property">class </em><code class="descclassname">music21.search.serial.</code><code class="descname">TransformedSegmentMatcher</code><span class="sig-paren">(</span><em>inputStream</em>, <em>reps='skipConsecutive'</em>, <em>includeChords=True</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.search.serial.TransformedSegmentMatcher" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds all instances of given contiguous segments of pitch classes, 
with serial transformations,
within a <a class="reference internal" href="moduleStream.html#music21.stream.Stream" title="music21.stream.Stream"><code class="xref py py-class docutils literal"><span class="pre">Stream</span></code></a>.</p>
<p>The inputStream is <a class="reference internal" href="moduleStream.html#music21.stream.Stream" title="music21.stream.Stream"><code class="xref py py-class docutils literal"><span class="pre">Stream</span></code></a>; as 
in <a class="reference internal" href="#music21.search.serial.ContiguousSegmentSearcher" title="music21.search.serial.ContiguousSegmentSearcher"><code class="xref py py-class docutils literal"><span class="pre">ContiguousSegmentSearcher</span></code></a>,
the inputStream can 
contain at most one <a class="reference internal" href="moduleStream.html#music21.stream.Score" title="music21.stream.Score"><code class="xref py py-class docutils literal"><span class="pre">Score</span></code></a> 
and its notes must be contained in measures. The searchList is a list of contiguous segments to
be searched for, each segment being given as a list of pitch classes. 
The reps and includeChords settings specify how
repeated pitches and chords, respectively, are handled; the possible settings 
are the same as those in
<a class="reference internal" href="#music21.search.serial.ContiguousSegmentSearcher" title="music21.search.serial.ContiguousSegmentSearcher"><code class="xref py py-class docutils literal"><span class="pre">ContiguousSegmentSearcher</span></code></a>.</p>
<p>The convention for serial 
transformations must be specified to either
&#8216;zero&#8217; or &#8216;original&#8217;, as described in 
<code class="xref py py-meth docutils literal"><span class="pre">zeroCenteredTransformation()</span></code> and
<code class="xref py py-func docutils literal"><span class="pre">originalCenteredTransformation()</span></code> - the default setting 
is &#8216;original&#8217;, as to relate found segments
directly to the given segments, without first transposing the given segment to 
begin on the pitch class 0.</p>
<p>Returns a list of <a class="reference internal" href="#music21.search.serial.ContiguousSegmentOfNotes" title="music21.search.serial.ContiguousSegmentOfNotes"><code class="xref py py-class docutils literal"><span class="pre">ContiguousSegmentOfNotes</span></code></a> objects 
for which some transformation of the
<a class="reference internal" href="#music21.search.serial.ContiguousSegmentOfNotes.activeSegment" title="music21.search.serial.ContiguousSegmentOfNotes.activeSegment"><code class="xref py py-attr docutils literal"><span class="pre">activeSegment</span></code></a> matches at 
least one of the elements of the searchList,
subject to the settings specified in reps and includeChords.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;c#4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;e4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n3</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;d#4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n4</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;f4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n5</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;e4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n6</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;g4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">noteList</span> <span class="o">=</span> <span class="p">[</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n5</span><span class="p">,</span> <span class="n">n6</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Part</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">noteList</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span> <span class="o">=</span> <span class="n">part</span><span class="o">.</span><span class="n">makeMeasures</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../_images/serial-findTransformedSegments.png"><img alt="../_images/serial-findTransformedSegments.png" src="../_images/serial-findTransformedSegments.png" style="width: 150px;" /></a>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tsMatcher</span> <span class="o">=</span> <span class="n">search</span><span class="o">.</span><span class="n">serial</span><span class="o">.</span><span class="n">TransformedSegmentMatcher</span><span class="p">(</span><span class="n">part</span><span class="p">,</span> <span class="s1">&#39;rowsOnly&#39;</span><span class="p">,</span> 
<span class="gp">... </span>                <span class="n">includeChords</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rowInstances</span> <span class="o">=</span> <span class="n">tsMatcher</span><span class="o">.</span><span class="n">find</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">row</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">rowInstances</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">firstInstance</span> <span class="o">=</span> <span class="n">rowInstances</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">firstInstance</span>
<span class="go">&lt;music21.search.serial.ContiguousSegmentOfNotes [&#39;C#4&#39;, &#39;E4&#39;, &#39;D#4&#39;]&gt;</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">firstInstance</span><span class="o">.</span><span class="n">activeSegment</span><span class="p">,</span> <span class="n">firstInstance</span><span class="o">.</span><span class="n">startMeasureNumber</span>
<span class="go">(&lt;music21.serial.ToneRow 0x10b145470&gt;, 1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">firstInstance</span><span class="o">.</span><span class="n">activeSegment</span><span class="o">.</span><span class="n">pitchClasses</span><span class="p">()</span>
<span class="go">[1, 4, 3]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">firstInstance</span><span class="o">.</span><span class="n">originalCenteredTransformationsFromMatched</span>
<span class="go">[(&#39;T&#39;, 11)]</span>
</pre></div>
</div>
<p>We have thus found that the first instance of the row [2, 5, 4] within our 
stream appears as a transposition
down a semitone, beginning in measure 1. We can do a similar analysis on 
the other instance of the row.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">secondInstance</span> <span class="o">=</span> <span class="n">rowInstances</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">secondInstance</span><span class="o">.</span><span class="n">activeSegment</span><span class="o">.</span><span class="n">pitchClasses</span><span class="p">(),</span> <span class="n">secondInstance</span><span class="o">.</span><span class="n">startMeasureNumber</span>
<span class="go">([5, 4, 7], 1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">secondInstance</span><span class="o">.</span><span class="n">zeroCenteredTransformationsFromMatched</span>
<span class="go">[(&#39;RI&#39;, 7)]</span>
</pre></div>
</div>
<p>Let us give an example of this function used with chords included and reps set to &#8216;ignoreAll&#8217;.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;e4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;f4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n3</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;g4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">chord</span><span class="o">.</span><span class="n">Chord</span><span class="p">([</span><span class="s1">&#39;b4&#39;</span><span class="p">,</span> <span class="s1">&#39;g5&#39;</span><span class="p">,</span> <span class="s1">&#39;a5&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">makeMeasures</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tsMatcher</span> <span class="o">=</span> <span class="n">search</span><span class="o">.</span><span class="n">serial</span><span class="o">.</span><span class="n">TransformedSegmentMatcher</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="s1">&#39;ignoreAll&#39;</span><span class="p">,</span> 
<span class="gp">... </span>                <span class="n">includeChords</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">found643</span> <span class="o">=</span> <span class="n">tsMatcher</span><span class="o">.</span><span class="n">find</span><span class="p">([</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">seg</span><span class="o">.</span><span class="n">segment</span> <span class="k">for</span> <span class="n">seg</span> <span class="ow">in</span> <span class="n">found643</span><span class="p">]</span>
<span class="go">[[&lt;music21.note.Note E&gt;, &lt;music21.note.Note F&gt;, &lt;music21.note.Note G&gt;]]</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">found684</span> <span class="o">=</span> <span class="n">tsMatcher</span><span class="o">.</span><span class="n">find</span><span class="p">([</span><span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">seg</span> <span class="ow">in</span> <span class="n">found684</span><span class="p">:</span>
<span class="gp">... </span>   <span class="nb">print</span><span class="p">(</span><span class="n">seg</span><span class="o">.</span><span class="n">segment</span><span class="p">)</span>
<span class="go">[&lt;music21.note.Note G&gt;, &lt;music21.chord.Chord B4 G5 A5&gt;]</span>
<span class="go">[&lt;music21.chord.Chord B4 G5 A5&gt;]</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">seg</span><span class="o">.</span><span class="n">activeSegment</span><span class="o">.</span><span class="n">pitchClasses</span><span class="p">()</span> <span class="k">for</span> <span class="n">seg</span> <span class="ow">in</span> <span class="n">found684</span><span class="p">]</span>
<span class="go">[[7, 11, 9], </span>
<span class="go"> [11, 7, 9]]</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">seg</span><span class="o">.</span><span class="n">originalCenteredTransformationsFromMatched</span> <span class="k">for</span> <span class="n">seg</span> <span class="ow">in</span> <span class="n">found684</span><span class="p">]</span>
<span class="go">[[(&#39;R&#39;, 3)], </span>
<span class="go"> [(&#39;RI&#39;, 3)]]</span>
</pre></div>
</div>
<p>Pitch classes are extracted from segments in order of appearance, with 
pitches in chords being read from bottom to top.
However, only the first instance of each pitch class is considered, as seen in the
<a class="reference internal" href="#music21.search.serial.ContiguousSegmentOfNotes.activeSegment" title="music21.search.serial.ContiguousSegmentOfNotes.activeSegment"><code class="xref py py-attr docutils literal"><span class="pre">activeSegment</span></code></a> calls. 
As long as the first and last pitch classes in the
active segment first appear in the first and last elements of 
the found segment, respectively, the segment will be matched to the
segment being searched for. To make this more clear, consider the 
following example in the same stream s:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tsMatcher</span> <span class="o">=</span> <span class="n">search</span><span class="o">.</span><span class="n">serial</span><span class="o">.</span><span class="n">TransformedSegmentMatcher</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="s1">&#39;includeAll&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">found</span> <span class="o">=</span> <span class="n">tsMatcher</span><span class="o">.</span><span class="n">find</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[(</span><span class="n">seg</span><span class="o">.</span><span class="n">segment</span><span class="p">,</span> <span class="n">seg</span><span class="o">.</span><span class="n">activeSegment</span><span class="o">.</span><span class="n">pitchClasses</span><span class="p">())</span> <span class="k">for</span> <span class="n">seg</span> <span class="ow">in</span> <span class="n">found</span><span class="p">]</span>
<span class="go">[([&lt;music21.note.Note G&gt;, &lt;music21.chord.Chord B4 G5 A5&gt;], [7, 11, 7])]</span>
</pre></div>
</div>
<p>Above, the pitch classes of the found segment are read in the order 7, 11, 7, 9. 
Because a subsequence of this, [7, 11, 7],
is an inversion of the search segment, [4, 0, 4], and furthermore, 
the first 7 is part of the first note of the segment (G), and
the last 7 is part of the last chord of the segment, the found segment is 
matched to the segment being searched for.</p>
</dd></dl>

<p class="rubric"><a class="reference internal" href="#music21.search.serial.TransformedSegmentMatcher" title="music21.search.serial.TransformedSegmentMatcher"><code class="xref py py-class docutils literal"><span class="pre">TransformedSegmentMatcher</span></code></a> bases</p>
<ul class="simple">
<li><a class="reference internal" href="#music21.search.serial.SegmentMatcher" title="music21.search.serial.SegmentMatcher"><code class="xref py py-class docutils literal"><span class="pre">SegmentMatcher</span></code></a></li>
</ul>
<p class="rubric"><a class="reference internal" href="#music21.search.serial.TransformedSegmentMatcher" title="music21.search.serial.TransformedSegmentMatcher"><code class="xref py py-class docutils literal"><span class="pre">TransformedSegmentMatcher</span></code></a> read/write properties</p>
<p>Read/write properties inherited from <a class="reference internal" href="#music21.search.serial.SegmentMatcher" title="music21.search.serial.SegmentMatcher"><code class="xref py py-class docutils literal"><span class="pre">SegmentMatcher</span></code></a>:</p>
<table class="hlist"><tr><td><ul class="simple">
<li><a class="reference internal" href="#music21.search.serial.SegmentMatcher.includeChords" title="music21.search.serial.SegmentMatcher.includeChords"><code class="xref py py-attr docutils literal"><span class="pre">includeChords</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="#music21.search.serial.SegmentMatcher.reps" title="music21.search.serial.SegmentMatcher.reps"><code class="xref py py-attr docutils literal"><span class="pre">reps</span></code></a></li>
</ul>
</td><td><ul class="simple">
</ul>
</td></tr></table>
<p class="rubric"><a class="reference internal" href="#music21.search.serial.TransformedSegmentMatcher" title="music21.search.serial.TransformedSegmentMatcher"><code class="xref py py-class docutils literal"><span class="pre">TransformedSegmentMatcher</span></code></a> methods</p>
<dl class="method">
<dt id="music21.search.serial.TransformedSegmentMatcher.checkSearchedAlready">
<code class="descclassname">TransformedSegmentMatcher.</code><code class="descname">checkSearchedAlready</code><span class="sig-paren">(</span><em>unNormalizedSearchSegment</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.search.serial.TransformedSegmentMatcher.checkSearchedAlready" title="Permalink to this definition">¶</a></dt>
<dd><p>Here a segment is returned as searchedAlready if it is a transformation
of a previous search segment.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">transMatcher</span> <span class="o">=</span> <span class="n">search</span><span class="o">.</span><span class="n">serial</span><span class="o">.</span><span class="n">TransformedSegmentMatcher</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transMatcher</span><span class="o">.</span><span class="n">checkSearchedAlready</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transMatcher</span><span class="o">.</span><span class="n">checkSearchedAlready</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transMatcher</span><span class="o">.</span><span class="n">checkSearchedAlready</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transMatcher</span><span class="o">.</span><span class="n">checkSearchedAlready</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span> <span class="c1"># RI of 0, 1, 3</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.search.serial.TransformedSegmentMatcher.equalSubset">
<code class="descclassname">TransformedSegmentMatcher.</code><code class="descname">equalSubset</code><span class="sig-paren">(</span><em>searchSegment</em>, <em>subsetToCheck</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.search.serial.TransformedSegmentMatcher.equalSubset" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if these are equal in some way.</p>
<p>If is case two rows are equal if they have a zeroCenteredTransformation of the other.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">TSM</span> <span class="o">=</span> <span class="n">search</span><span class="o">.</span><span class="n">serial</span><span class="o">.</span><span class="n">TransformedSegmentMatcher</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TSM</span><span class="o">.</span><span class="n">equalSubset</span><span class="p">(</span><span class="n">TSM</span><span class="o">.</span><span class="n">normalize</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]),</span> <span class="n">TSM</span><span class="o">.</span><span class="n">normalize</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]))</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TSM</span><span class="o">.</span><span class="n">equalSubset</span><span class="p">(</span><span class="n">TSM</span><span class="o">.</span><span class="n">normalize</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]),</span> <span class="n">TSM</span><span class="o">.</span><span class="n">normalize</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]))</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="staticmethod">
<dt id="music21.search.serial.TransformedSegmentMatcher.getTransformations">
<em class="property">static </em><code class="descclassname">TransformedSegmentMatcher.</code><code class="descname">getTransformations</code><span class="sig-paren">(</span><em>row1</em>, <em>row2</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.search.serial.TransformedSegmentMatcher.getTransformations" title="Permalink to this definition">¶</a></dt>
<dd><p>Staticmethod:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">TSM</span> <span class="o">=</span> <span class="n">search</span><span class="o">.</span><span class="n">serial</span><span class="o">.</span><span class="n">TransformedSegmentMatcher</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TSM</span><span class="o">.</span><span class="n">getTransformations</span><span class="p">(</span><span class="n">TSM</span><span class="o">.</span><span class="n">normalize</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]),</span> <span class="n">TSM</span><span class="o">.</span><span class="n">normalize</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]))</span>
<span class="go">[(&#39;P&#39;, 3), (&#39;RI&#39;, 5)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TSM</span><span class="o">.</span><span class="n">getTransformations</span><span class="p">(</span><span class="n">TSM</span><span class="o">.</span><span class="n">normalize</span><span class="p">([</span><span class="s1">&#39;12&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="mi">7</span><span class="p">]),</span> <span class="n">TSM</span><span class="o">.</span><span class="n">normalize</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">]))</span>
<span class="go">[(&#39;I&#39;, 0)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="staticmethod">
<dt id="music21.search.serial.TransformedSegmentMatcher.normalize">
<em class="property">static </em><code class="descclassname">TransformedSegmentMatcher.</code><code class="descname">normalize</code><span class="sig-paren">(</span><em>segment</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.search.serial.TransformedSegmentMatcher.normalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalize an input segment for searching. For this class changes to intervals</p>
<p>Staticmethod:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">search</span><span class="o">.</span><span class="n">serial</span><span class="o">.</span><span class="n">TransformedSegmentMatcher</span><span class="o">.</span><span class="n">normalize</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
<span class="go">&lt;music21.serial.ToneRow 0x10b136400&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">search</span><span class="o">.</span><span class="n">serial</span><span class="o">.</span><span class="n">TransformedSegmentMatcher</span><span class="o">.</span><span class="n">normalize</span><span class="p">([</span><span class="s1">&#39;12&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="mi">7</span><span class="p">])</span>
<span class="go">&lt;music21.serial.ToneRow 0x10b13641b&gt;</span>
</pre></div>
</div>
</dd></dl>

<p>Methods inherited from <a class="reference internal" href="#music21.search.serial.SegmentMatcher" title="music21.search.serial.SegmentMatcher"><code class="xref py py-class docutils literal"><span class="pre">SegmentMatcher</span></code></a>:</p>
<table class="hlist"><tr><td><ul class="simple">
<li><a class="reference internal" href="#music21.search.serial.SegmentMatcher.find" title="music21.search.serial.SegmentMatcher.find"><code class="xref py py-meth docutils literal"><span class="pre">find()</span></code></a></li>
<li><a class="reference internal" href="#music21.search.serial.SegmentMatcher.findOneIgnoreAll" title="music21.search.serial.SegmentMatcher.findOneIgnoreAll"><code class="xref py py-meth docutils literal"><span class="pre">findOneIgnoreAll()</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="#music21.search.serial.SegmentMatcher.findOneOtherReps" title="music21.search.serial.SegmentMatcher.findOneOtherReps"><code class="xref py py-meth docutils literal"><span class="pre">findOneOtherReps()</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="#music21.search.serial.SegmentMatcher.getContiguousSegmentsByLength" title="music21.search.serial.SegmentMatcher.getContiguousSegmentsByLength"><code class="xref py py-meth docutils literal"><span class="pre">getContiguousSegmentsByLength()</span></code></a></li>
</ul>
</td></tr></table>
</div>
<div class="section" id="transposedinvertedmultisetmatcher">
<h2>TransposedInvertedMultisetMatcher<a class="headerlink" href="#transposedinvertedmultisetmatcher" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="music21.search.serial.TransposedInvertedMultisetMatcher">
<em class="property">class </em><code class="descclassname">music21.search.serial.</code><code class="descname">TransposedInvertedMultisetMatcher</code><span class="sig-paren">(</span><em>inputStream</em>, <em>reps='skipConsecutive'</em>, <em>includeChords=True</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.search.serial.TransposedInvertedMultisetMatcher" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds all instances of given multisets of pitch classes, with 
transpositions and inversions, within a <a class="reference internal" href="moduleStream.html#music21.stream.Stream" title="music21.stream.Stream"><code class="xref py py-class docutils literal"><span class="pre">Stream</span></code></a>. 
A multiset is a generalization of a set, as described in 
<code class="xref py py-meth docutils literal"><span class="pre">findMultisets()</span></code>.</p>
<p>The inputStream is <a class="reference internal" href="moduleStream.html#music21.stream.Stream" title="music21.stream.Stream"><code class="xref py py-class docutils literal"><span class="pre">Stream</span></code></a>; as 
in <a class="reference internal" href="#music21.search.serial.ContiguousSegmentSearcher" title="music21.search.serial.ContiguousSegmentSearcher"><code class="xref py py-class docutils literal"><span class="pre">ContiguousSegmentSearcher</span></code></a>,
it can contain at most one <a class="reference internal" href="moduleStream.html#music21.stream.Score" title="music21.stream.Score"><code class="xref py py-class docutils literal"><span class="pre">Score</span></code></a>, and
its notes must be contained in measures. The multisetList is a list of multisets to
be searched for, each multiset being given as a list of pitch classes. Note that the 
order of pitch classes given in a multiset
does not matter. The reps and includeChords settings specify how
repeated pitches and chords, respectively, are handled; the possible settings 
are the same as those in
<a class="reference internal" href="#music21.search.serial.ContiguousSegmentSearcher" title="music21.search.serial.ContiguousSegmentSearcher"><code class="xref py py-class docutils literal"><span class="pre">ContiguousSegmentSearcher</span></code></a></p>
<p>Returns a list of <a class="reference internal" href="#music21.search.serial.ContiguousSegmentOfNotes" title="music21.search.serial.ContiguousSegmentOfNotes"><code class="xref py py-class docutils literal"><span class="pre">ContiguousSegmentOfNotes</span></code></a> 
objects for some transposition or inversion of the 
<a class="reference internal" href="#music21.search.serial.ContiguousSegmentOfNotes.activeSegment" title="music21.search.serial.ContiguousSegmentOfNotes.activeSegment"><code class="xref py py-attr docutils literal"><span class="pre">activeSegment</span></code></a>, 
interpreted as a multiset,
matches at least one of the elements of the searchList,
subject to the settings specified in reps and includeChords.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;c4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;e-4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n3</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;g4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n4</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;e4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n5</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;c4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="p">[</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">]:</span>
<span class="gp">... </span>    <span class="n">n</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">... </span>    <span class="n">s</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n5</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">makeMeasures</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../_images/serial-findTransposedAndInvertedMultisets.png"><img alt="../_images/serial-findTransposedAndInvertedMultisets.png" src="../_images/serial-findTransposedAndInvertedMultisets.png" style="width: 150px;" /></a>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">TIMM</span> <span class="o">=</span> <span class="n">search</span><span class="o">.</span><span class="n">serial</span><span class="o">.</span><span class="n">TransposedInvertedMultisetMatcher</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="s1">&#39;ignoreAll&#39;</span><span class="p">,</span> 
<span class="gp">... </span>                                                              <span class="n">includeChords</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">majOrMinTriads</span> <span class="o">=</span> <span class="n">TIMM</span><span class="o">.</span><span class="n">find</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">majOrMinTriads</span>
<span class="go">[&lt;music21.search.serial.ContiguousSegmentOfNotes [&#39;C4&#39;, &#39;E-4&#39;, &#39;G4&#39;]&gt;, </span>
<span class="go"> &lt;music21.search.serial.ContiguousSegmentOfNotes [&#39;G4&#39;, &#39;E4&#39;, &#39;C4&#39;]&gt;]</span>
</pre></div>
</div>
<p>Note that if we search for both kinds, we should only find each once.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">bothTriads</span> <span class="o">=</span> <span class="n">TIMM</span><span class="o">.</span><span class="n">find</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[(</span><span class="n">maj</span><span class="o">.</span><span class="n">segment</span><span class="p">,</span> <span class="n">maj</span><span class="o">.</span><span class="n">startOffset</span><span class="p">)</span> <span class="k">for</span> <span class="n">maj</span> <span class="ow">in</span> <span class="n">bothTriads</span><span class="p">]</span>
<span class="go">[([&lt;music21.note.Note C&gt;, &lt;music21.note.Note E-&gt;, &lt;music21.note.Note G&gt;], 0.0), </span>
<span class="go"> ([&lt;music21.note.Note G&gt;, &lt;music21.note.Note E&gt;, &lt;music21.note.Note C&gt;], 2.0)]</span>
</pre></div>
</div>
<p>In both these cases, the <cite>[0, 4, 7]</cite> search should have matched:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">maj</span><span class="o">.</span><span class="n">matchedSegment</span> <span class="k">for</span> <span class="n">maj</span> <span class="ow">in</span> <span class="n">bothTriads</span><span class="p">]</span>
<span class="go">[[0, 4, 7], [0, 4, 7]]</span>
</pre></div>
</div>
<p>Note that when we search for both [0, 4, 7] and [0, 3, 7], which are related to each other
by the composition of an inversion and a transposition, each 
found segment is only matched to one
of the multisets in the searchList; thus each found segment appears 
still appears at most once in the returned list
of contiguous segments. Accordingly, calling 
<a class="reference internal" href="#music21.search.serial.ContiguousSegmentOfNotes.matchedSegment" title="music21.search.serial.ContiguousSegmentOfNotes.matchedSegment"><code class="xref py py-attr docutils literal"><span class="pre">matchedSegment</span></code></a>
returns only one element of the searchList for each found segment.</p>
</dd></dl>

<p class="rubric"><a class="reference internal" href="#music21.search.serial.TransposedInvertedMultisetMatcher" title="music21.search.serial.TransposedInvertedMultisetMatcher"><code class="xref py py-class docutils literal"><span class="pre">TransposedInvertedMultisetMatcher</span></code></a> bases</p>
<ul class="simple">
<li><a class="reference internal" href="#music21.search.serial.TransposedMultisetMatcher" title="music21.search.serial.TransposedMultisetMatcher"><code class="xref py py-class docutils literal"><span class="pre">TransposedMultisetMatcher</span></code></a></li>
<li><a class="reference internal" href="#music21.search.serial.SegmentMatcher" title="music21.search.serial.SegmentMatcher"><code class="xref py py-class docutils literal"><span class="pre">SegmentMatcher</span></code></a></li>
</ul>
<p class="rubric"><a class="reference internal" href="#music21.search.serial.TransposedInvertedMultisetMatcher" title="music21.search.serial.TransposedInvertedMultisetMatcher"><code class="xref py py-class docutils literal"><span class="pre">TransposedInvertedMultisetMatcher</span></code></a> read/write properties</p>
<p>Read/write properties inherited from <a class="reference internal" href="#music21.search.serial.SegmentMatcher" title="music21.search.serial.SegmentMatcher"><code class="xref py py-class docutils literal"><span class="pre">SegmentMatcher</span></code></a>:</p>
<table class="hlist"><tr><td><ul class="simple">
<li><a class="reference internal" href="#music21.search.serial.SegmentMatcher.includeChords" title="music21.search.serial.SegmentMatcher.includeChords"><code class="xref py py-attr docutils literal"><span class="pre">includeChords</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="#music21.search.serial.SegmentMatcher.reps" title="music21.search.serial.SegmentMatcher.reps"><code class="xref py py-attr docutils literal"><span class="pre">reps</span></code></a></li>
</ul>
</td><td><ul class="simple">
</ul>
</td></tr></table>
<p class="rubric"><a class="reference internal" href="#music21.search.serial.TransposedInvertedMultisetMatcher" title="music21.search.serial.TransposedInvertedMultisetMatcher"><code class="xref py py-class docutils literal"><span class="pre">TransposedInvertedMultisetMatcher</span></code></a> methods</p>
<dl class="method">
<dt id="music21.search.serial.TransposedInvertedMultisetMatcher.checkSearchedAlready">
<code class="descclassname">TransposedInvertedMultisetMatcher.</code><code class="descname">checkSearchedAlready</code><span class="sig-paren">(</span><em>multiset</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.search.serial.TransposedInvertedMultisetMatcher.checkSearchedAlready" title="Permalink to this definition">¶</a></dt>
<dd><p>since the parent class adds to the list, we check inversions
first and then return the parent class result</p>
</dd></dl>

<dl class="method">
<dt id="music21.search.serial.TransposedInvertedMultisetMatcher.equalSubset">
<code class="descclassname">TransposedInvertedMultisetMatcher.</code><code class="descname">equalSubset</code><span class="sig-paren">(</span><em>searchSegment</em>, <em>subsetToCheck</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.search.serial.TransposedInvertedMultisetMatcher.equalSubset" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if there are the same number of each pitchClass in searchSegment
as in subsetToCheck</p>
</dd></dl>

<p>Methods inherited from <a class="reference internal" href="#music21.search.serial.SegmentMatcher" title="music21.search.serial.SegmentMatcher"><code class="xref py py-class docutils literal"><span class="pre">SegmentMatcher</span></code></a>:</p>
<table class="hlist"><tr><td><ul class="simple">
<li><a class="reference internal" href="#music21.search.serial.SegmentMatcher.find" title="music21.search.serial.SegmentMatcher.find"><code class="xref py py-meth docutils literal"><span class="pre">find()</span></code></a></li>
<li><a class="reference internal" href="#music21.search.serial.SegmentMatcher.findOneIgnoreAll" title="music21.search.serial.SegmentMatcher.findOneIgnoreAll"><code class="xref py py-meth docutils literal"><span class="pre">findOneIgnoreAll()</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="#music21.search.serial.SegmentMatcher.findOneOtherReps" title="music21.search.serial.SegmentMatcher.findOneOtherReps"><code class="xref py py-meth docutils literal"><span class="pre">findOneOtherReps()</span></code></a></li>
<li><a class="reference internal" href="#music21.search.serial.SegmentMatcher.getContiguousSegmentsByLength" title="music21.search.serial.SegmentMatcher.getContiguousSegmentsByLength"><code class="xref py py-meth docutils literal"><span class="pre">getContiguousSegmentsByLength()</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="#music21.search.serial.SegmentMatcher.normalize" title="music21.search.serial.SegmentMatcher.normalize"><code class="xref py py-meth docutils literal"><span class="pre">normalize()</span></code></a></li>
</ul>
</td></tr></table>
</div>
<div class="section" id="transposedmultisetmatcher">
<h2>TransposedMultisetMatcher<a class="headerlink" href="#transposedmultisetmatcher" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="music21.search.serial.TransposedMultisetMatcher">
<em class="property">class </em><code class="descclassname">music21.search.serial.</code><code class="descname">TransposedMultisetMatcher</code><span class="sig-paren">(</span><em>inputStream</em>, <em>reps='skipConsecutive'</em>, <em>includeChords=True</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.search.serial.TransposedMultisetMatcher" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds all instances of given multisets of pitch classes, with transpositions, 
within a <a class="reference internal" href="moduleStream.html#music21.stream.Stream" title="music21.stream.Stream"><code class="xref py py-class docutils literal"><span class="pre">Stream</span></code></a>. A multiset
is a generalization of a set, as described in 
<code class="xref py py-meth docutils literal"><span class="pre">findMultisets()</span></code>.</p>
<p>The inputStream is <a class="reference internal" href="moduleStream.html#music21.stream.Stream" title="music21.stream.Stream"><code class="xref py py-class docutils literal"><span class="pre">Stream</span></code></a>; as 
in <a class="reference internal" href="#music21.search.serial.ContiguousSegmentSearcher" title="music21.search.serial.ContiguousSegmentSearcher"><code class="xref py py-class docutils literal"><span class="pre">ContiguousSegmentSearcher</span></code></a>,
the inputStream can contain at most one <a class="reference internal" href="moduleStream.html#music21.stream.Score" title="music21.stream.Score"><code class="xref py py-class docutils literal"><span class="pre">Score</span></code></a> 
and its notes must be contained in measures. 
The searchList is a list of multisets to
be searched for, each multiset being given as a list of pitch classes. 
Note that the order of pitch classes given in a multiset
does not matter. The reps and includeChords settings specify how
repeated pitches and chords, respectively, are handled; the 
possible settings are the same as those in
<a class="reference internal" href="#music21.search.serial.ContiguousSegmentSearcher" title="music21.search.serial.ContiguousSegmentSearcher"><code class="xref py py-class docutils literal"><span class="pre">ContiguousSegmentSearcher</span></code></a>.</p>
<p>Returns a list of <a class="reference internal" href="#music21.search.serial.ContiguousSegmentOfNotes" title="music21.search.serial.ContiguousSegmentOfNotes"><code class="xref py py-class docutils literal"><span class="pre">ContiguousSegmentOfNotes</span></code></a> objects 
for some transposition of the 
<a class="reference internal" href="#music21.search.serial.ContiguousSegmentOfNotes.activeSegment" title="music21.search.serial.ContiguousSegmentOfNotes.activeSegment"><code class="xref py py-attr docutils literal"><span class="pre">activeSegment</span></code></a>, 
interpreted as a multiset,
matches at least one of the elements of the searchList,
subject to the settings specified in reps and includeChords.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">part</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Part</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;c4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;c#4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n3</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;d4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n4</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;e4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n5</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;e-4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n6</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;e4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n7</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;d4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="p">[</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">,</span> <span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">,</span> <span class="n">n5</span><span class="p">,</span> <span class="n">n6</span><span class="p">,</span> <span class="n">n7</span><span class="p">]:</span>
<span class="gp">... </span>   <span class="n">n</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">... </span>   <span class="n">part</span><span class="o">.</span><span class="n">repeatAppend</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span> <span class="o">=</span> <span class="n">part</span><span class="o">.</span><span class="n">makeMeasures</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../_images/serial-findTransposedMultisets.png"><img alt="../_images/serial-findTransposedMultisets.png" src="../_images/serial-findTransposedMultisets.png" style="width: 500px;" /></a>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">TMM</span> <span class="o">=</span> <span class="n">search</span><span class="o">.</span><span class="n">serial</span><span class="o">.</span><span class="n">TransposedMultisetMatcher</span><span class="p">(</span><span class="n">part</span><span class="p">,</span> <span class="n">includeChords</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">instanceList</span> <span class="o">=</span> <span class="n">TMM</span><span class="o">.</span><span class="n">find</span><span class="p">([[</span><span class="o">-</span><span class="mi">9</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="o">-</span><span class="mi">11</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">instance</span> <span class="ow">in</span> <span class="n">instanceList</span><span class="p">:</span>
<span class="gp">... </span>   <span class="p">(</span><span class="n">instance</span><span class="o">.</span><span class="n">activeSegment</span><span class="p">,</span> <span class="n">instance</span><span class="o">.</span><span class="n">startMeasureNumber</span><span class="p">,</span> <span class="n">instance</span><span class="o">.</span><span class="n">matchedSegment</span><span class="p">)</span>
<span class="go">([0, 1, 2], 1, [-9, -10, -11])</span>
<span class="go">([2, 4, 3], 3, [-9, -10, -11])</span>
<span class="go">([3, 4, 2], 5, [-9, -10, -11])</span>
</pre></div>
</div>
</dd></dl>

<p class="rubric"><a class="reference internal" href="#music21.search.serial.TransposedMultisetMatcher" title="music21.search.serial.TransposedMultisetMatcher"><code class="xref py py-class docutils literal"><span class="pre">TransposedMultisetMatcher</span></code></a> bases</p>
<ul class="simple">
<li><a class="reference internal" href="#music21.search.serial.SegmentMatcher" title="music21.search.serial.SegmentMatcher"><code class="xref py py-class docutils literal"><span class="pre">SegmentMatcher</span></code></a></li>
</ul>
<p class="rubric"><a class="reference internal" href="#music21.search.serial.TransposedMultisetMatcher" title="music21.search.serial.TransposedMultisetMatcher"><code class="xref py py-class docutils literal"><span class="pre">TransposedMultisetMatcher</span></code></a> read/write properties</p>
<p>Read/write properties inherited from <a class="reference internal" href="#music21.search.serial.SegmentMatcher" title="music21.search.serial.SegmentMatcher"><code class="xref py py-class docutils literal"><span class="pre">SegmentMatcher</span></code></a>:</p>
<table class="hlist"><tr><td><ul class="simple">
<li><a class="reference internal" href="#music21.search.serial.SegmentMatcher.includeChords" title="music21.search.serial.SegmentMatcher.includeChords"><code class="xref py py-attr docutils literal"><span class="pre">includeChords</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="#music21.search.serial.SegmentMatcher.reps" title="music21.search.serial.SegmentMatcher.reps"><code class="xref py py-attr docutils literal"><span class="pre">reps</span></code></a></li>
</ul>
</td><td><ul class="simple">
</ul>
</td></tr></table>
<p class="rubric"><a class="reference internal" href="#music21.search.serial.TransposedMultisetMatcher" title="music21.search.serial.TransposedMultisetMatcher"><code class="xref py py-class docutils literal"><span class="pre">TransposedMultisetMatcher</span></code></a> methods</p>
<dl class="method">
<dt id="music21.search.serial.TransposedMultisetMatcher.checkSearchedAlready">
<code class="descclassname">TransposedMultisetMatcher.</code><code class="descname">checkSearchedAlready</code><span class="sig-paren">(</span><em>multiset</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.search.serial.TransposedMultisetMatcher.checkSearchedAlready" title="Permalink to this definition">¶</a></dt>
<dd><p>searched already uses counters...</p>
</dd></dl>

<dl class="method">
<dt id="music21.search.serial.TransposedMultisetMatcher.equalSubset">
<code class="descclassname">TransposedMultisetMatcher.</code><code class="descname">equalSubset</code><span class="sig-paren">(</span><em>searchSegment</em>, <em>subsetToCheck</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.search.serial.TransposedMultisetMatcher.equalSubset" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if there are the same number of each pitchClass in searchSegment
as in subsetToCheck</p>
</dd></dl>

<p>Methods inherited from <a class="reference internal" href="#music21.search.serial.SegmentMatcher" title="music21.search.serial.SegmentMatcher"><code class="xref py py-class docutils literal"><span class="pre">SegmentMatcher</span></code></a>:</p>
<table class="hlist"><tr><td><ul class="simple">
<li><a class="reference internal" href="#music21.search.serial.SegmentMatcher.find" title="music21.search.serial.SegmentMatcher.find"><code class="xref py py-meth docutils literal"><span class="pre">find()</span></code></a></li>
<li><a class="reference internal" href="#music21.search.serial.SegmentMatcher.findOneIgnoreAll" title="music21.search.serial.SegmentMatcher.findOneIgnoreAll"><code class="xref py py-meth docutils literal"><span class="pre">findOneIgnoreAll()</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="#music21.search.serial.SegmentMatcher.findOneOtherReps" title="music21.search.serial.SegmentMatcher.findOneOtherReps"><code class="xref py py-meth docutils literal"><span class="pre">findOneOtherReps()</span></code></a></li>
<li><a class="reference internal" href="#music21.search.serial.SegmentMatcher.getContiguousSegmentsByLength" title="music21.search.serial.SegmentMatcher.getContiguousSegmentsByLength"><code class="xref py py-meth docutils literal"><span class="pre">getContiguousSegmentsByLength()</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="#music21.search.serial.SegmentMatcher.normalize" title="music21.search.serial.SegmentMatcher.normalize"><code class="xref py py-meth docutils literal"><span class="pre">normalize()</span></code></a></li>
</ul>
</td></tr></table>
</div>
<div class="section" id="transposedsegmentmatcher">
<h2>TransposedSegmentMatcher<a class="headerlink" href="#transposedsegmentmatcher" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="music21.search.serial.TransposedSegmentMatcher">
<em class="property">class </em><code class="descclassname">music21.search.serial.</code><code class="descname">TransposedSegmentMatcher</code><span class="sig-paren">(</span><em>inputStream</em>, <em>reps='skipConsecutive'</em>, <em>includeChords=True</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.search.serial.TransposedSegmentMatcher" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds all instances of given contiguous segments of pitch classes, with transpositions, 
within a <a class="reference internal" href="moduleStream.html#music21.stream.Stream" title="music21.stream.Stream"><code class="xref py py-class docutils literal"><span class="pre">Stream</span></code></a>.</p>
<p>The inputStream is a <a class="reference internal" href="moduleStream.html#music21.stream.Stream" title="music21.stream.Stream"><code class="xref py py-class docutils literal"><span class="pre">Stream</span></code></a>; as 
in <a class="reference internal" href="#music21.search.serial.ContiguousSegmentSearcher" title="music21.search.serial.ContiguousSegmentSearcher"><code class="xref py py-class docutils literal"><span class="pre">ContiguousSegmentSearcher</span></code></a>, 
the inputStream can contain at most one <a class="reference internal" href="moduleStream.html#music21.stream.Score" title="music21.stream.Score"><code class="xref py py-class docutils literal"><span class="pre">Score</span></code></a> and
its notes must be contained in measures. The searchList is a list of contiguous segments to
be searched for, each segment being given as a list of pitch classes. 
The reps and includeChords settings specify how
repeated pitches and chords, respectively, are handled; the possible settings 
are the same as those in
<a class="reference internal" href="#music21.search.serial.ContiguousSegmentSearcher" title="music21.search.serial.ContiguousSegmentSearcher"><code class="xref py py-class docutils literal"><span class="pre">ContiguousSegmentSearcher</span></code></a></p>
<p>Returns a list of <a class="reference internal" href="#music21.search.serial.ContiguousSegmentOfNotes" title="music21.search.serial.ContiguousSegmentOfNotes"><code class="xref py py-class docutils literal"><span class="pre">ContiguousSegmentOfNotes</span></code></a> objects 
for which some transposition of the
<a class="reference internal" href="#music21.search.serial.ContiguousSegmentOfNotes.activeSegment" title="music21.search.serial.ContiguousSegmentOfNotes.activeSegment"><code class="xref py py-attr docutils literal"><span class="pre">activeSegment</span></code></a> matches at 
least one of the elements of the searchList,
subject to the settings specified in reps and includeChords.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">part</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Part</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;e4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">6</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;f4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n3</span> <span class="o">=</span> <span class="n">chord</span><span class="o">.</span><span class="n">Chord</span><span class="p">([</span><span class="s1">&#39;g4&#39;</span><span class="p">,</span> <span class="s1">&#39;b4&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n3</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n4</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;g4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n4</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span><span class="o">.</span><span class="n">repeatAppend</span><span class="p">(</span><span class="n">n4</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n5</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;a4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n5</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span><span class="o">.</span><span class="n">repeatAppend</span><span class="p">(</span><span class="n">n5</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n6</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;b4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n6</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n6</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n7</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;c5&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n7</span><span class="o">.</span><span class="n">quarterLength</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">part</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n7</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newpart</span> <span class="o">=</span> <span class="n">part</span><span class="o">.</span><span class="n">makeMeasures</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newpart</span><span class="o">.</span><span class="n">makeTies</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newpart</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../_images/serial-findTransposedSegments.png"><img alt="../_images/serial-findTransposedSegments.png" src="../_images/serial-findTransposedSegments.png" style="width: 500px;" /></a>
<p>First, note that it is impossible, using the &#8216;ignoreAll&#8217; setting, 
to find segments, transposed or not,
with repeated pitch classes.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">matcher</span> <span class="o">=</span> <span class="n">search</span><span class="o">.</span><span class="n">serial</span><span class="o">.</span><span class="n">TransposedSegmentMatcher</span><span class="p">(</span><span class="n">newpart</span><span class="p">,</span> <span class="s1">&#39;ignoreAll&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">matcher</span><span class="o">.</span><span class="n">find</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="go">[]</span>
</pre></div>
</div>
<p>A somewhat more interesting example is below.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">matcher</span> <span class="o">=</span> <span class="n">search</span><span class="o">.</span><span class="n">serial</span><span class="o">.</span><span class="n">TransposedSegmentMatcher</span><span class="p">(</span><span class="n">newpart</span><span class="p">,</span> <span class="s1">&#39;rowsOnly&#39;</span><span class="p">,</span> 
<span class="gp">... </span>                                                           <span class="n">includeChords</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">halfStepList</span> <span class="o">=</span> <span class="n">matcher</span><span class="o">.</span><span class="n">find</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="n">step</span><span class="o">.</span><span class="n">segment</span> <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">halfStepList</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">L</span><span class="p">)</span>
<span class="go">[[&lt;music21.note.Note E&gt;, &lt;music21.note.Note F&gt;], </span>
<span class="go"> [&lt;music21.note.Note B&gt;, &lt;music21.note.Note C&gt;]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">step</span><span class="o">.</span><span class="n">startMeasureNumber</span> <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">halfStepList</span><span class="p">]</span>
<span class="go">[1, 5]</span>
</pre></div>
</div>
<p>In addition to calling the 
<a class="reference internal" href="#music21.search.serial.ContiguousSegmentOfNotes.startMeasureNumber" title="music21.search.serial.ContiguousSegmentOfNotes.startMeasureNumber"><code class="xref py py-attr docutils literal"><span class="pre">startMeasureNumber</span></code></a> 
property
to return the measure numbers on which the half steps start, one may also call the
<a class="reference internal" href="moduleBase.html#music21.base.Music21Object.measureNumber" title="music21.base.Music21Object.measureNumber"><code class="xref py py-attr docutils literal"><span class="pre">measureNumber</span></code></a> property of the 
first <a class="reference internal" href="moduleNote.html#music21.note.Note" title="music21.note.Note"><code class="xref py py-class docutils literal"><span class="pre">Note</span></code></a> of each segment.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">repeatAppend</span><span class="p">(</span><span class="n">newpart</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="c1">#s has two parts, each of which is a copy of newpart.</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sMatcher</span> <span class="o">=</span> <span class="n">search</span><span class="o">.</span><span class="n">serial</span><span class="o">.</span><span class="n">TransposedSegmentMatcher</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">includeChords</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wholeStepList</span> <span class="o">=</span> <span class="n">sMatcher</span><span class="o">.</span><span class="n">find</span><span class="p">([</span><span class="mi">12</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[(</span><span class="n">step</span><span class="o">.</span><span class="n">segment</span><span class="p">,</span> <span class="n">step</span><span class="o">.</span><span class="n">startMeasureNumber</span><span class="p">,</span> <span class="n">step</span><span class="o">.</span><span class="n">partNumber</span><span class="p">)</span> <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">wholeStepList</span><span class="p">]</span>
<span class="go">[([&lt;music21.note.Note G&gt;, &lt;music21.note.Note A&gt;], 3, 0), </span>
<span class="go">([&lt;music21.note.Note A&gt;, &lt;music21.note.Note B&gt;], 3, 0), </span>
<span class="go">([&lt;music21.note.Note G&gt;, &lt;music21.note.Note A&gt;], 3, 1), </span>
<span class="go">([&lt;music21.note.Note A&gt;, &lt;music21.note.Note B&gt;], 3, 1)]</span>
</pre></div>
</div>
<p>Including chords works similarly as in <code class="xref py py-class docutils literal"><span class="pre">findSegments</span></code>.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sMatcher</span> <span class="o">=</span> <span class="n">search</span><span class="o">.</span><span class="n">serial</span><span class="o">.</span><span class="n">TransposedSegmentMatcher</span><span class="p">(</span><span class="n">newpart</span><span class="p">,</span> <span class="n">includeChords</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">foundSegments</span> <span class="o">=</span> <span class="n">sMatcher</span><span class="o">.</span><span class="n">find</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;A&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">seg</span><span class="o">.</span><span class="n">segment</span> <span class="k">for</span> <span class="n">seg</span> <span class="ow">in</span> <span class="n">foundSegments</span><span class="p">]</span>
<span class="go">[[&lt;music21.note.Note F&gt;, &lt;music21.chord.Chord G4 B4&gt;]]</span>
</pre></div>
</div>
</dd></dl>

<p class="rubric"><a class="reference internal" href="#music21.search.serial.TransposedSegmentMatcher" title="music21.search.serial.TransposedSegmentMatcher"><code class="xref py py-class docutils literal"><span class="pre">TransposedSegmentMatcher</span></code></a> bases</p>
<ul class="simple">
<li><a class="reference internal" href="#music21.search.serial.SegmentMatcher" title="music21.search.serial.SegmentMatcher"><code class="xref py py-class docutils literal"><span class="pre">SegmentMatcher</span></code></a></li>
</ul>
<p class="rubric"><a class="reference internal" href="#music21.search.serial.TransposedSegmentMatcher" title="music21.search.serial.TransposedSegmentMatcher"><code class="xref py py-class docutils literal"><span class="pre">TransposedSegmentMatcher</span></code></a> read/write properties</p>
<p>Read/write properties inherited from <a class="reference internal" href="#music21.search.serial.SegmentMatcher" title="music21.search.serial.SegmentMatcher"><code class="xref py py-class docutils literal"><span class="pre">SegmentMatcher</span></code></a>:</p>
<table class="hlist"><tr><td><ul class="simple">
<li><a class="reference internal" href="#music21.search.serial.SegmentMatcher.includeChords" title="music21.search.serial.SegmentMatcher.includeChords"><code class="xref py py-attr docutils literal"><span class="pre">includeChords</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="#music21.search.serial.SegmentMatcher.reps" title="music21.search.serial.SegmentMatcher.reps"><code class="xref py py-attr docutils literal"><span class="pre">reps</span></code></a></li>
</ul>
</td><td><ul class="simple">
</ul>
</td></tr></table>
<p class="rubric"><a class="reference internal" href="#music21.search.serial.TransposedSegmentMatcher" title="music21.search.serial.TransposedSegmentMatcher"><code class="xref py py-class docutils literal"><span class="pre">TransposedSegmentMatcher</span></code></a> methods</p>
<dl class="staticmethod">
<dt id="music21.search.serial.TransposedSegmentMatcher.normalize">
<em class="property">static </em><code class="descclassname">TransposedSegmentMatcher.</code><code class="descname">normalize</code><span class="sig-paren">(</span><em>segment</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.search.serial.TransposedSegmentMatcher.normalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalize an input segment for searching. For this class changes to intervals</p>
<p>Staticmethod:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">search</span><span class="o">.</span><span class="n">serial</span><span class="o">.</span><span class="n">TransposedSegmentMatcher</span><span class="o">.</span><span class="n">normalize</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
<span class="go">&#39;11&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">search</span><span class="o">.</span><span class="n">serial</span><span class="o">.</span><span class="n">TransposedSegmentMatcher</span><span class="o">.</span><span class="n">normalize</span><span class="p">([</span><span class="s1">&#39;12&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="mi">7</span><span class="p">])</span>
<span class="go">&#39;E8&#39;</span>
</pre></div>
</div>
</dd></dl>

<p>Methods inherited from <a class="reference internal" href="#music21.search.serial.SegmentMatcher" title="music21.search.serial.SegmentMatcher"><code class="xref py py-class docutils literal"><span class="pre">SegmentMatcher</span></code></a>:</p>
<table class="hlist"><tr><td><ul class="simple">
<li><a class="reference internal" href="#music21.search.serial.SegmentMatcher.checkSearchedAlready" title="music21.search.serial.SegmentMatcher.checkSearchedAlready"><code class="xref py py-meth docutils literal"><span class="pre">checkSearchedAlready()</span></code></a></li>
<li><a class="reference internal" href="#music21.search.serial.SegmentMatcher.equalSubset" title="music21.search.serial.SegmentMatcher.equalSubset"><code class="xref py py-meth docutils literal"><span class="pre">equalSubset()</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="#music21.search.serial.SegmentMatcher.find" title="music21.search.serial.SegmentMatcher.find"><code class="xref py py-meth docutils literal"><span class="pre">find()</span></code></a></li>
<li><a class="reference internal" href="#music21.search.serial.SegmentMatcher.findOneIgnoreAll" title="music21.search.serial.SegmentMatcher.findOneIgnoreAll"><code class="xref py py-meth docutils literal"><span class="pre">findOneIgnoreAll()</span></code></a></li>
</ul>
</td><td><ul class="simple">
<li><a class="reference internal" href="#music21.search.serial.SegmentMatcher.findOneOtherReps" title="music21.search.serial.SegmentMatcher.findOneOtherReps"><code class="xref py py-meth docutils literal"><span class="pre">findOneOtherReps()</span></code></a></li>
<li><a class="reference internal" href="#music21.search.serial.SegmentMatcher.getContiguousSegmentsByLength" title="music21.search.serial.SegmentMatcher.getContiguousSegmentsByLength"><code class="xref py py-meth docutils literal"><span class="pre">getContiguousSegmentsByLength()</span></code></a></li>
</ul>
</td></tr></table>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="moduleSerial.html" title="music21.serial"
             >next</a> |</li>
        <li class="right" >
          <a href="moduleSearchSegment.html" title="music21.search.segment"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">music21</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Module Reference</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2006-2016, Michael Scott Cuthbert and cuthbertLab.
      Last updated on Aug 21, 2016.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.4.1.
    </div>
  </body>
</html>
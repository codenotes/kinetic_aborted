<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>music21.stream.core &mdash; music21 Documentation</title>
    
    <link rel="stylesheet" href="../_static/m21.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    <link rel="top" title="music21 Documentation" href="../index.html" />
    <link rel="up" title="Module Reference" href="index.html" />
    <link rel="next" title="music21.stream.filters" href="moduleStreamFilters.html" />
    <link rel="prev" title="music21.stream" href="moduleStream.html" /><link href='http://fonts.googleapis.com/css?family=Source+Code+Pro|Open+Sans:300italic,400italic,700italic,400,300,700' rel='stylesheet' type='text/css'>
<script src='http://artusi.xyz/music21j/ext/require/require.js'></script>
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="moduleStreamFilters.html" title="music21.stream.filters"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="moduleStream.html" title="music21.stream"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">music21</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Module Reference</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="moduleStream.html"
                        title="previous chapter">music21.stream</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="moduleStreamFilters.html"
                        title="next chapter">music21.stream.filters</a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">music21.stream.core</a><ul>
<li><a class="reference internal" href="#streamcoremixin">StreamCoreMixin</a></li>
</ul>
</li>
</ul>

<h3><a href="../index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../about/index.html">About Music21</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../usersGuide/index.html">User&#8217;s Guide</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Module Reference</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installing/index.html">Installation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../developerReference/index.html">Developer Reference</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/moduleReference/moduleStreamCore.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="music21-stream-core">
<span id="modulestreamcore"></span><h1>music21.stream.core<a class="headerlink" href="#music21-stream-core" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-music21.stream.core"></span><p>the Stream Core Mixin handles the core attributes of streams that
should be thought of almost as private values and not used except
by advanced programmers who need the highest speed in programming.</p>
<p>Nothing here promises to be stable.  The music21 team can make
any changes here for efficiency reasons while being considered
backwards compatible so long as the public methods that call this
remain stable.</p>
<p>All attributes here will eventually begin with <cite>.core</cite>.</p>
<div class="section" id="streamcoremixin">
<h2>StreamCoreMixin<a class="headerlink" href="#streamcoremixin" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="music21.stream.core.StreamCoreMixin">
<em class="property">class </em><code class="descclassname">music21.stream.core.</code><code class="descname">StreamCoreMixin</code><a class="headerlink" href="#music21.stream.core.StreamCoreMixin" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p class="rubric"><a class="reference internal" href="#music21.stream.core.StreamCoreMixin" title="music21.stream.core.StreamCoreMixin"><code class="xref py py-class docutils literal"><span class="pre">StreamCoreMixin</span></code></a> read-only properties</p>
<dl class="attribute">
<dt id="music21.stream.core.StreamCoreMixin.spannerBundle">
<code class="descclassname">StreamCoreMixin.</code><code class="descname">spannerBundle</code><a class="headerlink" href="#music21.stream.core.StreamCoreMixin.spannerBundle" title="Permalink to this definition">¶</a></dt>
<dd><p>A low-level object for Spanner management. This is a read-only property.</p>
</dd></dl>

<p class="rubric"><a class="reference internal" href="#music21.stream.core.StreamCoreMixin" title="music21.stream.core.StreamCoreMixin"><code class="xref py py-class docutils literal"><span class="pre">StreamCoreMixin</span></code></a> methods</p>
<dl class="method">
<dt id="music21.stream.core.StreamCoreMixin.asTimespans">
<code class="descclassname">StreamCoreMixin.</code><code class="descname">asTimespans</code><span class="sig-paren">(</span><em>classList=None</em>, <em>flatten=True</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.stream.core.StreamCoreMixin.asTimespans" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert stream to a <code class="xref py py-class docutils literal"><span class="pre">TimespanTree</span></code> instance, a
highly optimized data structure for searching through elements and
offsets.</p>
<p>TODO: these should not all be PitchedTimespans...</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">score</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">makeExampleScore</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scoreTree</span> <span class="o">=</span> <span class="n">score</span><span class="o">.</span><span class="n">asTimespans</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">scoreTree</span><span class="p">)</span>
<span class="go">&lt;TimespanTree {20} (0.0 to 8.0) &lt;music21.stream.Score exampleScore&gt;&gt;</span>
<span class="go">    &lt;PitchedTimespan (0.0 to 0.0) &lt;music21.clef.BassClef&gt;&gt;</span>
<span class="go">    &lt;PitchedTimespan (0.0 to 0.0) &lt;music21.meter.TimeSignature 2/4&gt;&gt;</span>
<span class="go">    &lt;PitchedTimespan (0.0 to 0.0) &lt;music21.instrument.Instrument PartA: : &gt;&gt;</span>
<span class="go">    &lt;PitchedTimespan (0.0 to 0.0) &lt;music21.clef.BassClef&gt;&gt;</span>
<span class="go">    &lt;PitchedTimespan (0.0 to 0.0) &lt;music21.meter.TimeSignature 2/4&gt;&gt;</span>
<span class="go">    &lt;PitchedTimespan (0.0 to 0.0) &lt;music21.instrument.Instrument PartB: : &gt;&gt;</span>
<span class="go">    &lt;PitchedTimespan (0.0 to 1.0) &lt;music21.note.Note C&gt;&gt;</span>
<span class="go">    &lt;PitchedTimespan (0.0 to 2.0) &lt;music21.note.Note C#&gt;&gt;</span>
<span class="go">    &lt;PitchedTimespan (1.0 to 2.0) &lt;music21.note.Note D&gt;&gt;</span>
<span class="go">    &lt;PitchedTimespan (2.0 to 3.0) &lt;music21.note.Note E&gt;&gt;</span>
<span class="go">    &lt;PitchedTimespan (2.0 to 4.0) &lt;music21.note.Note G#&gt;&gt;</span>
<span class="go">    &lt;PitchedTimespan (3.0 to 4.0) &lt;music21.note.Note F&gt;&gt;</span>
<span class="go">    &lt;PitchedTimespan (4.0 to 5.0) &lt;music21.note.Note G&gt;&gt;</span>
<span class="go">    &lt;PitchedTimespan (4.0 to 6.0) &lt;music21.note.Note E#&gt;&gt;</span>
<span class="go">    &lt;PitchedTimespan (5.0 to 6.0) &lt;music21.note.Note A&gt;&gt;</span>
<span class="go">    &lt;PitchedTimespan (6.0 to 7.0) &lt;music21.note.Note B&gt;&gt;</span>
<span class="go">    &lt;PitchedTimespan (6.0 to 8.0) &lt;music21.note.Note D#&gt;&gt;</span>
<span class="go">    &lt;PitchedTimespan (7.0 to 8.0) &lt;music21.note.Note C&gt;&gt;</span>
<span class="go">    &lt;PitchedTimespan (8.0 to 8.0) &lt;music21.bar.Barline style=final&gt;&gt;</span>
<span class="go">    &lt;PitchedTimespan (8.0 to 8.0) &lt;music21.bar.Barline style=final&gt;&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.stream.core.StreamCoreMixin.asTree">
<code class="descclassname">StreamCoreMixin.</code><code class="descname">asTree</code><span class="sig-paren">(</span><em>flatten=False</em>, <em>classList=None</em>, <em>useTimespans=False</em>, <em>groupOffsets=False</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.stream.core.StreamCoreMixin.asTree" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an elementTree of the score, using exact positioning.</p>
<p>See tree.fromStream.asTree() for more details.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">score</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">makeExampleScore</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scoreTree</span> <span class="o">=</span> <span class="n">score</span><span class="o">.</span><span class="n">asTree</span><span class="p">(</span><span class="n">flatten</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scoreTree</span>
<span class="go">&lt;ElementTree {20} (0.0 &lt;0.-25...&gt; to 8.0) &lt;music21.stream.Score exampleScore&gt;&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.stream.core.StreamCoreMixin.coreGatherMissingSpanners">
<code class="descclassname">StreamCoreMixin.</code><code class="descname">coreGatherMissingSpanners</code><span class="sig-paren">(</span><em>recurse=True</em>, <em>requireAllPresent=True</em>, <em>insert=True</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.stream.core.StreamCoreMixin.coreGatherMissingSpanners" title="Permalink to this definition">¶</a></dt>
<dd><p>find all spanners that are referenced by elements in the
(recursed if recurse=True) stream and either inserts them in the Stream
(if insert is True) or returns them if insert is False.</p>
<p>If requireAllPresent is True (default) then only those spanners whose complete
spanned elements are in the Stream are returned.</p>
<p>Because spanners are stored weakly in .sites this is only guaranteed to find
the spanners in cases where the spanner is in another stream that is still active.</p>
<p>Here&#8217;s a little helper function since we&#8217;ll make the same Stream several times:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">getStream</span><span class="p">():</span>
<span class="gp">... </span>   <span class="n">s</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">... </span>   <span class="n">n</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;C&#39;</span><span class="p">)</span>
<span class="gp">... </span>   <span class="n">m</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">)</span>
<span class="gp">... </span>   <span class="n">sl</span> <span class="o">=</span> <span class="n">spanner</span><span class="o">.</span><span class="n">Slur</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">m</span><span class="p">)</span>
<span class="gp">... </span>   <span class="n">n</span><span class="o">.</span><span class="n">bogusAttributeNotWeakref</span> <span class="o">=</span> <span class="n">sl</span> <span class="c1"># prevent garbage collecting sl</span>
<span class="gp">... </span>   <span class="n">s</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">n</span><span class="p">,</span> <span class="n">m</span><span class="p">])</span>
<span class="gp">... </span>   <span class="k">return</span> <span class="n">s</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">getStream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">)</span>
<span class="go">{0.0} &lt;music21.note.Note C&gt;</span>
<span class="go">{1.0} &lt;music21.note.Note D&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">coreGatherMissingSpanners</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">)</span>
<span class="go">{0.0} &lt;music21.note.Note C&gt;</span>
<span class="go">{0.0} &lt;music21.spanner.Slur &lt;music21.note.Note C&gt;&lt;music21.note.Note D&gt;&gt;</span>
<span class="go">{1.0} &lt;music21.note.Note D&gt;</span>
</pre></div>
</div>
<p>Insert is False:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">getStream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spList</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">coreGatherMissingSpanners</span><span class="p">(</span><span class="n">insert</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spList</span>
<span class="go">[&lt;music21.spanner.Slur &lt;music21.note.Note C&gt;&lt;music21.note.Note D&gt;&gt;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">)</span>
<span class="go">{0.0} &lt;music21.note.Note C&gt;</span>
<span class="go">{1.0} &lt;music21.note.Note D&gt;</span>
</pre></div>
</div>
<p>Not all elements are present:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">getStream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">)</span>
<span class="go">{0.0} &lt;music21.note.Note C&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">coreGatherMissingSpanners</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">)</span>
<span class="go">{0.0} &lt;music21.note.Note C&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">coreGatherMissingSpanners</span><span class="p">(</span><span class="n">requireAllPresent</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">)</span>
<span class="go">{0.0} &lt;music21.note.Note C&gt;</span>
<span class="go">{0.0} &lt;music21.spanner.Slur &lt;music21.note.Note C&gt;&lt;music21.note.Note D&gt;&gt;</span>
</pre></div>
</div>
<p>Test recursion:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Part</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">getStream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">coreGatherMissingSpanners</span><span class="p">(</span><span class="n">recurse</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">)</span>
<span class="go">{0.0} &lt;music21.stream.Stream 0x104935b00&gt;</span>
<span class="go">    {0.0} &lt;music21.note.Note C&gt;</span>
<span class="go">    {1.0} &lt;music21.note.Note D&gt;</span>
</pre></div>
</div>
<p>Default: with recursion:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">coreGatherMissingSpanners</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">)</span>
<span class="go">{0.0} &lt;music21.stream.Stream 0x104935b00&gt;</span>
<span class="go">    {0.0} &lt;music21.note.Note C&gt;</span>
<span class="go">    {1.0} &lt;music21.note.Note D&gt;</span>
<span class="go">{0.0} &lt;music21.spanner.Slur &lt;music21.note.Note C&gt;&lt;music21.note.Note D&gt;&gt;</span>
</pre></div>
</div>
<p>Make sure that spanners already in the stream are not put there twice:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">getStream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sl</span> <span class="o">=</span> <span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getSpannerSites</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">sl</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">coreGatherMissingSpanners</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">)</span>
<span class="go">{0.0} &lt;music21.note.Note C&gt;</span>
<span class="go">{0.0} &lt;music21.spanner.Slur &lt;music21.note.Note C&gt;&lt;music21.note.Note D&gt;&gt;</span>
<span class="go">{1.0} &lt;music21.note.Note D&gt;</span>
</pre></div>
</div>
<p>And with recursion?</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Part</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">getStream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sl</span> <span class="o">=</span> <span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getSpannerSites</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">sl</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">coreGatherMissingSpanners</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">)</span>
<span class="go">{0.0} &lt;music21.stream.Stream 0x104935b00&gt;</span>
<span class="go">    {0.0} &lt;music21.note.Note C&gt;</span>
<span class="go">    {0.0} &lt;music21.spanner.Slur &lt;music21.note.Note C&gt;&lt;music21.note.Note D&gt;&gt;</span>
<span class="go">    {1.0} &lt;music21.note.Note D&gt;            </span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="music21.stream.core.StreamCoreMixin.elementsChanged">
<code class="descclassname">StreamCoreMixin.</code><code class="descname">elementsChanged</code><span class="sig-paren">(</span><em>updateIsFlat=True</em>, <em>clearIsSorted=True</em>, <em>memo=None</em>, <em>keepIndex=False</em><span class="sig-paren">)</span><a class="headerlink" href="#music21.stream.core.StreamCoreMixin.elementsChanged" title="Permalink to this definition">¶</a></dt>
<dd><p>An advanced stream method that is not necessary for most users.</p>
<p>This method is called automatically any time the elements in the Stream are changed.
However, it may be called manually in case sites or other advanced features of an
element have been modified.  It was previously a private method and for most users
should still be treated as such.</p>
<p>The various arguments permit optimizing the clearing of cached data in situations 
when completely dropping all cached data is excessive.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">isFlat</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Here we manipulate the private <cite>._elements</cite> storage (which generally shouldn&#8217;t
be done) and thus need to call <cite>.elementsChanged</cite> directly.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">_elements</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">stream</span><span class="o">.</span><span class="n">Stream</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">isFlat</span> <span class="c1"># this is wrong.</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">elementsChanged</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">isFlat</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="moduleStreamFilters.html" title="music21.stream.filters"
             >next</a> |</li>
        <li class="right" >
          <a href="moduleStream.html" title="music21.stream"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">music21</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Module Reference</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2006-2016, Michael Scott Cuthbert and cuthbertLab.
      Last updated on Aug 21, 2016.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.4.1.
    </div>
  </body>
</html>
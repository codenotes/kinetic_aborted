.. _usersGuide_98_inversionDemo:

.. WARNING: DO NOT EDIT THIS FILE:
   AUTOMATICALLY GENERATED.
   PLEASE EDIT THE .py FILE DIRECTLY.


Inversion Demo
==============

Work in progress...

.. code:: python

    from music21 import *


.. code:: python

    import copy

.. code:: python

    it = ['M-3','P1','A4']

.. code:: python

    p = pitch.Pitch('F4')
    cList = []

.. code:: python

    for int in it:
        pNew = p.transpose(int, inPlace=False)
        cList.append(pNew)

.. code:: python

    cList




.. parsed-literal::
   :class: ipython-result

    [<music21.pitch.Pitch D-4>, <music21.pitch.Pitch F4>, <music21.pitch.Pitch B4>]



.. code:: python

    chord1 = chord.Chord(cList)
    chord1.show()




.. image:: usersGuide_98_inversionDemo_8_0.png



.. code:: python

    chord1.inversion(0)

.. code:: python

    chord1.show()




.. image:: usersGuide_98_inversionDemo_10_0.png



.. code:: python

    max(chord1.pitches)




.. parsed-literal::
   :class: ipython-result

    <music21.pitch.Pitch F5>



.. code:: python

    cMaj = chord.Chord("C3 E3 G3")
    s = stream.Stream()
    for i in range(20):
        inv = i % 3
        s.append(cMaj)
        cMajCopy = copy.deepcopy(cMaj)
        cMajCopy.inversion(inv)
        cMaj = cMajCopy


.. code:: python

    s.show('text')


.. parsed-literal::
   :class: ipython-result

    {0.0} <music21.chord.Chord C3 E3 G3>
    {1.0} <music21.chord.Chord C3 E3 G3>
    {2.0} <music21.chord.Chord E3 G3 C4>
    {3.0} <music21.chord.Chord G3 C4 E4>
    {4.0} <music21.chord.Chord C4 E4 G4>
    {5.0} <music21.chord.Chord E4 G4 C5>
    {6.0} <music21.chord.Chord G4 C5 E5>
    {7.0} <music21.chord.Chord C5 E5 G5>
    {8.0} <music21.chord.Chord E5 G5 C6>
    {9.0} <music21.chord.Chord G5 C6 E6>
    {10.0} <music21.chord.Chord C6 E6 G6>
    {11.0} <music21.chord.Chord E6 G6 C7>
    {12.0} <music21.chord.Chord G6 C7 E7>
    {13.0} <music21.chord.Chord C7 E7 G7>
    {14.0} <music21.chord.Chord E7 G7 C8>
    {15.0} <music21.chord.Chord G7 C8 E8>
    {16.0} <music21.chord.Chord C8 E8 G8>
    {17.0} <music21.chord.Chord E8 G8 C9>
    {18.0} <music21.chord.Chord G8 C9 E9>
    {19.0} <music21.chord.Chord C9 E9 G9>


.. code:: python

    s.show()




.. image:: usersGuide_98_inversionDemo_14_0.png



.. code:: python

    cMaj = chord.Chord("C1 G1 E2")
    s = stream.Stream()
    for i in range(7):
        inv = i % 3
        s.append(cMaj)
        cMajCopy = copy.deepcopy(cMaj)
        cMajCopy.inversion(inv)
        cMaj = cMajCopy

.. code:: python

    s.show()




.. image:: usersGuide_98_inversionDemo_16_0.png



.. code:: python

    cMaj = chord.Chord("C3 E3 G3 B-3 D-4 F#4")
    s = stream.Stream()
    for i in range(17):
        inv = i % 6
        s.append(cMaj)
        cMajCopy = copy.deepcopy(cMaj)
        cMajCopy.inversion(inv)
        cMaj = cMajCopy

.. code:: python

    s.show()




.. image:: usersGuide_98_inversionDemo_18_0.png



.. code:: python

    s.show('midi')



.. raw:: html

    
                    <div id='midiPlayerDiv2259'></div>
                    <link rel="stylesheet" href="http://artusi.xyz/music21j/css/m21.css" 
                        type="text/css" />
                    <script>
                    require.config({
                        paths: {'music21': 'http://artusi.xyz/music21j/src/music21'} 
                    }); 
                    require(['music21'], function() { 
                                   mp = new music21.miditools.MidiPlayer();
                                   mp.addPlayer('#midiPlayerDiv2259'); 
                                   mp.base64Load('data:audio/midi;base64,TVRoZAAAAAYAAQABBABNVHJrAAADTwD/AwAA4ABAiACQMFoAkDRaAJA3WgCQOloAkD1aAJBCWogAgDAAAIA0AACANwAAgDoAAIA9AACAQgAAkDBaAJA0WgCQN1oAkDpaAJA9WgCQQlqIAIAwAACANAAAgDcAAIA6AACAPQAAgEIAAJA0WgCQN1oAkDpaAJA9WgCQQloAkEhaiACANAAAgDcAAIA6AACAPQAAgEIAAIBIAACQN1oAkDpaAJA9WgCQQloAkEhaAJBMWogAgDcAAIA6AACAPQAAgEIAAIBIAACATAAAkDpaAJA9WgCQQloAkEhaAJBMWgCQT1qIAIA6AACAPQAAgEIAAIBIAACATAAAgE8AAJA9WgCQQloAkEhaAJBMWgCQT1oAkFJaiACAPQAAgEIAAIBIAACATAAAgE8AAIBSAACQQloAkEhaAJBMWgCQT1oAkFJaAJBVWogAgEIAAIBIAACATAAAgE8AAIBSAACAVQAAkEhaAJBMWgCQT1oAkFJaAJBVWgCQWlqIAIBIAACATAAAgE8AAIBSAACAVQAAgFoAAJBMWgCQT1oAkFJaAJBVWgCQWloAkGBaiACATAAAgE8AAIBSAACAVQAAgFoAAIBgAACQT1oAkFJaAJBVWgCQWloAkGBaAJBkWogAgE8AAIBSAACAVQAAgFoAAIBgAACAZAAAkFJaAJBVWgCQWloAkGBaAJBkWgCQZ1qIAIBSAACAVQAAgFoAAIBgAACAZAAAgGcAAJBVWgCQWloAkGBaAJBkWgCQZ1oAkGpaiACAVQAAgFoAAIBgAACAZAAAgGcAAIBqAACQWloAkGBaAJBkWgCQZ1oAkGpaAJBtWogAgFoAAIBgAACAZAAAgGcAAIBqAACAbQAAkGBaAJBkWgCQZ1oAkGpaAJBtWgCQclqIAIBgAACAZAAAgGcAAIBqAACAbQAAgHIAAJBkWgCQZ1oAkGpaAJBtWgCQcloAkHhaiACAZAAAgGcAAIBqAACAbQAAgHIAAIB4AACQZ1oAkGpaAJBtWgCQcloAkHhaAJB8WogAgGcAAIBqAACAbQAAgHIAAIB4AACAfAAAkGpaAJBtWgCQcloAkHhaAJB8WgCQf1qIAIBqAACAbQAAgHIAAIB4AACAfAAAgH8AiAD/LwA='); 
                            });
                    </script>


.. code:: python

    germ6 = chord.Chord("A-3 C4 E-4 F#4")
    s = stream.Stream()
    print(germ6.inversion())
    for i in range(12):
        inv = i % 3
        s.append(germ6)
        germ6Copy = copy.deepcopy(germ6)
        germ6Copy.inversion(inv)
        germ6 = germ6Copy


.. parsed-literal::
   :class: ipython-result

    1


.. code:: python

    s.show()




.. image:: usersGuide_98_inversionDemo_21_0.png



All subchords.

.. code:: python

    from itertools import combinations as comb

.. code:: python

    c = chord.Chord([0, 1, 2, 4, 7, 8])
    c.commonName




.. parsed-literal::
   :class: ipython-result

    'all tri-chord hexachord'



.. code:: python

    cc = set()
    for i in comb(c.pitches, 3):
        cc.add(chord.Chord(i).forteClassNumber)
    cc


::


    ---------------------------------------------------------------------------

    NameError                                 Traceback (most recent call last)

    <ipython-input-3-57c8e4e73a61> in <module>()
          1 cc = set()
    ----> 2 for i in comb(c.pitches, 3):
          3     cc.add(chord.Chord(i).forteClassNumber)
          4 cc


    NameError: name 'comb' is not defined


.. code:: python

    s = stream.Part()
    for i in [8,6,7,5,3,0,9,  8,6,7,5,3,0,9]:
        n = note.Note(i)
        if i == 3:
            n.quarterLength = .5
        elif i == 9:
            n.quarterLength = 2.5
        n.quarterLength *= .5
        s.append(n)
    s.show('midi')



.. raw:: html

    
                    <div id='midiPlayerDiv3598'></div>
                    <link rel="stylesheet" href="http://artusi.xyz/music21j/css/m21.css" 
                        type="text/css" />
                    <script>
                    require.config({
                        paths: {'music21': 'http://artusi.xyz/music21j/src/music21'} 
                    }); 
                    require(['music21'], function() { 
                                   mp = new music21.miditools.MidiPlayer();
                                   mp.addPlayer('#midiPlayerDiv3598'); 
                                   mp.base64Load('data:audio/midi;base64,TVRoZAAAAAYAAQABBABNVHJrAAAAjAD/AwAA4ABAiACQRFqEAIBEAACQQlqEAIBCAACQQ1qEAIBDAACQQVqEAIBBAACQP1qCAIA/AACQPFqEAIA8AACQRVqKAIBFAACQRFqEAIBEAACQQlqEAIBCAACQQ1qEAIBDAACQQVqEAIBBAACQP1qCAIA/AACQPFqEAIA8AACQRVqKAIBFAIgA/y8A'); 
                            });
                    </script>


.. code:: python

    t = stream.Part()
    for i in [8,6,7,5,3,0,9]:
        n = note.Note()
        n.pitch.diatonicNoteNum = 27 + i
        t.append(n)
    t.show('midi')



.. raw:: html

    
                    <div id='midiPlayerDiv3000'></div>
                    <link rel="stylesheet" href="http://artusi.xyz/music21j/css/m21.css" 
                        type="text/css" />
                    <script>
                    require.config({
                        paths: {'music21': 'http://artusi.xyz/music21j/src/music21'} 
                    }); 
                    require(['music21'], function() { 
                                   mp = new music21.miditools.MidiPlayer();
                                   mp.addPlayer('#midiPlayerDiv3000'); 
                                   mp.base64Load('data:audio/midi;base64,TVRoZAAAAAYAAQABBABNVHJrAAAATQD/AwAA4ABAiACQR1qIAIBHAACQQ1qIAIBDAACQRVqIAIBFAACQQVqIAIBBAACQPlqIAIA+AACQOVqIAIA5AACQSFqIAIBIAIgA/y8A'); 
                            });
                    </script>


.. code:: python

    sc = stream.Score()
    sc.insert(0, s.makeMeasures())
    sc.insert(0, t.makeMeasures())
    sc.show('midi')



.. raw:: html

    
                    <div id='midiPlayerDiv3393'></div>
                    <link rel="stylesheet" href="http://artusi.xyz/music21j/css/m21.css" 
                        type="text/css" />
                    <script>
                    require.config({
                        paths: {'music21': 'http://artusi.xyz/music21j/src/music21'} 
                    }); 
                    require(['music21'], function() { 
                                   mp = new music21.miditools.MidiPlayer();
                                   mp.addPlayer('#midiPlayerDiv3393'); 
                                   mp.base64Load('data:audio/midi;base64,TVRoZAAAAAYAAQACBABNVHJrAAAAVQD/AwAA4ABAAP9YBAQCGAiIAJBEWogAgEQAAJBCWogAgEIAAJBDWogAgEMAAJBBWogAgEEAAJA/WogAgD8AAJA8WogAgDwAAJBFWogAgEUAiAD/LwBNVHJrAAAAVQD/AwAA4ABAAP9YBAQCGAiIAJBHWogAgEcAAJBDWogAgEMAAJBFWogAgEUAAJBBWogAgEEAAJA+WogAgD4AAJA5WogAgDkAAJBIWogAgEgAiAD/LwA='); 
                            });
                    </script>


.. code:: python

    n = note.Note(54)
    n.show('musicxml.png', dpi=300)

.. code:: python

    allI = 0
    allM3 = 0
    for c in corpus.chorales.Iterator():
        for p in c.parts:
            lastN = None
            for n in p.recurse().getElementsByClass('Note'):
                if lastN is not None:
                    allI += 1
                    if abs(n.pitch.ps - lastN.pitch.ps) == 4:
                        allM3 += 1
                lastN = n

.. code:: python

    allI, allM3, allM3/allI




.. parsed-literal::
   :class: ipython-result

    (101088, 3770, 0.03729423868312757)


